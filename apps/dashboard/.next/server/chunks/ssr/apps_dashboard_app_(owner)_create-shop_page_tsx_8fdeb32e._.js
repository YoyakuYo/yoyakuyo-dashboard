module.exports=[56388,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(67254);function f(){let{user:a}=(0,e.useAuth)(),f=(0,d.useRouter)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)({name:"",address:"",phone:"",email:"",category_id:""});c.default.useEffect(()=>{fetch("http://localhost:3000/categories").then(a=>a.json()).then(a=>{Array.isArray(a)&&l(a)}).catch(a=>console.error("Error fetching categories:",a))},[]);let o=async b=>{if(b.preventDefault(),!a)return void j("You must be logged in to create a shop");h(!0),j(null);try{let b=await fetch("http://localhost:3000/shops",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":a.id},body:JSON.stringify(m)});if(b.ok)await b.json(),f.push("/shops");else{let a=await b.json();j(a.error||"Failed to create shop")}}catch(a){console.error("Error creating shop:",a),j("Failed to create shop. Please try again.")}finally{h(!1)}};return(0,b.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create Your Shop"}),i&&(0,b.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:i}),(0,b.jsxs)("form",{onSubmit:o,className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Shop Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{id:"name",type:"text",value:m.name,onChange:a=>n(b=>({...b,name:a.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Your shop name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{id:"address",value:m.address,onChange:a=>n(b=>({...b,address:a.target.value})),required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Full address"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,b.jsxs)("select",{id:"category_id",value:m.category_id,onChange:a=>n(b=>({...b,category_id:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select a category"}),k.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,b.jsx)("input",{id:"phone",type:"tel",value:m.phone,onChange:a=>n(b=>({...b,phone:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Phone number"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",value:m.email,onChange:a=>n(b=>({...b,email:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"shop@example.com"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"submit",disabled:g,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Creating...":"Create Shop"}),(0,b.jsx)("button",{type:"button",onClick:()=>f.back(),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=apps_dashboard_app_%28owner%29_create-shop_page_tsx_8fdeb32e._.js.map