module.exports=[14644,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(67254);a.s(["default",0,()=>{let{user:a}=(0,e.useAuth)(),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)({shop_id:"",name:"",description:"",price:0,duration:0}),[l,m]=(0,c.useState)(null),n="http://localhost:3000";(0,c.useEffect)(()=>{a&&(async()=>{try{let b={"x-user-id":a.id},c=await fetch(`${n}/services`,{headers:b});if(c.ok){let a=await c.json();g(Array.isArray(a)?a:[])}let d=await fetch(`${n}/shops`);if(d.ok){let a=await d.json(),b=Array.isArray(a)?a:[];i(b),k(a=>1!==b.length||a.shop_id?a:{...a,shop_id:b[0].id})}}catch(a){console.error("Error fetching data:",a)}})()},[n,a]);let o=a=>{let{name:b,value:c,type:d}=a.target,e="number"===d?parseFloat(c)||0:c;k(a=>({...a,[b]:e}))},p=async()=>{if(!a)return void m("You must be logged in to create a service");if(!j.shop_id||!j.name||!j.price||!j.duration)return void m("Shop, name, price, and duration are required");m(null);try{let b=await fetch(`${n}/services`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":a.id},body:JSON.stringify(j)});if(b.ok){let a=await b.json();if(a&&"object"==typeof a&&"id"in a)g([...f,a]);else{let a=await fetch(`${n}/services`);if(a.ok){let b=await a.json();g(Array.isArray(b)?b:[])}}k({shop_id:"",name:"",description:"",price:0,duration:0})}else{let a=await b.json().catch(()=>({error:"Unknown error"}));m(a.error||`Failed to create service: ${b.status}`)}}catch(a){console.error("Failed to create service:",a),m("Failed to create service. Please try again.")}};return a&&0===h.length?(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Services"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage services and pricing"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸª"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Shops Found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to create or claim a shop before you can manage services."}),(0,b.jsx)(d.default,{href:"/shops",className:"inline-block bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:"Go to Shops â†’"})]})]}):(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Services"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage services and pricing"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Create New Service"}),l&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shop *"}),(0,b.jsxs)("select",{name:"shop_id",value:j.shop_id,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Shop"}),h.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name *"}),(0,b.jsx)("input",{type:"text",name:"name",placeholder:"Service name",value:j.name,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{name:"description",placeholder:"Service description",value:j.description,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",rows:3})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($) *"}),(0,b.jsx)("input",{type:"number",name:"price",placeholder:"0.00",value:j.price,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",min:"0",step:"0.01",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes) *"}),(0,b.jsx)("input",{type:"number",name:"duration",placeholder:"Duration",value:j.duration,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",min:"1",required:!0})]}),(0,b.jsx)("button",{onClick:p,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:"Create Service"})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"All Services"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:Array.isArray(f)&&f.length>0?(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shop"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(a=>{var c;let e;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)(d.default,{href:`/shops/services/${a.id}`,className:"text-blue-600 hover:text-blue-800 font-medium hover:underline",children:a.name})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:(c=a.shop_id,(e=h.find(a=>a.id===c))?e.name:"Unknown Shop")}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600 font-semibold",children:["$",a.price]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[a.duration," min"]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)(d.default,{href:`/shops/services/${a.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View â†’"})})]},a.id)})})]}):(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("p",{className:"text-gray-500 text-lg",children:"No services found"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Create your first service to get started"})]})})]})})]})]})}])}];

//# sourceMappingURL=apps_dashboard_app_services_page_tsx_c87f24a3._.js.map