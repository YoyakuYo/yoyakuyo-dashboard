{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/supabaseClient.ts"],"sourcesContent":["// apps/dashboard/lib/supabaseClient.ts\r\n// Browser/client Supabase instance for authentication\r\n\r\nimport { createClient, SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet supabaseInstance: SupabaseClient | null = null;\r\n\r\n/**\r\n * Get or create the Supabase client instance.\r\n * Uses lazy initialization to avoid errors during module load.\r\n */\r\nexport function getSupabaseClient(): SupabaseClient {\r\n  // Return existing instance if already created\r\n  if (supabaseInstance) {\r\n    return supabaseInstance;\r\n  }\r\n\r\n  // Only check env vars in the browser (runtime)\r\n  if (typeof window !== \"undefined\") {\r\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n    const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n    if (!supabaseUrl || !supabaseAnonKey) {\r\n      // Create a dummy client that will fail gracefully when used\r\n      // This prevents the app from crashing on load\r\n      console.warn(\r\n        \"‚ö†Ô∏è Supabase environment variables are missing!\\n\" +\r\n        \"Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in apps/dashboard/.env.local\\n\" +\r\n        \"The app will continue to load, but authentication features will not work.\"\r\n      );\r\n      \r\n      // Return a client with placeholder values - it will fail when actually used\r\n      // but won't crash the app on import\r\n      supabaseInstance = createClient(\r\n        \"https://placeholder.supabase.co\",\r\n        \"placeholder-key\",\r\n        {\r\n          auth: {\r\n            persistSession: false,\r\n            autoRefreshToken: false,\r\n          },\r\n        }\r\n      );\r\n      return supabaseInstance;\r\n    }\r\n\r\n    // Create real client with actual credentials\r\n    supabaseInstance = createClient(supabaseUrl, supabaseAnonKey, {\r\n      auth: {\r\n        persistSession: true,\r\n        autoRefreshToken: true,\r\n      },\r\n    });\r\n    return supabaseInstance;\r\n  }\r\n\r\n  // During SSR/build, return a placeholder client\r\n  supabaseInstance = createClient(\r\n    \"https://placeholder.supabase.co\",\r\n    \"placeholder-key\",\r\n    {\r\n      auth: {\r\n        persistSession: false,\r\n        autoRefreshToken: false,\r\n      },\r\n    }\r\n  );\r\n  return supabaseInstance;\r\n}\r\n\r\n// Export a getter that lazily initializes the client\r\nexport const supabase = new Proxy({} as SupabaseClient, {\r\n  get(_target, prop) {\r\n    const client = getSupabaseClient();\r\n    const value = (client as any)[prop];\r\n    \r\n    // If it's a function, bind it to the client\r\n    if (typeof value === \"function\") {\r\n      return value.bind(client);\r\n    }\r\n    \r\n    return value;\r\n  },\r\n});\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,sDAAsD;;;;;;;AAEtD;;AAEA,IAAI,mBAA0C;AAMvC,SAAS;IACd,8CAA8C;IAC9C,IAAI,kBAAkB;QACpB,OAAO;IACT;IAEA,+CAA+C;IAC/C;;IAsCA,gDAAgD;IAChD,mBAAmB,IAAA,uMAAY,EAC7B,mCACA,mBACA;QACE,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;QACpB;IACF;IAEF,OAAO;AACT;AAGO,MAAM,WAAW,IAAI,MAAM,CAAC,GAAqB;IACtD,KAAI,OAAO,EAAE,IAAI;QACf,MAAM,SAAS;QACf,MAAM,QAAQ,AAAC,MAAc,CAAC,KAAK;QAEnC,4CAA4C;QAC5C,IAAI,OAAO,UAAU,YAAY;YAC/B,OAAO,MAAM,IAAI,CAAC;QACpB;QAEA,OAAO;IACT;AACF"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/useAuth.tsx"],"sourcesContent":["// apps/dashboard/lib/useAuth.tsx\r\n// Auth context and hook for Supabase authentication\r\n\r\n\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState, useCallback, useMemo, ReactNode } from \"react\";\r\nimport { User, Session, AuthError } from \"@supabase/supabase-js\";\r\nimport { supabase } from \"./supabaseClient\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  session: Session | null;\r\n  loading: boolean;\r\n  signOut: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    // Check if Supabase is properly configured\r\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n    const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n    if (!supabaseUrl || !supabaseAnonKey) {\r\n      // If env vars are missing, set loading to false and leave user as null\r\n      // This allows the app to load, but auth features won't work\r\n      console.warn(\"Supabase environment variables are missing. Authentication features are disabled.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Get initial session - wrap in try-catch to handle any errors gracefully\r\n    try {\r\n      supabase.auth.getSession().then(({ data: { session }, error }) => {\r\n        if (error) {\r\n          console.error(\"Error getting session:\", error);\r\n        }\r\n        setSession(session);\r\n        setUser(session?.user ?? null);\r\n        setLoading(false);\r\n      }).catch((error) => {\r\n        console.error(\"Error initializing auth:\", error);\r\n        setLoading(false);\r\n      });\r\n\r\n      // Listen for auth changes\r\n      try {\r\n        const {\r\n          data: { subscription },\r\n        } = supabase.auth.onAuthStateChange((_event, session) => {\r\n          setSession(session);\r\n          setUser(session?.user ?? null);\r\n          setLoading(false);\r\n        });\r\n\r\n        return () => {\r\n          try {\r\n            subscription.unsubscribe();\r\n          } catch (e) {\r\n            // Ignore unsubscribe errors\r\n          }\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error setting up auth listener:\", error);\r\n        setLoading(false);\r\n        return () => {};\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error in auth initialization:\", error);\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const signOut = useCallback(async () => {\r\n    try {\r\n      await supabase.auth.signOut();\r\n      router.push(\"/\");\r\n    } catch (error) {\r\n      console.error(\"Error signing out:\", error);\r\n      // Still redirect even if signOut fails\r\n      router.push(\"/\");\r\n    }\r\n  }, [router]);\r\n\r\n  const value = useMemo(() => ({\r\n    user,\r\n    session,\r\n    loading,\r\n    signOut,\r\n  }), [user, session, loading, signOut]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,iCAAiC;AACjC,oDAAoD;;;;;;;;AAIpD;AAEA;AACA;AALA;;;;;AAcA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,2CAA2C;QAC3C,MAAM;QACN,MAAM;QAEN;;QAQA,0EAA0E;QAC1E,IAAI;YACF,sJAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE;gBAC3D,IAAI,OAAO;oBACT,QAAQ,KAAK,CAAC,0BAA0B;gBAC1C;gBACA,WAAW;gBACX,QAAQ,SAAS,QAAQ;gBACzB,WAAW;YACb,GAAG,KAAK,CAAC,CAAC;gBACR,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,WAAW;YACb;YAEA,0BAA0B;YAC1B,IAAI;gBACF,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,sJAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;oBAC3C,WAAW;oBACX,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACb;gBAEA,OAAO;oBACL,IAAI;wBACF,aAAa,WAAW;oBAC1B,EAAE,OAAO,GAAG;oBACV,4BAA4B;oBAC9B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,mCAAmC;gBACjD,WAAW;gBACX,OAAO,KAAO;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,UAAU,IAAA,oNAAW,EAAC;QAC1B,IAAI;YACF,MAAM,sJAAQ,CAAC,IAAI,CAAC,OAAO;YAC3B,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,uCAAuC;YACvC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,QAAQ,IAAA,gNAAO,EAAC,IAAM,CAAC;YAC3B;YACA;YACA;YACA;QACF,CAAC,GAAG;QAAC;QAAM;QAAS;QAAS;KAAQ;IAErC,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/AuthGuard.tsx"],"sourcesContent":["// apps/dashboard/app/components/AuthGuard.tsx\r\n// Component to protect routes - redirects to login if not authenticated\r\n\r\n\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/lib/useAuth\";\r\n\r\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && !user) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // Will redirect\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,wEAAwE;;;;;;AAIxE;AACA;AACA;AAJA;;;;;AAMe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,+IAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,MAAM;QACT,OAAO,MAAM,gBAAgB;IAC/B;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/i18n.ts"],"sourcesContent":["// apps/dashboard/lib/i18n.ts\r\n// Simple i18n utility with cookie persistence\r\n\r\n'use client';\r\n\r\nexport type Language = 'en' | 'ja';\r\n\r\nconst COOKIE_NAME = 'yoyaku_yo_language';\r\nconst DEFAULT_LANGUAGE: Language = 'en';\r\n\r\n// Get language from cookie (client-side only)\r\nexport function getLanguage(): Language {\r\n  if (typeof window === 'undefined') return DEFAULT_LANGUAGE;\r\n  \r\n  const cookies = document.cookie.split(';');\r\n  const langCookie = cookies.find(c => c.trim().startsWith(`${COOKIE_NAME}=`));\r\n  \r\n  if (langCookie) {\r\n    const value = langCookie.split('=')[1]?.trim();\r\n    if (value === 'en' || value === 'ja') {\r\n      return value;\r\n    }\r\n  }\r\n  \r\n  return DEFAULT_LANGUAGE;\r\n}\r\n\r\n// Set language cookie\r\nexport function setLanguage(lang: Language): void {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  // Set cookie with 1 year expiration\r\n  const expires = new Date();\r\n  expires.setFullYear(expires.getFullYear() + 1);\r\n  document.cookie = `${COOKIE_NAME}=${lang}; expires=${expires.toUTCString()}; path=/; SameSite=Lax`;\r\n  \r\n  // Also set in localStorage for immediate access\r\n  localStorage.setItem(COOKIE_NAME, lang);\r\n}\r\n\r\n// Translations\r\nconst translations: Record<Language, Record<string, string>> = {\r\n  en: {\r\n    'nav.shops': 'Shops',\r\n    'nav.ownerLogin': 'Owner Login',\r\n    'nav.myShop': 'My Shop',\r\n    'nav.aiAssistant': 'AI Assistant',\r\n    'nav.logout': 'Logout',\r\n    'home.title': 'Yoyaku Yo',\r\n    'home.subtitle': 'AI-powered booking assistant for salons in Tokyo',\r\n    'home.browseShops': 'Browse Shops',\r\n    'home.ownerLogin': 'Owner Login',\r\n    'booking.title': 'Book an appointment',\r\n    'booking.service': 'Service',\r\n    'booking.staff': 'Staff (Optional)',\r\n    'booking.date': 'Date',\r\n    'booking.time': 'Time',\r\n    'booking.yourName': 'Your Name',\r\n    'booking.yourEmail': 'Your Email',\r\n    'booking.phone': 'Phone (Optional)',\r\n    'booking.submit': 'Book Now',\r\n    'booking.success': 'Booking request submitted successfully!',\r\n    'chat.title': 'Chat with AI assistant',\r\n    'chat.placeholder': 'Type your message...',\r\n    'chat.send': 'Send',\r\n    'categories.all': 'All Categories',\r\n    'categories.barbershop': 'Barbershop',\r\n    'categories.beauty_salon': 'Beauty Salon',\r\n    'categories.eyelash': 'Eyelash',\r\n    'categories.general_salon': 'General Salon',\r\n    'categories.hair_salon': 'Hair Salon',\r\n    'categories.nail_salon': 'Nail Salon',\r\n    'categories.spa_massage': 'Spa & Massage',\r\n    'categories.unknown': 'Unknown',\r\n    'shops.search': 'Search by name',\r\n    'shops.categories': 'Categories',\r\n    'shops.found': 'Found',\r\n    'shops.shop': 'shop',\r\n    'shops.shops': 'shops',\r\n    'shops.viewDetails': 'View details',\r\n    'shops.loading': 'Loading shops...',\r\n    'shops.noShops': 'No shops found',\r\n    'shops.tryAdjusting': 'Try adjusting your search or category filter',\r\n    'shops.notAvailable': 'No shops are available at the moment',\r\n  },\r\n  ja: {\r\n    'nav.shops': 'Â∫óËàó',\r\n    'nav.ownerLogin': '„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥',\r\n    'nav.myShop': '„Éû„Ç§„Ç∑„Éß„ÉÉ„Éó',\r\n    'nav.aiAssistant': 'AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà',\r\n    'nav.logout': '„É≠„Ç∞„Ç¢„Ç¶„Éà',\r\n    'home.title': 'Yoyaku Yo',\r\n    'home.subtitle': 'Êù±‰∫¨„ÅÆ„Çµ„É≠„É≥Âêë„ÅëAI‰∫àÁ¥Ñ„Ç¢„Ç∑„Çπ„Çø„É≥„Éà',\r\n    'home.browseShops': 'Â∫óËàó„ÇíÊé¢„Åô',\r\n    'home.ownerLogin': '„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥',\r\n    'booking.title': '‰∫àÁ¥Ñ„Åô„Çã',\r\n    'booking.service': '„Çµ„Éº„Éì„Çπ',\r\n    'booking.staff': '„Çπ„Çø„ÉÉ„ÉïÔºà‰ªªÊÑèÔºâ',\r\n    'booking.date': 'Êó•‰ªò',\r\n    'booking.time': 'ÊôÇÈñì',\r\n    'booking.yourName': '„ÅäÂêçÂâç',\r\n    'booking.yourEmail': '„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ',\r\n    'booking.phone': 'ÈõªË©±Áï™Âè∑Ôºà‰ªªÊÑèÔºâ',\r\n    'booking.submit': '‰∫àÁ¥Ñ„Åô„Çã',\r\n    'booking.success': '‰∫àÁ¥Ñ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÈÄÅ‰ø°„Åï„Çå„Åæ„Åó„ÅüÔºÅ',\r\n    'chat.title': 'AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÉÅ„É£„ÉÉ„Éà',\r\n    'chat.placeholder': '„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...',\r\n    'chat.send': 'ÈÄÅ‰ø°',\r\n    'categories.all': '„Åô„Åπ„Å¶„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº',\r\n    'categories.barbershop': 'ÁêÜÈ´™Â∫ó',\r\n    'categories.beauty_salon': 'ÁæéÂÆπ„Çµ„É≠„É≥',\r\n    'categories.eyelash': '„Åæ„Å§„Åí',\r\n    'categories.general_salon': 'Á∑èÂêà„Çµ„É≠„É≥',\r\n    'categories.hair_salon': '„Éò„Ç¢„Çµ„É≠„É≥',\r\n    'categories.nail_salon': '„Éç„Ç§„É´„Çµ„É≠„É≥',\r\n    'categories.spa_massage': '„Çπ„Éë„Éª„Éû„ÉÉ„Çµ„Éº„Ç∏',\r\n    'categories.unknown': '‰∏çÊòé',\r\n    'shops.search': 'ÂêçÂâç„ÅßÊ§úÁ¥¢',\r\n    'shops.categories': '„Ç´„ÉÜ„Ç¥„É™„Éº',\r\n    'shops.found': 'Ë¶ã„Å§„Åã„Çä„Åæ„Åó„Åü',\r\n    'shops.shop': 'Â∫óËàó',\r\n    'shops.shops': 'Â∫óËàó',\r\n    'shops.viewDetails': 'Ë©≥Á¥∞„ÇíË¶ã„Çã',\r\n    'shops.loading': 'Â∫óËàó„ÇíË™≠„ÅøËæº„Åø‰∏≠...',\r\n    'shops.noShops': 'Â∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü',\r\n    'shops.tryAdjusting': 'Ê§úÁ¥¢„Åæ„Åü„ÅØ„Ç´„ÉÜ„Ç¥„É™„Éº„Éï„Ç£„É´„Çø„Éº„ÇíË™øÊï¥„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ',\r\n    'shops.notAvailable': 'ÁèæÂú®Âà©Áî®ÂèØËÉΩ„Å™Â∫óËàó„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì',\r\n  },\r\n};\r\n\r\nexport function t(key: string, lang: Language = getLanguage()): string {\r\n  return translations[lang]?.[key] || key;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,6BAA6B;AAC7B,8CAA8C;;;;;;;;;AAE9C;AAIA,MAAM,cAAc;AACpB,MAAM,mBAA6B;AAG5B,SAAS;IACd,wCAAmC,OAAO;;;IAE1C,MAAM;IACN,MAAM;AAUR;AAGO,SAAS,YAAY,IAAc;IACxC,wCAAmC;;;IAEnC,oCAAoC;IACpC,MAAM;AAMR;AAEA,eAAe;AACf,MAAM,eAAyD;IAC7D,IAAI;QACF,aAAa;QACb,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,cAAc;QACd,cAAc;QACd,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,iBAAiB;QACjB,mBAAmB;QACnB,iBAAiB;QACjB,gBAAgB;QAChB,gBAAgB;QAChB,oBAAoB;QACpB,qBAAqB;QACrB,iBAAiB;QACjB,kBAAkB;QAClB,mBAAmB;QACnB,cAAc;QACd,oBAAoB;QACpB,aAAa;QACb,kBAAkB;QAClB,yBAAyB;QACzB,2BAA2B;QAC3B,sBAAsB;QACtB,4BAA4B;QAC5B,yBAAyB;QACzB,yBAAyB;QACzB,0BAA0B;QAC1B,sBAAsB;QACtB,gBAAgB;QAChB,oBAAoB;QACpB,eAAe;QACf,cAAc;QACd,eAAe;QACf,qBAAqB;QACrB,iBAAiB;QACjB,iBAAiB;QACjB,sBAAsB;QACtB,sBAAsB;IACxB;IACA,IAAI;QACF,aAAa;QACb,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,cAAc;QACd,cAAc;QACd,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,iBAAiB;QACjB,mBAAmB;QACnB,iBAAiB;QACjB,gBAAgB;QAChB,gBAAgB;QAChB,oBAAoB;QACpB,qBAAqB;QACrB,iBAAiB;QACjB,kBAAkB;QAClB,mBAAmB;QACnB,cAAc;QACd,oBAAoB;QACpB,aAAa;QACb,kBAAkB;QAClB,yBAAyB;QACzB,2BAA2B;QAC3B,sBAAsB;QACtB,4BAA4B;QAC5B,yBAAyB;QACzB,yBAAyB;QACzB,0BAA0B;QAC1B,sBAAsB;QACtB,gBAAgB;QAChB,oBAAoB;QACpB,eAAe;QACf,cAAc;QACd,eAAe;QACf,qBAAqB;QACrB,iBAAiB;QACjB,iBAAiB;QACjB,sBAAsB;QACtB,sBAAsB;IACxB;AACF;AAEO,SAAS,EAAE,GAAW,EAAE,OAAiB,aAAa;IAC3D,OAAO,YAAY,CAAC,KAAK,EAAE,CAAC,IAAI,IAAI;AACtC"}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/LanguageToggle.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { setLanguage, getLanguage } from '@/lib/i18n';\r\n\r\nexport default function LanguageToggle() {\r\n  // Start with null to avoid hydration mismatch - will be set after mount\r\n  const [currentLang, setCurrentLang] = useState<'en' | 'ja' | null>(null);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  // Only read language after component mounts (client-side only)\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    const lang = getLanguage();\r\n    setCurrentLang(lang);\r\n  }, []);\r\n\r\n  const handleLanguageChange = (lang: 'en' | 'ja') => {\r\n    if (lang === currentLang) return; // Don't do anything if already selected\r\n    \r\n    setLanguage(lang);\r\n    setCurrentLang(lang);\r\n    // Trigger the languageChanged event that NextIntlProvider listens to\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(new CustomEvent('languageChanged'));\r\n      // Small delay to ensure state updates, then reload\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  // During SSR and before mount, render with default 'en' styling to avoid mismatch\r\n  // After mount, use the actual language\r\n  const activeLang = mounted ? currentLang : 'en';\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1 border border-gray-300 rounded-lg p-0.5 bg-white shadow-sm\">\r\n      <button\r\n        onClick={() => handleLanguageChange('en')}\r\n        className={`px-3 py-1.5 rounded text-sm font-medium transition-colors ${\r\n          activeLang === 'en'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        aria-label=\"Switch to English\"\r\n        type=\"button\"\r\n      >\r\n        EN\r\n      </button>\r\n      <button\r\n        onClick={() => handleLanguageChange('ja')}\r\n        className={`px-3 py-1.5 rounded text-sm font-medium transition-colors ${\r\n          activeLang === 'ja'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        aria-label=\"Switch to Japanese\"\r\n        type=\"button\"\r\n      >\r\n        Êó•Êú¨Ë™û\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,wEAAwE;IACxE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAqB;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,+DAA+D;IAC/D,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,MAAM,OAAO,IAAA,+IAAW;QACxB,eAAe;IACjB,GAAG,EAAE;IAEL,MAAM,uBAAuB,CAAC;QAC5B,IAAI,SAAS,aAAa,QAAQ,wCAAwC;QAE1E,IAAA,+IAAW,EAAC;QACZ,eAAe;QACf,qEAAqE;QACrE;;IAOF;IAEA,kFAAkF;IAClF,uCAAuC;IACvC,MAAM,aAAa,UAAU,cAAc;IAE3C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,SAAS,IAAM,qBAAqB;gBACpC,WAAW,CAAC,0DAA0D,EACpE,eAAe,OACX,qCACA,mCACJ;gBACF,cAAW;gBACX,MAAK;0BACN;;;;;;0BAGD,8OAAC;gBACC,SAAS,IAAM,qBAAqB;gBACpC,WAAW,CAAC,0DAA0D,EACpE,eAAe,OACX,qCACA,mCACJ;gBACF,cAAW;gBACX,MAAK;0BACN;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/Header.tsx"],"sourcesContent":["// apps/dashboard/app/components/Header.tsx\r\n\r\n\"use client\";\r\nimport React from 'react';\r\nimport { useTranslations } from 'next-intl';\r\nimport LanguageToggle from './LanguageToggle';\r\n\r\nconst Header = React.memo(() => {\r\n  const t = useTranslations();\r\n  return (\r\n    <header className=\"fixed top-0 left-0 right-0 h-16 bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg z-50\">\r\n      <div className=\"h-full flex items-center justify-between px-6\">\r\n        <h1 className=\"text-2xl font-bold\">{t('nav.dashboard')}</h1>\r\n        <LanguageToggle />\r\n      </div>\r\n    </header>\r\n  );\r\n});\r\n\r\nHeader.displayName = 'Header';\r\n\r\nexport default Header;\r\n\r\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;AAG3C;AACA;AACA;AAHA;;;;;AAKA,MAAM,uBAAS,gNAAK,CAAC,IAAI,CAAC;IACxB,MAAM,IAAI,IAAA,yMAAe;IACzB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAsB,EAAE;;;;;;8BACtC,8OAAC,oKAAc;;;;;;;;;;;;;;;;AAIvB;AAEA,OAAO,WAAW,GAAG;uCAEN"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/BookingNotificationContext.tsx"],"sourcesContent":["// apps/dashboard/app/components/BookingNotificationContext.tsx\r\n// Context for managing booking notification badge count\r\n\r\n\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\ninterface BookingNotificationContextType {\r\n  unreadBookingsCount: number;\r\n  setUnreadBookingsCount: (count: number) => void;\r\n}\r\n\r\nconst BookingNotificationContext = createContext<BookingNotificationContextType | undefined>(undefined);\r\n\r\nexport function BookingNotificationProvider({ children }: { children: ReactNode }) {\r\n  const [unreadBookingsCount, setUnreadBookingsCount] = useState(0);\r\n\r\n  return (\r\n    <BookingNotificationContext.Provider\r\n      value={{\r\n        unreadBookingsCount,\r\n        setUnreadBookingsCount,\r\n      }}\r\n    >\r\n      {children}\r\n    </BookingNotificationContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useBookingNotifications() {\r\n  const context = useContext(BookingNotificationContext);\r\n  if (context === undefined) {\r\n    throw new Error('useBookingNotifications must be used within a BookingNotificationProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,+DAA+D;AAC/D,wDAAwD;;;;;;;;AAIxD;AAFA;;;AASA,MAAM,2CAA6B,IAAA,sNAAa,EAA6C;AAEtF,SAAS,4BAA4B,EAAE,QAAQ,EAA2B;IAC/E,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,iNAAQ,EAAC;IAE/D,qBACE,8OAAC,2BAA2B,QAAQ;QAClC,OAAO;YACL;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/Sidebar.tsx"],"sourcesContent":["// apps/dashboard/app/components/Sidebar.tsx\r\n\r\n\"use client\";\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useAuth } from '@/lib/useAuth';\r\nimport { useTranslations } from 'next-intl';\r\nimport { getSupabaseClient } from '@/lib/supabaseClient';\r\nimport { useBookingNotifications } from './BookingNotificationContext';\r\n\r\nconst Sidebar = React.memo(() => {\r\n  const pathname = usePathname();\r\n  const { signOut, user } = useAuth();\r\n  const t = useTranslations();\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const subscriptionRef = useRef<any>(null);\r\n  const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n  const { unreadBookingsCount } = useBookingNotifications();\r\n\r\n  // Load unread summary on mount\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      loadUnreadSummary();\r\n      subscribeToUnreadUpdates();\r\n    }\r\n\r\n    return () => {\r\n      if (subscriptionRef.current) {\r\n        const supabase = getSupabaseClient();\r\n        supabase.removeChannel(subscriptionRef.current);\r\n      }\r\n    };\r\n  }, [user]);\r\n\r\n  const loadUnreadSummary = async () => {\r\n    try {\r\n      const res = await fetch(`${apiUrl}/messages/owner/unread-summary`, {\r\n        headers: {\r\n          'x-user-id': user?.id || '',\r\n        },\r\n      });\r\n\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setUnreadCount(data.unreadCount || 0);\r\n      }\r\n    } catch (error: any) {\r\n      // Silently handle connection errors (API server not running)\r\n      if (error?.message?.includes('Failed to fetch') || error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n        // API server is not running - this is expected during development\r\n        setUnreadCount(0);\r\n        return;\r\n      }\r\n      // Only log unexpected errors\r\n      console.error('Error loading unread summary:', error);\r\n    }\r\n  };\r\n\r\n  const subscribeToUnreadUpdates = () => {\r\n    if (!user?.id) return;\r\n\r\n    const supabase = getSupabaseClient();\r\n    \r\n    // Subscribe to shop_messages for the owner's shops\r\n    // We'll need to get shop IDs first, but for now, subscribe to all and filter client-side\r\n    const channel = supabase\r\n      .channel('unread_messages_updates')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'INSERT',\r\n          schema: 'public',\r\n          table: 'shop_messages',\r\n          filter: 'sender_type=eq.customer',\r\n        },\r\n        () => {\r\n          // Reload unread summary when new customer message arrives\r\n          loadUnreadSummary();\r\n        }\r\n      )\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'UPDATE',\r\n          schema: 'public',\r\n          table: 'shop_messages',\r\n          filter: 'read_by_owner=eq.true',\r\n        },\r\n        () => {\r\n          // Reload unread summary when messages are marked as read\r\n          loadUnreadSummary();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    subscriptionRef.current = channel;\r\n  };\r\n\r\n  const navItems = [\r\n    { href: '/shops', label: t('nav.myShop'), icon: 'üè™' },\r\n    { href: '/analytics', label: t('analytics.title'), icon: 'üìä' },\r\n    { href: '/assistant', label: t('nav.aiAssistant'), icon: 'ü§ñ', badge: unreadCount > 0 ? unreadCount : undefined },\r\n    { href: '/bookings', label: t('nav.bookings'), icon: 'üìÖ', badge: unreadBookingsCount > 0 ? unreadBookingsCount : undefined },\r\n    { href: '/settings', label: 'Settings', icon: '‚öôÔ∏è' },\r\n  ];\r\n\r\n  return (\r\n    <aside className=\"hidden lg:block w-64 bg-slate-900 text-white min-h-screen fixed left-0 top-0 pt-16\">\r\n      <nav className=\"p-4 flex flex-col h-full\">\r\n        <ul className=\"space-y-1 flex-1\">\r\n          {navItems.map((item) => {\r\n            const isActive = pathname === item.href || (item.href !== '/' && pathname?.startsWith(item.href));\r\n            return (\r\n              <li key={item.href}>\r\n                <Link\r\n                  href={item.href}\r\n                  className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors relative ${\r\n                    isActive\r\n                      ? 'bg-blue-600 text-white font-bold'\r\n                      : 'text-gray-300 hover:bg-slate-800 hover:text-white'\r\n                  }`}\r\n                >\r\n                  {isActive && (\r\n                    <span className=\"absolute left-0 top-0 bottom-0 w-1 bg-blue-400 rounded-r\"></span>\r\n                  )}\r\n                  <span className=\"text-xl\">{item.icon}</span>\r\n                  <span className={`font-medium ${isActive ? 'font-bold' : ''}`}>{item.label}</span>\r\n                  {item.badge !== undefined && item.badge > 0 && (\r\n                    <span className=\"ml-auto bg-[#3B82F6] text-white text-xs font-semibold rounded-full px-2 py-0.5 min-w-[20px] text-center\">\r\n                      {item.badge}\r\n                    </span>\r\n                  )}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n        \r\n        {/* User info and logout */}\r\n        <div className=\"mt-auto pt-4 border-t border-gray-700\">\r\n          {user && (\r\n            <div className=\"px-4 py-2 mb-2\">\r\n              <p className=\"text-sm text-gray-400 truncate\" title={user.email || undefined}>\r\n                {user.email}\r\n              </p>\r\n            </div>\r\n          )}\r\n          <button\r\n            onClick={signOut}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-800 hover:text-white transition-colors\"\r\n          >\r\n            <span className=\"text-xl\">üö™</span>\r\n            <span className=\"font-medium\">{t('nav.logout')}</span>\r\n          </button>\r\n        </div>\r\n      </nav>\r\n    </aside>\r\n  );\r\n});\r\n\r\nSidebar.displayName = 'Sidebar';\r\n\r\nexport default Sidebar;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/PublicLayoutWrapper.tsx"],"sourcesContent":["// apps/dashboard/app/components/PublicLayoutWrapper.tsx\r\n// Wrapper that applies public layout to all public routes\r\n// This is used in the root layout to ensure all public routes get the header\r\n\r\n\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport LanguageToggle from \"./LanguageToggle\";\r\n\r\nexport default function PublicLayoutWrapper({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Global Public Header - appears on ALL public pages */}\r\n      <header className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <Link href=\"/\" className=\"text-3xl font-bold text-blue-600 hover:text-blue-700\">\r\n              Yoyaku Yo\r\n            </Link>\r\n            <nav className=\"flex items-center gap-4\">\r\n              <LanguageToggle />\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main>\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,wDAAwD;AACxD,0DAA0D;AAC1D,6EAA6E;;;;;;AAI7E;AACA;AAHA;;;;AAKe,SAAS,oBAAoB,EAC1C,QAAQ,EAGT;IACC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uKAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAuD;;;;;;0CAGhF,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,oKAAc;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOvB,8OAAC;0BACE;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/OwnerPowerBot.tsx"],"sourcesContent":["// apps/dashboard/app/components/OwnerPowerBot.tsx\r\n// Fixed bottom-right chat bubble for owner power bot\r\n\r\n\"use client\";\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '@/lib/useAuth';\r\nimport { getSupabaseClient } from '@/lib/supabaseClient';\r\n\r\ninterface Message {\r\n  id: string;\r\n  content: string;\r\n  sender: 'owner' | 'bot';\r\n  timestamp: Date;\r\n}\r\n\r\nexport default function OwnerPowerBot() {\r\n  const { user } = useAuth();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [ownerLanguage, setOwnerLanguage] = useState('en');\r\n  const [threadId, setThreadId] = useState<string | null>(null);\r\n  const [loadingThread, setLoadingThread] = useState(true);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const subscriptionRef = useRef<any>(null);\r\n  const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\n  // Load owner language\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      fetch(`${apiUrl}/users/me`, {\r\n        headers: { 'x-user-id': user.id },\r\n      })\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return null;\r\n        })\r\n        .then(data => {\r\n          if (data) {\r\n            setOwnerLanguage(data.preferredLanguage || 'en');\r\n          }\r\n        })\r\n        .catch((error: any) => {\r\n          // Silently handle connection errors (API server not running)\r\n          if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n            console.error('Error loading owner language:', error);\r\n          }\r\n        });\r\n    }\r\n  }, [user, apiUrl]);\r\n\r\n  // Get shop ID and owner thread\r\n  const [shopId, setShopId] = useState<string | null>(null);\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      fetch(`${apiUrl}/shops`, {\r\n        headers: { 'x-user-id': user.id },\r\n      })\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return null;\r\n        })\r\n        .then(shops => {\r\n          if (shops && Array.isArray(shops) && shops.length > 0) {\r\n            const firstShopId = shops[0].id;\r\n            setShopId(firstShopId);\r\n            \r\n            // Get or create owner thread for this shop\r\n            fetch(`${apiUrl}/owner/thread?shopId=${firstShopId}`, {\r\n              headers: { 'x-user-id': user.id },\r\n            })\r\n              .then(res => {\r\n                if (res.ok) {\r\n                  return res.json();\r\n                }\r\n                return null;\r\n              })\r\n              .then(data => {\r\n                if (data?.threadId) {\r\n                  setThreadId(data.threadId);\r\n                  // Load thread messages\r\n                  loadThreadMessages(data.threadId);\r\n                }\r\n              })\r\n              .catch((error: any) => {\r\n                // Silently handle connection errors\r\n                if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n                  console.error('Error loading owner thread:', error);\r\n                }\r\n              })\r\n              .finally(() => {\r\n                setLoadingThread(false);\r\n              });\r\n          } else {\r\n            setLoadingThread(false);\r\n          }\r\n        })\r\n        .catch((error: any) => {\r\n          // Silently handle connection errors (API server not running)\r\n          if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n            console.error('Error loading shops:', error);\r\n          }\r\n          setLoadingThread(false);\r\n        });\r\n    } else {\r\n      setLoadingThread(false);\r\n    }\r\n  }, [user, apiUrl]);\r\n\r\n  // Load thread messages\r\n  const loadThreadMessages = async (threadIdToLoad: string) => {\r\n    try {\r\n      const res = await fetch(`${apiUrl}/messages/thread/${threadIdToLoad}`, {\r\n        headers: { 'x-user-id': user?.id || '' },\r\n      });\r\n      if (res.ok) {\r\n        const threadMessages = await res.json();\r\n        // Convert to local Message format\r\n        const convertedMessages: Message[] = (Array.isArray(threadMessages) ? threadMessages : []).map((msg: any) => ({\r\n          id: msg.id,\r\n          content: msg.content,\r\n          sender: msg.senderType === 'owner' ? 'owner' : 'bot',\r\n          timestamp: new Date(msg.createdAt),\r\n        }));\r\n        setMessages(convertedMessages);\r\n      }\r\n    } catch (error: any) {\r\n      // Silently handle connection errors\r\n      if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n        console.error('Error loading thread messages:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Subscribe to real-time messages for owner thread\r\n  useEffect(() => {\r\n    if (threadId && isOpen) {\r\n      const supabase = getSupabaseClient();\r\n      \r\n      const channel = supabase\r\n        .channel(`owner_messages:thread_id=eq.${threadId}`)\r\n        .on(\r\n          'postgres_changes',\r\n          {\r\n            event: 'INSERT',\r\n            schema: 'public',\r\n            table: 'shop_messages',\r\n            filter: `thread_id=eq.${threadId}`,\r\n          },\r\n          (payload: any) => {\r\n            const newMessage = payload.new;\r\n            if (newMessage && newMessage.thread_id === threadId) {\r\n              // Check if message already exists\r\n              setMessages((prev) => {\r\n                const exists = prev.some((msg) => msg.id === newMessage.id);\r\n                if (exists) return prev;\r\n                \r\n                return [\r\n                  ...prev,\r\n                  {\r\n                    id: newMessage.id,\r\n                    content: newMessage.content,\r\n                    sender: newMessage.sender_type === 'owner' ? 'owner' : 'bot',\r\n                    timestamp: new Date(newMessage.created_at),\r\n                  },\r\n                ];\r\n              });\r\n            }\r\n          }\r\n        )\r\n        .subscribe();\r\n\r\n      subscriptionRef.current = channel;\r\n\r\n      return () => {\r\n        if (subscriptionRef.current) {\r\n          supabase.removeChannel(subscriptionRef.current);\r\n        }\r\n      };\r\n    }\r\n  }, [threadId, isOpen]);\r\n\r\n  // Load messages when chat opens\r\n  useEffect(() => {\r\n    if (isOpen && threadId && messages.length === 0) {\r\n      loadThreadMessages(threadId);\r\n    }\r\n  }, [isOpen, threadId]);\r\n\r\n  // Scroll to bottom\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [messages, isOpen]);\r\n\r\n  // Send command or chat message\r\n  const handleSend = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!input.trim() || loading || !shopId) return;\r\n\r\n    const command = input.trim();\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    // Add owner message optimistically (will be replaced by real message from DB via real-time)\r\n    const tempOwnerMsgId = `temp_${Date.now()}`;\r\n    const ownerMsg: Message = {\r\n      id: tempOwnerMsgId,\r\n      content: command,\r\n      sender: 'owner',\r\n      timestamp: new Date(),\r\n    };\r\n    setMessages(prev => [...prev, ownerMsg]);\r\n\r\n    try {\r\n      // Build conversation history for context (last 10 messages)\r\n      const conversationHistory = messages\r\n        .slice(-10)\r\n        .map(msg => ({\r\n          role: msg.sender === 'owner' ? 'user' as const : 'assistant' as const,\r\n          content: msg.content,\r\n        }));\r\n\r\n      // Parse and execute command OR chat\r\n      const res = await fetch(`${apiUrl}/owner/command`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-user-id': user?.id || '',\r\n        },\r\n        body: JSON.stringify({\r\n          shopId,\r\n          command,\r\n          ownerLanguage,\r\n          conversationHistory, // Send conversation history for context\r\n          threadId: threadId, // Include thread ID to save messages\r\n        }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        \r\n        // Update threadId if returned (for new threads)\r\n        if (data.threadId && !threadId) {\r\n          setThreadId(data.threadId);\r\n        }\r\n        \r\n        // Add bot response optimistically (will be replaced by real message from DB via real-time)\r\n        const tempBotMsgId = `temp_${Date.now() + 1}`;\r\n        const botMsg: Message = {\r\n          id: tempBotMsgId,\r\n          content: data.message || 'Done!',\r\n          sender: 'bot',\r\n          timestamp: new Date(),\r\n        };\r\n        setMessages(prev => [...prev, botMsg]);\r\n        \r\n        // Real-time subscription will replace optimistic messages with real ones from DB\r\n        // Remove temp messages after a delay if they weren't replaced\r\n        setTimeout(() => {\r\n          setMessages(prev => prev.filter(msg => !msg.id.startsWith('temp_')));\r\n          // Reload to get all real messages\r\n          if (data.threadId || threadId) {\r\n            loadThreadMessages(data.threadId || threadId!);\r\n          }\r\n        }, 1000);\r\n      } else {\r\n        // Remove optimistic owner message on error\r\n        setMessages(prev => prev.filter(msg => msg.id !== tempOwnerMsgId));\r\n        \r\n        const errorData = await res.json().catch(() => ({}));\r\n        const errorMsg: Message = {\r\n          id: (Date.now() + 1).toString(),\r\n          content: `Error: ${errorData.error || errorData.message || 'Failed to execute command'}`,\r\n          sender: 'bot',\r\n          timestamp: new Date(),\r\n        };\r\n        setMessages(prev => [...prev, errorMsg]);\r\n      }\r\n    } catch (error: any) {\r\n      // Remove optimistic owner message on error\r\n      setMessages(prev => prev.filter(msg => msg.id !== tempOwnerMsgId));\r\n      \r\n      // Handle connection errors gracefully\r\n      if (error?.message?.includes('Failed to fetch') || error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n        const errorMsg: Message = {\r\n          id: (Date.now() + 1).toString(),\r\n          content: 'Error: API server is not running. Please start the API server.',\r\n          sender: 'bot',\r\n          timestamp: new Date(),\r\n        };\r\n        setMessages(prev => [...prev, errorMsg]);\r\n      } else {\r\n        console.error('Error executing command/chat:', error);\r\n        const errorMsg: Message = {\r\n          id: (Date.now() + 1).toString(),\r\n          content: 'Error: Could not execute command or chat',\r\n          sender: 'bot',\r\n          timestamp: new Date(),\r\n        };\r\n        setMessages(prev => [...prev, errorMsg]);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Get bot title in owner's language\r\n  const botTitle = ownerLanguage === 'ja' ? 'AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà' : 'AI Assistant';\r\n\r\n  return (\r\n    <>\r\n      {/* Chat Bubble Button */}\r\n      {!isOpen && (\r\n        <button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50 group\"\r\n          aria-label=\"Open AI Assistant\"\r\n        >\r\n          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n          </svg>\r\n          <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse\"></span>\r\n        </button>\r\n      )}\r\n\r\n      {/* Chat Window */}\r\n      {isOpen && (\r\n        <div className=\"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-xl shadow-2xl border border-gray-200 flex flex-col z-50\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-3 rounded-t-xl flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-3 h-3 bg-green-400 rounded-full animate-pulse\"></div>\r\n              <h3 className=\"font-bold\">{botTitle}</h3>\r\n            </div>\r\n            <button\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"text-white hover:text-gray-200 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50\">\r\n            {messages.length === 0 && (\r\n              <div className=\"text-center text-gray-500 text-sm py-8\">\r\n                <p className=\"font-medium mb-2\">Chat with AI or give commands:</p>\r\n                <ul className=\"text-left space-y-1 text-xs\">\r\n                  <li>‚Ä¢ Commands: \"Cancel Mario X44's booking\"</li>\r\n                  <li>‚Ä¢ Commands: \"Close salon August 10-16\"</li>\r\n                  <li>‚Ä¢ Chat: \"How many bookings today?\"</li>\r\n                  <li>‚Ä¢ Chat: \"What's the weather?\"</li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n            {messages.map((msg) => (\r\n              <div\r\n                key={msg.id}\r\n                className={`flex ${msg.sender === 'owner' ? 'justify-end' : 'justify-start'}`}\r\n              >\r\n                <div\r\n                  className={`max-w-[80%] rounded-lg px-3 py-2 ${\r\n                    msg.sender === 'owner'\r\n                      ? 'bg-blue-600 text-white'\r\n                      : 'bg-white text-gray-900 border border-gray-200'\r\n                  }`}\r\n                >\r\n                  <p className=\"text-sm\">{msg.content}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Input */}\r\n          <div className=\"border-t border-gray-200 p-3 bg-white rounded-b-xl\">\r\n            <form onSubmit={handleSend} className=\"flex gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                placeholder=\"Type a command or chat...\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || !input.trim()}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\r\n              >\r\n                {loading ? '...' : '‚Üí'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1425, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/useBookingNotifications.ts"],"sourcesContent":["// apps/dashboard/lib/useBookingNotifications.ts\r\n// Hook for subscribing to booking notifications via Supabase Realtime\r\n\r\n\"use client\";\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\nimport { useAuth } from './useAuth';\r\nimport { getSupabaseClient } from './supabaseClient';\r\nimport { useBookingNotifications } from '../app/components/BookingNotificationContext';\r\n\r\nconst apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nexport function useBookingNotificationsHook() {\r\n  const { user } = useAuth();\r\n  const { setUnreadBookingsCount } = useBookingNotifications();\r\n  const subscriptionRef = useRef<any>(null);\r\n  const shopIdsRef = useRef<string[]>([]);\r\n\r\n  const reloadPendingCount = useCallback(async () => {\r\n    if (!user?.id) return;\r\n\r\n    try {\r\n      const bookingsRes = await fetch(`${apiUrl}/bookings`, {\r\n        headers: {\r\n          'x-user-id': user.id,\r\n        },\r\n      });\r\n\r\n      if (bookingsRes.ok) {\r\n        const bookingsData = await bookingsRes.json();\r\n        const bookings = Array.isArray(bookingsData) ? bookingsData : [];\r\n        const pendingCount = bookings.filter((booking: any) => booking.status === 'pending').length;\r\n        setUnreadBookingsCount(pendingCount);\r\n      }\r\n      } catch (error: any) {\r\n        // Silently handle connection errors (API server not running)\r\n        if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n          console.error('Error reloading pending bookings count:', error);\r\n        }\r\n        setUnreadBookingsCount(0);\r\n      }\r\n  }, [user?.id, setUnreadBookingsCount]);\r\n\r\n  const subscribeToBookingUpdates = useCallback(() => {\r\n    if (!user?.id) return;\r\n\r\n    const supabase = getSupabaseClient();\r\n\r\n    // Subscribe to bookings table for INSERT and UPDATE events\r\n    const channel = supabase\r\n      .channel('booking_notifications')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'INSERT',\r\n          schema: 'public',\r\n          table: 'bookings',\r\n        },\r\n        async (payload: any) => {\r\n          const newBooking = payload.new;\r\n          \r\n          // Check if booking belongs to owner's shop and is pending\r\n          if (newBooking && newBooking.status === 'pending') {\r\n            // If we have shop IDs cached, check immediately\r\n            if (shopIdsRef.current.length > 0 && shopIdsRef.current.includes(newBooking.shop_id)) {\r\n              // Reload count to ensure accuracy\r\n              await reloadPendingCount();\r\n            } else {\r\n              // Otherwise, reload count to be safe\r\n              await reloadPendingCount();\r\n            }\r\n          }\r\n        }\r\n      )\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'UPDATE',\r\n          schema: 'public',\r\n          table: 'bookings',\r\n        },\r\n        async (payload: any) => {\r\n          const updatedBooking = payload.new;\r\n          const oldBooking = payload.old;\r\n\r\n          // If status changed from pending to something else, decrement\r\n          if (oldBooking?.status === 'pending' && updatedBooking?.status !== 'pending') {\r\n            // Reload count to ensure accuracy\r\n            await reloadPendingCount();\r\n          }\r\n          // If status changed to pending, reload count\r\n          else if (oldBooking?.status !== 'pending' && updatedBooking?.status === 'pending') {\r\n            await reloadPendingCount();\r\n          }\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    subscriptionRef.current = channel;\r\n  }, [user?.id, reloadPendingCount, setUnreadBookingsCount]);\r\n\r\n  // Load initial pending bookings count and get shop IDs\r\n  useEffect(() => {\r\n    if (!user?.id) {\r\n      setUnreadBookingsCount(0);\r\n      return;\r\n    }\r\n\r\n    const loadPendingBookingsCount = async () => {\r\n      try {\r\n        // First, get shop IDs for this owner\r\n        const shopsRes = await fetch(`${apiUrl}/shops`, {\r\n          headers: {\r\n            'x-user-id': user.id,\r\n          },\r\n        });\r\n\r\n        if (shopsRes.ok) {\r\n          const shopsData = await shopsRes.json();\r\n          const shops = Array.isArray(shopsData) ? shopsData : [];\r\n          shopIdsRef.current = shops.map((shop: any) => shop.id);\r\n\r\n          if (shopIdsRef.current.length === 0) {\r\n            setUnreadBookingsCount(0);\r\n            return;\r\n          }\r\n\r\n          // Get pending bookings count\r\n          const bookingsRes = await fetch(`${apiUrl}/bookings`, {\r\n            headers: {\r\n              'x-user-id': user.id,\r\n            },\r\n          });\r\n\r\n          if (bookingsRes.ok) {\r\n            const bookingsData = await bookingsRes.json();\r\n            const bookings = Array.isArray(bookingsData) ? bookingsData : [];\r\n            const pendingCount = bookings.filter((booking: any) => booking.status === 'pending').length;\r\n            setUnreadBookingsCount(pendingCount);\r\n          }\r\n        }\r\n      } catch (error: any) {\r\n        // Silently handle connection errors (API server not running)\r\n        if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\r\n          console.error('Error loading pending bookings count:', error);\r\n        }\r\n        setUnreadBookingsCount(0);\r\n      }\r\n    };\r\n\r\n    loadPendingBookingsCount();\r\n    subscribeToBookingUpdates();\r\n\r\n    return () => {\r\n      if (subscriptionRef.current) {\r\n        const supabase = getSupabaseClient();\r\n        supabase.removeChannel(subscriptionRef.current);\r\n      }\r\n    };\r\n  }, [user, setUnreadBookingsCount, subscribeToBookingUpdates]);\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/DashboardLayout.tsx"],"sourcesContent":["// apps/dashboard/app/components/DashboardLayout.tsx\r\n// Applies dashboard layout (Header, Sidebar, AuthGuard) only to non-auth routes\r\n// Auth routes are handled by (auth)/layout.tsx and render without dashboard UI\r\n\r\n\"use client\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport AuthGuard from \"./AuthGuard\";\r\nimport Header from \"./Header\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport PublicLayoutWrapper from \"./PublicLayoutWrapper\";\r\nimport OwnerPowerBot from \"./OwnerPowerBot\";\r\nimport { useBookingNotificationsHook } from \"@/lib/useBookingNotifications\";\r\n\r\n// Routes that should NOT have dashboard layout (Header, Sidebar, AuthGuard)\r\nconst authRoutes: string[] = [];\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const pathname = usePathname();\r\n  \r\n  // Route matching rules:\r\n  // DashboardLayout should ONLY apply to routes in the (owner) folder\r\n  // All other routes are public and use (public)/layout.tsx\r\n  const isOwnerRoute = useMemo(() => {\r\n    const route = pathname || \"\";\r\n    \r\n    // Owner dashboard routes (protected, should use DashboardLayout)\r\n    const ownerRoutes = [\r\n      '/shops', // Owner dashboard (not /shops/[id] which is public)\r\n      '/assistant',\r\n      '/bookings',\r\n      '/settings',\r\n    ];\r\n    \r\n    // Check exact matches\r\n    if (ownerRoutes.includes(route)) {\r\n      return true;\r\n    }\r\n    \r\n    // Check if it starts with owner route patterns\r\n    if (route.startsWith('/shops/services')) {\r\n      return true;\r\n    }\r\n    \r\n    // Everything else is public (uses (public)/layout.tsx)\r\n    return false;\r\n  }, [pathname]);\r\n  \r\n  const isAuthRoute = useMemo(() => authRoutes.includes(pathname || \"\"), [pathname]);\r\n  \r\n  console.log(\"üî• DashboardLayout evaluating route:\", pathname, \"| isOwnerRoute:\", isOwnerRoute, \"| isAuthRoute:\", isAuthRoute);\r\n\r\n  // For auth routes, just pass through - login and signup handle their own styling\r\n  if (isAuthRoute) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  // For public routes, wrap with PublicLayoutWrapper (includes header)\r\n  if (!isOwnerRoute) {\r\n    console.log(\"üî• DashboardLayout: Applying PublicLayoutWrapper for public route:\", pathname);\r\n    return <PublicLayoutWrapper>{children}</PublicLayoutWrapper>;\r\n  }\r\n\r\n  // For owner dashboard routes, apply full dashboard layout with AuthGuard\r\n  return (\r\n    <AuthGuard>\r\n      <BookingNotificationsWrapper>\r\n        <Header />\r\n        <Sidebar />\r\n        <main className=\"lg:ml-64 pt-16 min-h-screen bg-gray-50\">\r\n          {children}\r\n        </main>\r\n        <OwnerPowerBot />\r\n      </BookingNotificationsWrapper>\r\n    </AuthGuard>\r\n  );\r\n}\r\n\r\n// Wrapper component to initialize booking notifications hook\r\nfunction BookingNotificationsWrapper({ children }: { children: React.ReactNode }) {\r\n  useBookingNotificationsHook();\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,oDAAoD;AACpD,gFAAgF;AAChF,+EAA+E;;;;;;AAI/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWA,4EAA4E;AAC5E,MAAM,aAAuB,EAAE;AAEhB,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,WAAW,IAAA,iJAAW;IAE5B,wBAAwB;IACxB,oEAAoE;IACpE,0DAA0D;IAC1D,MAAM,eAAe,IAAA,gNAAO,EAAC;QAC3B,MAAM,QAAQ,YAAY;QAE1B,iEAAiE;QACjE,MAAM,cAAc;YAClB;YACA;YACA;YACA;SACD;QAED,sBAAsB;QACtB,IAAI,YAAY,QAAQ,CAAC,QAAQ;YAC/B,OAAO;QACT;QAEA,+CAA+C;QAC/C,IAAI,MAAM,UAAU,CAAC,oBAAoB;YACvC,OAAO;QACT;QAEA,uDAAuD;QACvD,OAAO;IACT,GAAG;QAAC;KAAS;IAEb,MAAM,cAAc,IAAA,gNAAO,EAAC,IAAM,WAAW,QAAQ,CAAC,YAAY,KAAK;QAAC;KAAS;IAEjF,QAAQ,GAAG,CAAC,wCAAwC,UAAU,mBAAmB,cAAc,kBAAkB;IAEjH,iFAAiF;IACjF,IAAI,aAAa;QACf,qBAAO;sBAAG;;IACZ;IAEA,qEAAqE;IACrE,IAAI,CAAC,cAAc;QACjB,QAAQ,GAAG,CAAC,sEAAsE;QAClF,qBAAO,8OAAC,yKAAmB;sBAAE;;;;;;IAC/B;IAEA,yEAAyE;IACzE,qBACE,8OAAC,+JAAS;kBACR,cAAA,8OAAC;;8BACC,8OAAC,4JAAM;;;;;8BACP,8OAAC,6JAAO;;;;;8BACR,8OAAC;oBAAK,WAAU;8BACb;;;;;;8BAEH,8OAAC,mKAAa;;;;;;;;;;;;;;;;AAItB;AAEA,6DAA6D;AAC7D,SAAS,4BAA4B,EAAE,QAAQ,EAAiC;IAC9E,IAAA,kLAA2B;IAC3B,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 1699, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/dashboard/messages/en.json"],"sourcesContent":["{\"common\":{\"save\":\"Save Changes\",\"cancel\":\"Cancel\",\"edit\":\"Edit\",\"delete\":\"Delete\",\"create\":\"Create\",\"update\":\"Update\",\"submit\":\"Submit\",\"submitting\":\"Submitting...\",\"loading\":\"Loading...\",\"error\":\"Error\",\"success\":\"Success\",\"or\":\"or\",\"confirm\":\"Confirm\",\"reject\":\"Reject\",\"yes\":\"Yes\",\"no\":\"No\",\"close\":\"Close\",\"for\":\"for\",\"keepIt\":\"Keep It\",\"updating\":\"Updating...\",\"cancelling\":\"Cancelling...\",\"rescheduling\":\"Rescheduling...\",\"unknown\":\"Unknown\",\"back\":\"Back\",\"next\":\"Next\",\"previous\":\"Previous\",\"search\":\"Search\",\"filter\":\"Filter\",\"actions\":\"Actions\",\"photos\":\"Photos\",\"name\":\"Name\",\"email\":\"Email\",\"phone\":\"Phone\",\"address\":\"Address\",\"website\":\"Website\",\"description\":\"Description\",\"price\":\"Price\",\"duration\":\"Duration\",\"status\":\"Status\",\"date\":\"Date\",\"time\":\"Time\",\"optional\":\"Optional\",\"required\":\"Required\",\"characters\":\"characters\"},\"auth\":{\"signInToShop\":\"Sign in to your shop\",\"password\":\"Password\",\"signingIn\":\"Signing in...\",\"signIn\":\"Sign In\",\"dontHaveAccount\":\"Don't have an account?\",\"createOwnerAccount\":\"Create Owner Account\",\"ownerName\":\"Owner Name\",\"creatingAccount\":\"Creating account...\",\"signUp\":\"Sign Up\",\"alreadyHaveAccount\":\"Already have an account?\",\"unexpectedError\":\"An unexpected error occurred\",\"fillRequiredFields\":\"Please fill in all required fields\",\"failedToSetupAccount\":\"Failed to setup account\"},\"nav\":{\"shops\":\"Shops\",\"ownerLogin\":\"Owner Login\",\"myShop\":\"My Shop\",\"aiAssistant\":\"AI Assistant\",\"bookings\":\"Bookings\",\"logout\":\"Logout\",\"dashboard\":\"Yoyaku Yo Dashboard\"},\"home\":{\"title\":\"Yoyaku Yo\",\"subtitle\":\"AI-powered booking assistant for salons in Tokyo\",\"browseShops\":\"Browse Shops\",\"ownerLogin\":\"Owner Login\",\"joinAsOwner\":\"Join as Owner\",\"feature1\":\"Let customers book online 24/7\",\"feature2\":\"AI assistant handles messages, reschedules and cancellations\",\"feature3\":\"Simple dashboard for shop owners\",\"forCustomers\":\"For Customers\",\"forCustomersDesc\":\"Find salons by category, browse services, and book online 24/7.\",\"forOwners\":\"For Owners\",\"forOwnersDesc\":\"Connect your shop, manage bookings, and let AI handle customer messages.\",\"aiAssistance\":\"AI Assistance\",\"aiAssistanceDesc\":\"Handles customer messages in Japanese or English, manages reschedules and cancellations.\"},\"booking\":{\"title\":\"Book an appointment\",\"service\":\"Service\",\"staff\":\"Staff\",\"staffOptional\":\"Staff (Optional)\",\"date\":\"Date\",\"time\":\"Time\",\"yourName\":\"Your Name\",\"submit\":\"Book Now\",\"success\":\"Booking confirmed!\",\"confirmedMessage\":\"Your appointment is confirmed. Your personal ID is {customerId}. You can change or cancel anytime right here in this chat ‚Äî just say hello again! ‚ú®\",\"ownerWillConfirm\":\"The shop owner will confirm your appointment.\",\"anyAvailable\":\"Any available\",\"chooseService\":\"Choose Service\",\"chooseStaff\":\"Choose Staff\",\"chooseDate\":\"Choose Date\",\"chooseTimeslot\":\"Choose Timeslot\",\"yourInformation\":\"Your Information\",\"selectService\":\"Select a service\",\"selectStaff\":\"Select a staff member\",\"checkAvailability\":\"Check Availability\",\"bookAppointment\":\"Book Appointment\",\"bookingSuccessful\":\"Booking successful!\",\"bookingFailed\":\"Booking failed. Please try again.\",\"tryAgain\":\"Please try again\",\"timeslotSelected\":\"Timeslot selected!\",\"cancelBooking\":\"Cancel Booking\",\"rescheduleBooking\":\"Reschedule Booking\",\"cancelConfirm\":\"Are you sure you want to cancel this booking\",\"rescheduleConfirm\":\"Reschedule booking for\",\"current\":\"Current\",\"newDateTime\":\"New Date & Time\",\"cancelled\":\"Booking cancelled successfully!\",\"rescheduled\":\"Booking rescheduled successfully!\",\"failedToCancel\":\"Failed to cancel booking\",\"failedToReschedule\":\"Failed to reschedule booking\",\"failedToCreate\":\"Failed to create booking. Please try again.\"},\"chat\":{\"title\":\"Chat with AI assistant\",\"placeholder\":\"Type your message...\",\"send\":\"Send\",\"startConversation\":\"Start a conversation with the AI assistant\",\"noResponse\":\"No response\",\"errorEncountered\":\"Sorry, I encountered an error\",\"cannotRespond\":\"Sorry, I cannot respond at the moment. Please try again later.\"},\"categories\":{\"all\":\"All Categories\",\"barbershop\":\"Barbershop\",\"beauty_salon\":\"Beauty Salon\",\"eyelash\":\"Eyelash\",\"general_salon\":\"General Salon\",\"hair_salon\":\"Hair Salon\",\"nail_salon\":\"Nail Salon\",\"spa_massage\":\"Spa & Massage\",\"dental_clinic\":\"Dental Clinic\",\"womens_clinic\":\"Women's Clinic\",\"hotels_ryokan\":\"Hotels & Ryokan\",\"restaurants_izakaya\":\"Restaurants & Izakaya\",\"spas_onsen_bathhouses\":\"Spas, Onsen & Day-use Bathhouses\",\"golf_courses_ranges\":\"Golf Courses & Practice Ranges\",\"private_karaoke_rooms\":\"Private Karaoke Rooms\",\"unknown\":\"Unknown\"},\"prefectures\":{\"hokkaido\":\"Hokkaido\",\"aomori\":\"Aomori\",\"iwate\":\"Iwate\",\"miyagi\":\"Miyagi\",\"akita\":\"Akita\",\"yamagata\":\"Yamagata\",\"fukushima\":\"Fukushima\",\"ibaraki\":\"Ibaraki\",\"tochigi\":\"Tochigi\",\"gunma\":\"Gunma\",\"saitama\":\"Saitama\",\"chiba\":\"Chiba\",\"tokyo\":\"Tokyo\",\"kanagawa\":\"Kanagawa\",\"niigata\":\"Niigata\",\"toyama\":\"Toyama\",\"ishikawa\":\"Ishikawa\",\"fukui\":\"Fukui\",\"yamanashi\":\"Yamanashi\",\"nagano\":\"Nagano\",\"gifu\":\"Gifu\",\"shizuoka\":\"Shizuoka\",\"aichi\":\"Aichi\",\"mie\":\"Mie\",\"shiga\":\"Shiga\",\"kyoto\":\"Kyoto\",\"osaka\":\"Osaka\",\"hyogo\":\"Hyogo\",\"nara\":\"Nara\",\"wakayama\":\"Wakayama\",\"tottori\":\"Tottori\",\"shimane\":\"Shimane\",\"okayama\":\"Okayama\",\"hiroshima\":\"Hiroshima\",\"yamaguchi\":\"Yamaguchi\",\"tokushima\":\"Tokushima\",\"kagawa\":\"Kagawa\",\"ehime\":\"Ehime\",\"kochi\":\"Kochi\",\"fukuoka\":\"Fukuoka\",\"saga\":\"Saga\",\"nagasaki\":\"Nagasaki\",\"kumamoto\":\"Kumamoto\",\"oita\":\"Oita\",\"miyazaki\":\"Miyazaki\",\"kagoshima\":\"Kagoshima\",\"okinawa\":\"Okinawa\"},\"cities\":{\"tokyo\":\"Tokyo\",\"shinjuku\":\"Shinjuku\",\"shibuya\":\"Shibuya\",\"setagaya\":\"Setagaya\",\"suginami\":\"Suginami\",\"nakano\":\"Nakano\",\"meguro\":\"Meguro\",\"ota\":\"Ota\",\"shinagawa\":\"Shinagawa\",\"minato\":\"Minato\",\"chuo\":\"Chuo\",\"chiyoda\":\"Chiyoda\",\"bunkyo\":\"Bunkyo\",\"taito\":\"Taito\",\"sumida\":\"Sumida\",\"koto\":\"Koto\",\"kita\":\"Kita\",\"arakawa\":\"Arakawa\",\"itabashi\":\"Itabashi\",\"nerima\":\"Nerima\",\"adachi\":\"Adachi\",\"katsushika\":\"Katsushika\",\"edogawa\":\"Edogawa\",\"toshima\":\"Toshima\",\"yokohama\":\"Yokohama\",\"osaka\":\"Osaka\",\"osaka_kita\":\"Kita-ku, Osaka\",\"osaka_chuo\":\"Chuo-ku, Osaka\",\"osaka_nishi\":\"Nishi-ku, Osaka\",\"osaka_minato\":\"Minato-ku, Osaka\",\"osaka_tennoji\":\"Tennoji-ku, Osaka\",\"osaka_taisho\":\"Taisho-ku, Osaka\",\"osaka_naniwa\":\"Naniwa-ku, Osaka\",\"osaka_nishiyodogawa\":\"Nishiyodogawa-ku, Osaka\",\"osaka_yodogawa\":\"Yodogawa-ku, Osaka\",\"osaka_higashiyodogawa\":\"Higashiyodogawa-ku, Osaka\",\"osaka_ikuno\":\"Ikuno-ku, Osaka\",\"osaka_asahi\":\"Asahi-ku, Osaka\",\"osaka_joto\":\"Joto-ku, Osaka\",\"osaka_abeno\":\"Abeno-ku, Osaka\",\"osaka_hirano\":\"Hirano-ku, Osaka\",\"osaka_suminoe\":\"Suminoe-ku, Osaka\",\"osaka_sumiyoshi\":\"Sumiyoshi-ku, Osaka\",\"osaka_tsurumi\":\"Tsurumi-ku, Osaka\",\"osaka_konohana\":\"Konohana-ku, Osaka\",\"osaka_fukushima\":\"Fukushima-ku, Osaka\",\"osaka_higashinari\":\"Higashinari-ku, Osaka\",\"osaka_nishinari\":\"Nishinari-ku, Osaka\",\"kyoto\":\"Kyoto\",\"nagoya\":\"Nagoya\",\"sapporo\":\"Sapporo\",\"fukuoka\":\"Fukuoka\",\"kobe\":\"Kobe\",\"sendai\":\"Sendai\",\"hiroshima\":\"Hiroshima\",\"kitakyushu\":\"Kitakyushu\",\"saitama\":\"Saitama\",\"niigata\":\"Niigata\",\"hamamatsu\":\"Hamamatsu\",\"shizuoka\":\"Shizuoka\",\"okayama\":\"Okayama\",\"kumamoto\":\"Kumamoto\",\"kagoshima\":\"Kagoshima\",\"utsunomiya\":\"Utsunomiya\",\"matsuyama\":\"Matsuyama\",\"himeji\":\"Himeji\",\"kanazawa\":\"Kanazawa\",\"nagano\":\"Nagano\",\"toyama\":\"Toyama\",\"gifu\":\"Gifu\",\"fukui\":\"Fukui\",\"tottori\":\"Tottori\",\"matsue\":\"Matsue\",\"kofu\":\"Kofu\",\"mito\":\"Mito\",\"urawa\":\"Urawa\",\"kawasaki\":\"Kawasaki\",\"sagamihara\":\"Sagamihara\",\"yokosuka\":\"Yokosuka\",\"chigasaki\":\"Chigasaki\",\"fujisawa\":\"Fujisawa\",\"kamakura\":\"Kamakura\",\"odawara\":\"Odawara\",\"atami\":\"Atami\",\"numazu\":\"Numazu\",\"toyohashi\":\"Toyohashi\",\"okazaki\":\"Okazaki\",\"takayama\":\"Takayama\",\"tsuruga\":\"Tsuruga\",\"maizuru\":\"Maizuru\",\"nara\":\"Nara\",\"kurashiki\":\"Kurashiki\",\"fukuyama\":\"Fukuyama\",\"yamaguchi\":\"Yamaguchi\",\"shimonoseki\":\"Shimonoseki\",\"tokushima\":\"Tokushima\",\"takamatsu\":\"Takamatsu\",\"kochi\":\"Kochi\",\"saga\":\"Saga\",\"nagasaki\":\"Nagasaki\",\"oita\":\"Oita\",\"miyazaki\":\"Miyazaki\",\"naha\":\"Naha\",\"umeda\":\"Umeda, Osaka\",\"namba\":\"Namba, Osaka\",\"shinsaibashi\":\"Shinsaibashi, Osaka\",\"dotonbori\":\"Dotonbori, Osaka\",\"tennoji\":\"Tennoji, Osaka\",\"roppongi\":\"Roppongi\",\"ginza\":\"Ginza\",\"akihabara\":\"Akihabara\",\"harajuku\":\"Harajuku\",\"asakusa\":\"Asakusa\",\"omotesando\":\"Omotesando\",\"ikebukuro\":\"Ikebukuro\",\"ueno\":\"Ueno\"},\"shops\":{\"search\":\"Search by shop name, area or service\",\"searchPlaceholder\":\"Search by shop name, area or service\",\"categories\":\"Categories\",\"found\":\"Found\",\"shop\":\"shop\",\"shops\":\"shops\",\"shopsFound\":\"{count} shops found\",\"shopsInAreas\":\"{shops} shops ¬∑ {areas} areas\",\"viewDetails\":\"View details\",\"loading\":\"Loading shops...\",\"noShops\":\"No shops found\",\"tryAdjusting\":\"Try adjusting your search or category filter\",\"notAvailable\":\"No shops are available at the moment\",\"contact\":\"Contact\",\"services\":\"Services\",\"staff\":\"Staff\",\"bookNow\":\"Book Now\",\"shopNotFound\":\"Shop not found\",\"shopDoesNotExist\":\"The shop you are looking for does not exist.\",\"invalidShopId\":\"Invalid shop ID\",\"failedToFetchShop\":\"Failed to fetch shop\",\"photos\":\"Photos\",\"photosWillAppear\":\"Photos will appear here once added by the shop owner.\",\"noServicesAvailable\":\"No services available.\",\"noStaffAvailable\":\"No staff information available.\",\"filteredByArea\":\"Filtered by area:\",\"clearAreaFilter\":\"Clear area filter\",\"inAreas\":\"in {count} {count, plural, one {area} other {areas}}\",\"showLess\":\"Show less ({hidden} hidden)\",\"seeAllAreas\":\"See all {count} areas ‚Üí\"},\"myShop\":{\"title\":\"My Shop\",\"overview\":\"Overview\",\"services\":\"Services\",\"staff\":\"Staff\",\"bookings\":\"Bookings\",\"photos\":\"Photos\",\"shopName\":\"Shop Name\",\"address\":\"Address\",\"phone\":\"Phone\",\"email\":\"Email\",\"website\":\"Website\",\"city\":\"City\",\"country\":\"Country\",\"zipCode\":\"Zip Code\",\"description\":\"Description\",\"saveChanges\":\"Save Changes\",\"noShop\":\"You don't have a shop yet.\",\"createShop\":\"Create Shop\",\"claimShop\":\"Claim Shop\",\"getStarted\":\"Get Started\",\"createNewShop\":\"Create New Shop\",\"startFresh\":\"Start fresh with a new shop listing.\",\"claimExistingShop\":\"Claim Existing Shop\",\"claimOwnership\":\"Claim ownership of an existing shop.\",\"selectUnclaimedShop\":\"Select an unclaimed shop to claim ownership.\",\"noUnclaimedShops\":\"No unclaimed shops available.\",\"loading\":\"Loading shop details...\",\"createNewService\":\"Create New Service\",\"editService\":\"Edit Service\",\"serviceName\":\"Service Name\",\"serviceDescription\":\"Description\",\"servicePrice\":\"Price ($)\",\"serviceDuration\":\"Duration (minutes)\",\"noServices\":\"No services yet.\",\"createFirstService\":\"Create your first service above.\",\"addStaff\":\"Add New Staff Member\",\"editStaff\":\"Edit Staff Member\",\"firstName\":\"First Name\",\"lastName\":\"Last Name\",\"staffPhone\":\"Phone\",\"staffEmail\":\"Email\",\"noStaff\":\"No staff yet.\",\"addFirstStaff\":\"Add your first staff member above.\",\"noBookings\":\"No bookings yet.\",\"bookingsWillAppear\":\"Bookings will appear here when customers make reservations.\",\"customer\":\"Customer\",\"dateTime\":\"Date & Time\",\"service\":\"Service\",\"pending\":\"pending\",\"confirmed\":\"confirmed\",\"rejected\":\"rejected\",\"cancelled\":\"cancelled\",\"completed\":\"completed\",\"confirmBooking\":\"Confirm Booking\",\"rejectBooking\":\"Reject Booking\",\"areYouSureConfirm\":\"Are you sure you want to confirm this booking\",\"areYouSureReject\":\"Are you sure you want to reject this booking\",\"bookingConfirmed\":\"Booking confirmed successfully!\",\"bookingRejected\":\"Booking rejected successfully!\",\"failedToUpdateStatus\":\"Failed to update booking status\",\"uploadLogo\":\"Upload Logo\",\"changeLogo\":\"Change Logo\",\"uploadCover\":\"Upload Cover\",\"changeCover\":\"Change Cover\",\"uploadGalleryPhoto\":\"Upload Gallery Photo\",\"shopLogo\":\"Shop Logo\",\"coverPhoto\":\"Cover Photo\",\"galleryPhotos\":\"Gallery Photos\",\"noLogo\":\"No logo\",\"shopOverview\":\"Shop Overview\",\"editShop\":\"Edit Shop\",\"noGalleryPhotos\":\"No gallery photos yet. Upload your first photo!\",\"noCoverPhoto\":\"No cover photo\",\"photoUploaded\":\"Photo uploaded successfully!\",\"photoDeleted\":\"Photo deleted successfully!\",\"failedToUpload\":\"Failed to upload photo\",\"failedToDelete\":\"Failed to delete photo\",\"photosSaved\":\"Photos saved successfully!\"},\"assistant\":{\"title\":\"AI Assistant\",\"subtitle\":\"Manage customer conversations and get AI help\",\"customerConversations\":\"Customer Conversations\",\"selectConversation\":\"Select a conversation\",\"selectConversationDesc\":\"Choose a thread from the left to view messages\",\"noConversations\":\"No conversations yet\",\"loadingThreads\":\"Loading threads...\",\"youAreHandling\":\"‚úì You are handling\",\"letAiHandle\":\"Let AI handle\",\"noMessages\":\"No messages yet\",\"startConversation\":\"Start the conversation!\",\"booking\":\"Booking:\",\"sending\":\"Sending...\",\"send\":\"Send\",\"typeMessage\":\"Type your message...\",\"youAreTyping\":\"You are typing...\"},\"status\":{\"pending\":\"Pending\",\"confirmed\":\"Confirmed\",\"rejected\":\"Rejected\",\"cancelled\":\"Cancelled\",\"completed\":\"Completed\"},\"reviews\":{\"title\":\"Reviews\",\"writeReview\":\"Write a Review\",\"rating\":\"Rating\",\"comment\":\"Comment\",\"photos\":\"Photos\",\"submit\":\"Submit Review\",\"averageRating\":\"Average Rating\",\"totalReviews\":\"Total Reviews\",\"verified\":\"Verified Booking\",\"ownerResponse\":\"Owner Response\",\"respond\":\"Respond to Review\",\"noReviews\":\"No reviews yet\",\"addFirstReview\":\"Be the first to review this shop\"},\"analytics\":{\"title\":\"Analytics\",\"overview\":\"Overview\",\"bookings\":\"Bookings\",\"revenue\":\"Revenue\",\"averagePerDay\":\"Average per Day\",\"cancellationRate\":\"Cancellation Rate\",\"bookingTrends\":\"Booking Trends\",\"servicePopularity\":\"Service Popularity\",\"staffPerformance\":\"Staff Performance\",\"peakHours\":\"Peak Hours\",\"customerAnalytics\":\"Customer Analytics\",\"newCustomers\":\"New Customers\",\"returningCustomers\":\"Returning Customers\",\"dateRange\":\"Date Range\",\"last7Days\":\"Last 7 Days\",\"last30Days\":\"Last 30 Days\",\"last90Days\":\"Last 90 Days\",\"custom\":\"Custom\",\"date\":\"Date\"},\"line\":{\"loginWithLine\":\"Login with LINE\",\"connectLineAccount\":\"Connect LINE Account\",\"lineConnected\":\"LINE Connected\",\"lineNotConnected\":\"LINE Not Connected\",\"shareOnLine\":\"Share on LINE\",\"disconnect\":\"Disconnect\"}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1699, "column": 15746}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1702, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/dashboard/messages/ja.json"],"sourcesContent":["{\"common\":{\"save\":\"Â§âÊõ¥„Çí‰øùÂ≠ò\",\"cancel\":\"„Ç≠„É£„É≥„Çª„É´\",\"edit\":\"Á∑®ÈõÜ\",\"delete\":\"ÂâäÈô§\",\"create\":\"‰ΩúÊàê\",\"update\":\"Êõ¥Êñ∞\",\"submit\":\"ÈÄÅ‰ø°\",\"submitting\":\"ÈÄÅ‰ø°‰∏≠...\",\"loading\":\"Ë™≠„ÅøËæº„Åø‰∏≠...\",\"error\":\"„Ç®„É©„Éº\",\"success\":\"ÊàêÂäü\",\"or\":\"„Åæ„Åü„ÅØ\",\"confirm\":\"Á¢∫Ë™ç\",\"reject\":\"ÊãíÂê¶\",\"yes\":\"„ÅØ„ÅÑ\",\"no\":\"„ÅÑ„ÅÑ„Åà\",\"close\":\"Èñâ„Åò„Çã\",\"for\":\"„ÅÆ\",\"keepIt\":\"‰øùÊåÅ„Åô„Çã\",\"updating\":\"Êõ¥Êñ∞‰∏≠...\",\"cancelling\":\"„Ç≠„É£„É≥„Çª„É´‰∏≠...\",\"rescheduling\":\"Â§âÊõ¥‰∏≠...\",\"unknown\":\"‰∏çÊòé\",\"back\":\"Êàª„Çã\",\"next\":\"Ê¨°„Å∏\",\"previous\":\"Ââç„Å∏\",\"search\":\"Ê§úÁ¥¢\",\"filter\":\"„Éï„Ç£„É´„Çø„Éº\",\"actions\":\"„Ç¢„ÇØ„Ç∑„Éß„É≥\",\"photos\":\"ÂÜôÁúü\",\"name\":\"ÂêçÂâç\",\"email\":\"„É°„Éº„É´\",\"phone\":\"ÈõªË©±\",\"address\":\"‰ΩèÊâÄ\",\"website\":\"„Ç¶„Çß„Éñ„Çµ„Ç§„Éà\",\"description\":\"Ë™¨Êòé\",\"price\":\"‰æ°Ê†º\",\"duration\":\"ÊôÇÈñì\",\"status\":\"„Çπ„ÉÜ„Éº„Çø„Çπ\",\"date\":\"Êó•‰ªò\",\"time\":\"ÊôÇÈñì\",\"optional\":\"‰ªªÊÑè\",\"required\":\"ÂøÖÈ†à\"},\"auth\":{\"signInToShop\":\"Â∫óËàó„Å´„Çµ„Ç§„É≥„Ç§„É≥\",\"password\":\"„Éë„Çπ„ÉØ„Éº„Éâ\",\"signingIn\":\"„Çµ„Ç§„É≥„Ç§„É≥‰∏≠...\",\"signIn\":\"„Çµ„Ç§„É≥„Ç§„É≥\",\"dontHaveAccount\":\"„Ç¢„Ç´„Ç¶„É≥„Éà„Çí„ÅäÊåÅ„Å°„Åß„Å™„ÅÑÂ†¥Âêà\",\"createOwnerAccount\":\"„Ç™„Éº„Éä„Éº„Ç¢„Ç´„Ç¶„É≥„Éà„Çí‰ΩúÊàê\",\"ownerName\":\"„ÅäÂêçÂâç\",\"creatingAccount\":\"„Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê‰∏≠...\",\"signUp\":\"„Ç¢„Ç´„Ç¶„É≥„Éà„Çí‰ΩúÊàê\",\"alreadyHaveAccount\":\"„Åô„Åß„Å´„Ç¢„Ç´„Ç¶„É≥„Éà„Çí„ÅäÊåÅ„Å°„ÅÆÂ†¥Âêà\",\"unexpectedError\":\"‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü\",\"fillRequiredFields\":\"„Åô„Åπ„Å¶„ÅÆÂøÖÈ†à„Éï„Ç£„Éº„É´„Éâ„Å´ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ\",\"failedToSetupAccount\":\"„Ç¢„Ç´„Ç¶„É≥„Éà„ÅÆË®≠ÂÆö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\"},\"nav\":{\"shops\":\"Â∫óËàó\",\"ownerLogin\":\"„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥\",\"myShop\":\"„Éû„Ç§„Ç∑„Éß„ÉÉ„Éó\",\"aiAssistant\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"bookings\":\"‰∫àÁ¥Ñ\",\"logout\":\"„É≠„Ç∞„Ç¢„Ç¶„Éà\",\"dashboard\":\"Yoyaku Yo„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ\"},\"home\":{\"title\":\"Yoyaku Yo\",\"subtitle\":\"Êù±‰∫¨„ÅÆ„Çµ„É≠„É≥Âêë„ÅëAI‰∫àÁ¥Ñ„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"browseShops\":\"Â∫óËàó„ÇíÊé¢„Åô\",\"ownerLogin\":\"„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥\",\"joinAsOwner\":\"„Ç™„Éº„Éä„Éº„Å®„Åó„Å¶ÂèÇÂä†\",\"feature1\":\"„ÅäÂÆ¢Êßò„Åå24ÊôÇÈñì365Êó•„Ç™„É≥„É©„Ç§„É≥„Åß‰∫àÁ¥ÑÂèØËÉΩ\",\"feature2\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åå„É°„ÉÉ„Çª„Éº„Ç∏„ÄÅ‰∫àÁ¥ÑÂ§âÊõ¥„ÄÅ„Ç≠„É£„É≥„Çª„É´„ÇíÂá¶ÁêÜ\",\"feature3\":\"Â∫óËàó„Ç™„Éº„Éä„ÉºÂêë„Åë„ÅÆ„Ç∑„É≥„Éó„É´„Å™„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ\",\"forCustomers\":\"„ÅäÂÆ¢ÊßòÂêë„Åë\",\"forCustomersDesc\":\"„Ç´„ÉÜ„Ç¥„É™Âà•„Å´„Çµ„É≠„É≥„ÇíÊ§úÁ¥¢„Åó„ÄÅ„Çµ„Éº„Éì„Çπ„ÇíÈñ≤Ë¶ß„Åó„ÄÅ24ÊôÇÈñì365Êó•„Ç™„É≥„É©„Ç§„É≥„Åß‰∫àÁ¥Ñ„Åß„Åç„Åæ„Åô„ÄÇ\",\"forOwners\":\"„Ç™„Éº„Éä„ÉºÂêë„Åë\",\"forOwnersDesc\":\"Â∫óËàó„ÇíÊé•Á∂ö„Åó„ÄÅ‰∫àÁ¥Ñ„ÇíÁÆ°ÁêÜ„Åó„ÄÅAI„Å´È°ßÂÆ¢„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂá¶ÁêÜ„Åï„Åõ„Åæ„Åô„ÄÇ\",\"aiAssistance\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"aiAssistanceDesc\":\"Êó•Êú¨Ë™û„Åæ„Åü„ÅØËã±Ë™û„ÅßÈ°ßÂÆ¢„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂá¶ÁêÜ„Åó„ÄÅ‰∫àÁ¥ÑÂ§âÊõ¥„Å®„Ç≠„É£„É≥„Çª„É´„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ\"},\"booking\":{\"title\":\"‰∫àÁ¥Ñ„Åô„Çã\",\"service\":\"„Çµ„Éº„Éì„Çπ\",\"staff\":\"„Çπ„Çø„ÉÉ„Éï\",\"staffOptional\":\"„Çπ„Çø„ÉÉ„ÉïÔºà‰ªªÊÑèÔºâ\",\"date\":\"Êó•‰ªò\",\"time\":\"ÊôÇÈñì\",\"yourName\":\"„ÅäÂêçÂâç\",\"submit\":\"‰∫àÁ¥Ñ„Åô„Çã\",\"success\":\"‰∫àÁ¥Ñ„ÅåÁ¢∫Ë™ç„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"confirmedMessage\":\"„Åî‰∫àÁ¥Ñ„ÅåÁ¢∫ÂÆö„Åó„Åæ„Åó„Åü„ÄÇ„ÅÇ„Å™„Åü„ÅÆÂÄã‰∫∫ID„ÅØ{customerId}„Åß„Åô„ÄÇ„Åì„ÅÆ„ÉÅ„É£„ÉÉ„Éà„Åß„ÅÑ„Å§„Åß„ÇÇÂ§âÊõ¥„ÇÑ„Ç≠„É£„É≥„Çª„É´„Åå„Åß„Åç„Åæ„Åô ‚Äî „ÇÇ„ÅÜ‰∏ÄÂ∫¶„Åì„Çì„Å´„Å°„ÅØ„Å®Ë®Ä„Å£„Å¶„Åè„Å†„Åï„ÅÑÔºÅ ‚ú®\",\"ownerWillConfirm\":\"Â∫óËàó„Ç™„Éº„Éä„Éº„Åå‰∫àÁ¥Ñ„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ\",\"anyAvailable\":\"Âà©Áî®ÂèØËÉΩ„Å™„Çπ„Çø„ÉÉ„Éï\",\"chooseService\":\"„Çµ„Éº„Éì„Çπ„ÇíÈÅ∏Êäû\",\"chooseStaff\":\"„Çπ„Çø„ÉÉ„Éï„ÇíÈÅ∏Êäû\",\"chooseDate\":\"Êó•‰ªò„ÇíÈÅ∏Êäû\",\"chooseTimeslot\":\"ÊôÇÈñìÂ∏Ø„ÇíÈÅ∏Êäû\",\"yourInformation\":\"„ÅäÂÆ¢ÊßòÊÉÖÂ†±\",\"selectService\":\"„Çµ„Éº„Éì„Çπ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ\",\"selectStaff\":\"„Çπ„Çø„ÉÉ„Éï„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ\",\"checkAvailability\":\"Á©∫„ÅçÁä∂Ê≥Å„ÇíÁ¢∫Ë™ç\",\"bookAppointment\":\"‰∫àÁ¥Ñ„Åô„Çã\",\"bookingSuccessful\":\"‰∫àÁ¥Ñ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\",\"bookingFailed\":\"‰∫àÁ¥Ñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"tryAgain\":\"„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ\",\"timeslotSelected\":\"ÊôÇÈñìÂ∏Ø„ÅåÈÅ∏Êäû„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"cancelBooking\":\"‰∫àÁ¥Ñ„Çí„Ç≠„É£„É≥„Çª„É´\",\"rescheduleBooking\":\"‰∫àÁ¥Ñ„ÇíÂ§âÊõ¥\",\"cancelConfirm\":\"„Åì„ÅÆ‰∫àÁ¥Ñ„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã\",\"rescheduleConfirm\":\"‰∫àÁ¥Ñ„ÇíÂ§âÊõ¥\",\"current\":\"ÁèæÂú®\",\"newDateTime\":\"Êñ∞„Åó„ÅÑÊó•ÊôÇ\",\"cancelled\":\"‰∫àÁ¥Ñ„Åå„Ç≠„É£„É≥„Çª„É´„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"rescheduled\":\"‰∫àÁ¥Ñ„ÅåÂ§âÊõ¥„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"failedToCancel\":\"‰∫àÁ¥Ñ„ÅÆ„Ç≠„É£„É≥„Çª„É´„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"failedToReschedule\":\"‰∫àÁ¥Ñ„ÅÆÂ§âÊõ¥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"failedToCreate\":\"‰∫àÁ¥Ñ„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ\"},\"chat\":{\"title\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÉÅ„É£„ÉÉ„Éà\",\"placeholder\":\"„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...\",\"send\":\"ÈÄÅ‰ø°\",\"startConversation\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÅÆ‰ºöË©±„ÇíÂßã„ÇÅ„Åæ„Åó„Çá„ÅÜ\",\"noResponse\":\"ÂøúÁ≠î„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\",\"errorEncountered\":\"Áî≥„ÅóË®≥„Åî„Åñ„ÅÑ„Åæ„Åõ„Çì„Åå„ÄÅ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü\",\"cannotRespond\":\"Áî≥„ÅóË®≥„Åî„Åñ„ÅÑ„Åæ„Åõ„Çì„Åå„ÄÅÁèæÂú®ÂøúÁ≠î„Åß„Åç„Åæ„Åõ„Çì„ÄÇÂæå„Åß„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ\"},\"categories\":{\"all\":\"„Åô„Åπ„Å¶„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº\",\"barbershop\":\"ÁêÜÈ´™Â∫ó\",\"beauty_salon\":\"ÁæéÂÆπ„Çµ„É≠„É≥\",\"eyelash\":\"„Åæ„Å§„Åí\",\"general_salon\":\"Á∑èÂêà„Çµ„É≠„É≥\",\"hair_salon\":\"„Éò„Ç¢„Çµ„É≠„É≥\",\"nail_salon\":\"„Éç„Ç§„É´„Çµ„É≠„É≥\",\"spa_massage\":\"„Çπ„Éë„Éª„Éû„ÉÉ„Çµ„Éº„Ç∏\",\"dental_clinic\":\"Ê≠ØÁßë\",\"womens_clinic\":\"Â©¶‰∫∫Áßë\",\"hotels_ryokan\":\"„Éõ„ÉÜ„É´„ÉªÊóÖÈ§®\",\"restaurants_izakaya\":\"„É¨„Çπ„Éà„É©„É≥„ÉªÂ±ÖÈÖíÂ±ã\",\"spas_onsen_bathhouses\":\"„Çπ„Éë„ÉªÊ∏©Ê≥â„ÉªÊó•Â∏∞„ÇäÂÖ•Êµ¥\",\"golf_courses_ranges\":\"„Ç¥„É´„ÉïÂ†¥„ÉªÁ∑¥ÁøíÂ†¥\",\"private_karaoke_rooms\":\"„Ç´„É©„Ç™„Ç±„É´„Éº„É†\",\"unknown\":\"‰∏çÊòé\"},\"prefectures\":{\"hokkaido\":\"ÂåóÊµ∑ÈÅì\",\"aomori\":\"ÈùíÊ£ÆÁúå\",\"iwate\":\"Â≤©ÊâãÁúå\",\"miyagi\":\"ÂÆÆÂüéÁúå\",\"akita\":\"ÁßãÁî∞Áúå\",\"yamagata\":\"Â±±ÂΩ¢Áúå\",\"fukushima\":\"Á¶èÂ≥∂Áúå\",\"ibaraki\":\"Ëå®ÂüéÁúå\",\"tochigi\":\"Ê†ÉÊú®Áúå\",\"gunma\":\"Áæ§È¶¨Áúå\",\"saitama\":\"ÂüºÁéâÁúå\",\"chiba\":\"ÂçÉËëâÁúå\",\"tokyo\":\"Êù±‰∫¨ÈÉΩ\",\"kanagawa\":\"Á•ûÂ•àÂ∑ùÁúå\",\"niigata\":\"Êñ∞ÊΩüÁúå\",\"toyama\":\"ÂØåÂ±±Áúå\",\"ishikawa\":\"Áü≥Â∑ùÁúå\",\"fukui\":\"Á¶è‰∫ïÁúå\",\"yamanashi\":\"Â±±Ê¢®Áúå\",\"nagano\":\"Èï∑ÈáéÁúå\",\"gifu\":\"Â≤êÈòúÁúå\",\"shizuoka\":\"ÈùôÂ≤°Áúå\",\"aichi\":\"ÊÑõÁü•Áúå\",\"mie\":\"‰∏âÈáçÁúå\",\"shiga\":\"ÊªãË≥ÄÁúå\",\"kyoto\":\"‰∫¨ÈÉΩÂ∫ú\",\"osaka\":\"Â§ßÈò™Â∫ú\",\"hyogo\":\"ÂÖµÂ∫´Áúå\",\"nara\":\"Â•àËâØÁúå\",\"wakayama\":\"ÂíåÊ≠åÂ±±Áúå\",\"tottori\":\"È≥•ÂèñÁúå\",\"shimane\":\"Â≥∂Ê†πÁúå\",\"okayama\":\"Â≤°Â±±Áúå\",\"hiroshima\":\"Â∫ÉÂ≥∂Áúå\",\"yamaguchi\":\"Â±±Âè£Áúå\",\"tokushima\":\"Âæ≥Â≥∂Áúå\",\"kagawa\":\"È¶ôÂ∑ùÁúå\",\"ehime\":\"ÊÑõÂ™õÁúå\",\"kochi\":\"È´òÁü•Áúå\",\"fukuoka\":\"Á¶èÂ≤°Áúå\",\"saga\":\"‰ΩêË≥ÄÁúå\",\"nagasaki\":\"Èï∑Â¥éÁúå\",\"kumamoto\":\"ÁÜäÊú¨Áúå\",\"oita\":\"Â§ßÂàÜÁúå\",\"miyazaki\":\"ÂÆÆÂ¥éÁúå\",\"kagoshima\":\"ÈπøÂÖêÂ≥∂Áúå\",\"okinawa\":\"Ê≤ñÁ∏ÑÁúå\"},\"cities\":{\"tokyo\":\"Êù±‰∫¨\",\"shinjuku\":\"Êñ∞ÂÆøÂå∫\",\"shibuya\":\"Ê∏ãË∞∑Âå∫\",\"setagaya\":\"‰∏ñÁî∞Ë∞∑Âå∫\",\"suginami\":\"Êùâ‰∏¶Âå∫\",\"nakano\":\"‰∏≠ÈáéÂå∫\",\"meguro\":\"ÁõÆÈªíÂå∫\",\"ota\":\"Â§ßÁî∞Âå∫\",\"shinagawa\":\"ÂìÅÂ∑ùÂå∫\",\"minato\":\"Ê∏ØÂå∫\",\"chuo\":\"‰∏≠Â§ÆÂå∫\",\"chiyoda\":\"ÂçÉ‰ª£Áî∞Âå∫\",\"bunkyo\":\"Êñá‰∫¨Âå∫\",\"taito\":\"Âè∞Êù±Âå∫\",\"sumida\":\"Â¢®Áî∞Âå∫\",\"koto\":\"Ê±üÊù±Âå∫\",\"kita\":\"ÂåóÂå∫\",\"arakawa\":\"ËçíÂ∑ùÂå∫\",\"itabashi\":\"ÊùøÊ©ãÂå∫\",\"nerima\":\"Á∑¥È¶¨Âå∫\",\"adachi\":\"Ë∂≥Á´ãÂå∫\",\"katsushika\":\"ËëõÈ£æÂå∫\",\"edogawa\":\"Ê±üÊà∏Â∑ùÂå∫\",\"toshima\":\"Ë±äÂ≥∂Âå∫\",\"yokohama\":\"Ê®™ÊµúÂ∏Ç\",\"osaka\":\"Â§ßÈò™Â∏Ç\",\"osaka_kita\":\"Â§ßÈò™Â∏ÇÂåóÂå∫\",\"osaka_chuo\":\"Â§ßÈò™Â∏Ç‰∏≠Â§ÆÂå∫\",\"osaka_nishi\":\"Â§ßÈò™Â∏ÇË•øÂå∫\",\"osaka_minato\":\"Â§ßÈò™Â∏ÇÊ∏ØÂå∫\",\"osaka_tennoji\":\"Â§ßÈò™Â∏ÇÂ§©ÁéãÂØ∫Âå∫\",\"osaka_taisho\":\"Â§ßÈò™Â∏ÇÂ§ßÊ≠£Âå∫\",\"osaka_naniwa\":\"Â§ßÈò™Â∏ÇÊµ™ÈÄüÂå∫\",\"osaka_nishiyodogawa\":\"Â§ßÈò™Â∏ÇË•øÊ∑ÄÂ∑ùÂå∫\",\"osaka_yodogawa\":\"Â§ßÈò™Â∏ÇÊ∑ÄÂ∑ùÂå∫\",\"osaka_higashiyodogawa\":\"Â§ßÈò™Â∏ÇÊù±Ê∑ÄÂ∑ùÂå∫\",\"osaka_ikuno\":\"Â§ßÈò™Â∏ÇÁîüÈáéÂå∫\",\"osaka_asahi\":\"Â§ßÈò™Â∏ÇÊó≠Âå∫\",\"osaka_joto\":\"Â§ßÈò™Â∏ÇÂüéÊù±Âå∫\",\"osaka_abeno\":\"Â§ßÈò™Â∏ÇÈòøÂÄçÈáéÂå∫\",\"osaka_hirano\":\"Â§ßÈò™Â∏ÇÂπ≥ÈáéÂå∫\",\"osaka_suminoe\":\"Â§ßÈò™Â∏Ç‰Ωè‰πãÊ±üÂå∫\",\"osaka_sumiyoshi\":\"Â§ßÈò™Â∏Ç‰ΩèÂêâÂå∫\",\"osaka_tsurumi\":\"Â§ßÈò™Â∏ÇÈ∂¥Ë¶ãÂå∫\",\"osaka_konohana\":\"Â§ßÈò™Â∏ÇÊ≠§Ëä±Âå∫\",\"osaka_fukushima\":\"Â§ßÈò™Â∏ÇÁ¶èÂ≥∂Âå∫\",\"osaka_higashinari\":\"Â§ßÈò™Â∏ÇÊù±ÊàêÂå∫\",\"osaka_nishinari\":\"Â§ßÈò™Â∏ÇË•øÊàêÂå∫\",\"kyoto\":\"‰∫¨ÈÉΩÂ∏Ç\",\"nagoya\":\"ÂêçÂè§Â±ãÂ∏Ç\",\"sapporo\":\"Êú≠ÂπåÂ∏Ç\",\"fukuoka\":\"Á¶èÂ≤°Â∏Ç\",\"kobe\":\"Á•ûÊà∏Â∏Ç\",\"sendai\":\"‰ªôÂè∞Â∏Ç\",\"hiroshima\":\"Â∫ÉÂ≥∂Â∏Ç\",\"kitakyushu\":\"Âåó‰πùÂ∑ûÂ∏Ç\",\"saitama\":\"„Åï„ÅÑ„Åü„ÅæÂ∏Ç\",\"niigata\":\"Êñ∞ÊΩüÂ∏Ç\",\"hamamatsu\":\"ÊµúÊùæÂ∏Ç\",\"shizuoka\":\"ÈùôÂ≤°Â∏Ç\",\"okayama\":\"Â≤°Â±±Â∏Ç\",\"kumamoto\":\"ÁÜäÊú¨Â∏Ç\",\"kagoshima\":\"ÈπøÂÖêÂ≥∂Â∏Ç\",\"utsunomiya\":\"ÂÆáÈÉΩÂÆÆÂ∏Ç\",\"matsuyama\":\"ÊùæÂ±±Â∏Ç\",\"himeji\":\"Âß´Ë∑ØÂ∏Ç\",\"kanazawa\":\"ÈáëÊ≤¢Â∏Ç\",\"nagano\":\"Èï∑ÈáéÂ∏Ç\",\"toyama\":\"ÂØåÂ±±Â∏Ç\",\"gifu\":\"Â≤êÈòúÂ∏Ç\",\"fukui\":\"Á¶è‰∫ïÂ∏Ç\",\"tottori\":\"È≥•ÂèñÂ∏Ç\",\"matsue\":\"ÊùæÊ±üÂ∏Ç\",\"kofu\":\"Áî≤Â∫úÂ∏Ç\",\"mito\":\"Ê∞¥Êà∏Â∏Ç\",\"urawa\":\"Êµ¶ÂíåÂ∏Ç\",\"kawasaki\":\"Â∑ùÂ¥éÂ∏Ç\",\"sagamihara\":\"Áõ∏Ê®°ÂéüÂ∏Ç\",\"yokosuka\":\"Ê®™È†àË≥ÄÂ∏Ç\",\"chigasaki\":\"ËåÖ„É∂Â¥éÂ∏Ç\",\"fujisawa\":\"Ëó§Ê≤¢Â∏Ç\",\"kamakura\":\"ÈéåÂÄâÂ∏Ç\",\"odawara\":\"Â∞èÁî∞ÂéüÂ∏Ç\",\"atami\":\"ÁÜ±Êµ∑Â∏Ç\",\"numazu\":\"Ê≤ºÊ¥•Â∏Ç\",\"toyohashi\":\"Ë±äÊ©ãÂ∏Ç\",\"okazaki\":\"Â≤°Â¥éÂ∏Ç\",\"takayama\":\"È´òÂ±±Â∏Ç\",\"tsuruga\":\"Êï¶Ë≥ÄÂ∏Ç\",\"maizuru\":\"ËàûÈ∂¥Â∏Ç\",\"nara\":\"Â•àËâØÂ∏Ç\",\"kurashiki\":\"ÂÄâÊï∑Â∏Ç\",\"fukuyama\":\"Á¶èÂ±±Â∏Ç\",\"yamaguchi\":\"Â±±Âè£Â∏Ç\",\"shimonoseki\":\"‰∏ãÈñ¢Â∏Ç\",\"tokushima\":\"Âæ≥Â≥∂Â∏Ç\",\"takamatsu\":\"È´òÊùæÂ∏Ç\",\"kochi\":\"È´òÁü•Â∏Ç\",\"saga\":\"‰ΩêË≥ÄÂ∏Ç\",\"nagasaki\":\"Èï∑Â¥éÂ∏Ç\",\"oita\":\"Â§ßÂàÜÂ∏Ç\",\"miyazaki\":\"ÂÆÆÂ¥éÂ∏Ç\",\"naha\":\"ÈÇ£Ë¶áÂ∏Ç\",\"umeda\":\"Ê¢ÖÁî∞ÔºàÂ§ßÈò™Ôºâ\",\"namba\":\"Èõ£Ê≥¢ÔºàÂ§ßÈò™Ôºâ\",\"shinsaibashi\":\"ÂøÉÊñéÊ©ãÔºàÂ§ßÈò™Ôºâ\",\"dotonbori\":\"ÈÅìÈ†ìÂ†ÄÔºàÂ§ßÈò™Ôºâ\",\"tennoji\":\"Â§©ÁéãÂØ∫ÔºàÂ§ßÈò™Ôºâ\",\"roppongi\":\"ÂÖ≠Êú¨Êú®\",\"ginza\":\"ÈäÄÂ∫ß\",\"akihabara\":\"ÁßãËëâÂéü\",\"harajuku\":\"ÂéüÂÆø\",\"asakusa\":\"ÊµÖËçâ\",\"omotesando\":\"Ë°®ÂèÇÈÅì\",\"ikebukuro\":\"Ê±†Ë¢ã\",\"ueno\":\"‰∏äÈáé\"},\"shops\":{\"search\":\"Â∫óËàóÂêç„ÄÅ„Ç®„É™„Ç¢„ÄÅ„Çµ„Éº„Éì„Çπ„ÅßÊ§úÁ¥¢\",\"searchPlaceholder\":\"Â∫óËàóÂêç„ÄÅ„Ç®„É™„Ç¢„ÄÅ„Çµ„Éº„Éì„Çπ„ÅßÊ§úÁ¥¢\",\"categories\":\"„Ç´„ÉÜ„Ç¥„É™„Éº\",\"found\":\"Ë¶ã„Å§„Åã„Çä„Åæ„Åó„Åü\",\"shop\":\"Â∫óËàó\",\"shops\":\"Â∫óËàó\",\"shopsFound\":\"{count}‰ª∂„ÅÆÂ∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü\",\"shopsInAreas\":\"{shops}Â∫óËàó ¬∑ {areas}„Ç®„É™„Ç¢\",\"viewDetails\":\"Ë©≥Á¥∞„ÇíË¶ã„Çã\",\"loading\":\"Â∫óËàó„ÇíË™≠„ÅøËæº„Åø‰∏≠...\",\"noShops\":\"Â∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü\",\"tryAdjusting\":\"Ê§úÁ¥¢„Åæ„Åü„ÅØ„Ç´„ÉÜ„Ç¥„É™„Éº„Éï„Ç£„É´„Çø„Éº„ÇíË™øÊï¥„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ\",\"notAvailable\":\"ÁèæÂú®Âà©Áî®ÂèØËÉΩ„Å™Â∫óËàó„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì\",\"contact\":\"ÈÄ£Áµ°ÂÖà\",\"services\":\"„Çµ„Éº„Éì„Çπ\",\"staff\":\"„Çπ„Çø„ÉÉ„Éï\",\"bookNow\":\"‰ªä„Åô„Åê‰∫àÁ¥Ñ\",\"shopNotFound\":\"Â∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì\",\"shopDoesNotExist\":\"„ÅäÊé¢„Åó„ÅÆÂ∫óËàó„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ\",\"invalidShopId\":\"ÁÑ°Âäπ„Å™Â∫óËàóID\",\"failedToFetchShop\":\"Â∫óËàó„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"photos\":\"ÂÜôÁúü\",\"photosWillAppear\":\"Â∫óËàó„Ç™„Éº„Éä„Éº„ÅåÂÜôÁúü„ÇíËøΩÂä†„Åô„Çã„Å®„ÄÅ„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ\",\"noServicesAvailable\":\"Âà©Áî®ÂèØËÉΩ„Å™„Çµ„Éº„Éì„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"noStaffAvailable\":\"„Çπ„Çø„ÉÉ„ÉïÊÉÖÂ†±„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"filteredByArea\":\"„Ç®„É™„Ç¢„Åß„Éï„Ç£„É´„Çø„Éº:\",\"clearAreaFilter\":\"„Ç®„É™„Ç¢„Éï„Ç£„É´„Çø„Éº„Çí„ÇØ„É™„Ç¢\",\"inAreas\":\"{count}„Ç®„É™„Ç¢\",\"showLess\":\"Êäò„Çä„Åü„Åü„ÇÄÔºà{hidden}‰ª∂ÈùûË°®Á§∫Ôºâ\",\"seeAllAreas\":\"ÂÖ®{count}„Ç®„É™„Ç¢„ÇíË¶ã„Çã ‚Üí\"},\"myShop\":{\"title\":\"„Éû„Ç§„Ç∑„Éß„ÉÉ„Éó\",\"overview\":\"Ê¶ÇË¶Å\",\"services\":\"„Çµ„Éº„Éì„Çπ\",\"staff\":\"„Çπ„Çø„ÉÉ„Éï\",\"bookings\":\"‰∫àÁ¥Ñ\",\"photos\":\"ÂÜôÁúü\",\"shopName\":\"Â∫óËàóÂêç\",\"address\":\"‰ΩèÊâÄ\",\"phone\":\"ÈõªË©±\",\"email\":\"„É°„Éº„É´\",\"website\":\"„Ç¶„Çß„Éñ„Çµ„Ç§„Éà\",\"city\":\"Â∏ÇÂå∫Áî∫Êùë\",\"country\":\"ÂõΩ\",\"zipCode\":\"ÈÉµ‰æøÁï™Âè∑\",\"description\":\"Ë™¨Êòé\",\"saveChanges\":\"Â§âÊõ¥„Çí‰øùÂ≠ò\",\"noShop\":\"„Åæ„Å†Â∫óËàó„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"createShop\":\"Â∫óËàó„Çí‰ΩúÊàê\",\"claimShop\":\"Â∫óËàó„ÇíÁî≥Ë´ã\",\"getStarted\":\"Âßã„ÇÅ„Çã\",\"createNewShop\":\"Êñ∞„Åó„ÅÑÂ∫óËàó„Çí‰ΩúÊàê\",\"startFresh\":\"Êñ∞„Åó„ÅÑÂ∫óËàó„É™„Çπ„Éà„Åã„ÇâÂßã„ÇÅ„Åæ„Åô„ÄÇ\",\"claimExistingShop\":\"Êó¢Â≠ò„ÅÆÂ∫óËàó„ÇíÁî≥Ë´ã\",\"claimOwnership\":\"Êó¢Â≠ò„ÅÆÂ∫óËàó„ÅÆÊâÄÊúâÊ®©„ÇíÁî≥Ë´ã„Åó„Åæ„Åô„ÄÇ\",\"selectUnclaimedShop\":\"ÊâÄÊúâÊ®©„ÇíÁî≥Ë´ã„Åô„ÇãÊú™Áî≥Ë´ã„ÅÆÂ∫óËàó„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"noUnclaimedShops\":\"Âà©Áî®ÂèØËÉΩ„Å™Êú™Áî≥Ë´ã„ÅÆÂ∫óËàó„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"loading\":\"Â∫óËàóË©≥Á¥∞„ÇíË™≠„ÅøËæº„Åø‰∏≠...\",\"createNewService\":\"Êñ∞„Åó„ÅÑ„Çµ„Éº„Éì„Çπ„Çí‰ΩúÊàê\",\"editService\":\"„Çµ„Éº„Éì„Çπ„ÇíÁ∑®ÈõÜ\",\"serviceName\":\"„Çµ„Éº„Éì„ÇπÂêç\",\"serviceDescription\":\"Ë™¨Êòé\",\"servicePrice\":\"‰æ°Ê†ºÔºàÂÜÜÔºâ\",\"serviceDuration\":\"ÊôÇÈñìÔºàÂàÜÔºâ\",\"noServices\":\"„Åæ„Å†„Çµ„Éº„Éì„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"createFirstService\":\"‰∏äË®ò„ÅßÊúÄÂàù„ÅÆ„Çµ„Éº„Éì„Çπ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"addStaff\":\"Êñ∞„Åó„ÅÑ„Çπ„Çø„ÉÉ„Éï„ÇíËøΩÂä†\",\"editStaff\":\"„Çπ„Çø„ÉÉ„Éï„ÇíÁ∑®ÈõÜ\",\"firstName\":\"Âêç\",\"lastName\":\"Âßì\",\"staffPhone\":\"ÈõªË©±\",\"staffEmail\":\"„É°„Éº„É´\",\"noStaff\":\"„Åæ„Å†„Çπ„Çø„ÉÉ„Éï„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"addFirstStaff\":\"‰∏äË®ò„ÅßÊúÄÂàù„ÅÆ„Çπ„Çø„ÉÉ„Éï„ÇíËøΩÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"noBookings\":\"„Åæ„Å†‰∫àÁ¥Ñ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"bookingsWillAppear\":\"„ÅäÂÆ¢Êßò„Åå‰∫àÁ¥Ñ„Çí„Åô„Çã„Å®„ÄÅ„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ\",\"customer\":\"„ÅäÂÆ¢Êßò\",\"dateTime\":\"Êó•ÊôÇ\",\"service\":\"„Çµ„Éº„Éì„Çπ\",\"pending\":\"‰øùÁïô‰∏≠\",\"confirmed\":\"Á¢∫Ë™çÊ∏à„Åø\",\"rejected\":\"ÊãíÂê¶\",\"cancelled\":\"„Ç≠„É£„É≥„Çª„É´Ê∏à„Åø\",\"completed\":\"ÂÆå‰∫Ü\",\"confirmBooking\":\"‰∫àÁ¥Ñ„ÇíÁ¢∫Ë™ç\",\"rejectBooking\":\"‰∫àÁ¥Ñ„ÇíÊãíÂê¶\",\"areYouSureConfirm\":\"„Åì„ÅÆ‰∫àÁ¥Ñ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã\",\"areYouSureReject\":\"„Åì„ÅÆ‰∫àÁ¥Ñ„ÇíÊãíÂê¶„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã\",\"bookingConfirmed\":\"‰∫àÁ¥Ñ„ÅåÁ¢∫Ë™ç„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"bookingRejected\":\"‰∫àÁ¥Ñ„ÅåÊãíÂê¶„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"failedToUpdateStatus\":\"‰∫àÁ¥Ñ„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"uploadLogo\":\"„É≠„Ç¥„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ\",\"changeLogo\":\"„É≠„Ç¥„ÇíÂ§âÊõ¥\",\"uploadCover\":\"„Ç´„Éê„ÉºÂÜôÁúü„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ\",\"changeCover\":\"„Ç´„Éê„ÉºÂÜôÁúü„ÇíÂ§âÊõ¥\",\"uploadGalleryPhoto\":\"„ÇÆ„É£„É©„É™„ÉºÂÜôÁúü„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ\",\"shopLogo\":\"Â∫óËàó„É≠„Ç¥\",\"coverPhoto\":\"„Ç´„Éê„ÉºÂÜôÁúü\",\"galleryPhotos\":\"„ÇÆ„É£„É©„É™„ÉºÂÜôÁúü\",\"noLogo\":\"„É≠„Ç¥„Å™„Åó\",\"shopOverview\":\"Â∫óËàóÊ¶ÇË¶Å\",\"editShop\":\"Â∫óËàó„ÇíÁ∑®ÈõÜ\",\"noGalleryPhotos\":\"„Åæ„Å†„ÇÆ„É£„É©„É™„ÉºÂÜôÁúü„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊúÄÂàù„ÅÆÂÜôÁúü„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ\",\"noCoverPhoto\":\"„Ç´„Éê„ÉºÂÜôÁúü„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\",\"photoUploaded\":\"ÂÜôÁúü„Åå„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"photoDeleted\":\"ÂÜôÁúü„ÅåÂâäÈô§„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"failedToUpload\":\"ÂÜôÁúü„ÅÆ„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"failedToDelete\":\"ÂÜôÁúü„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"photosSaved\":\"ÂÜôÁúü„Åå‰øùÂ≠ò„Åï„Çå„Åæ„Åó„ÅüÔºÅ\"},\"assistant\":{\"title\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"subtitle\":\"È°ßÂÆ¢„Å®„ÅÆ‰ºöË©±„ÇíÁÆ°ÁêÜ„Åó„ÄÅAI„ÅÆ„Çµ„Éù„Éº„Éà„ÇíÂèó„Åë„Åæ„Åô\",\"customerConversations\":\"È°ßÂÆ¢„Å®„ÅÆ‰ºöË©±\",\"selectConversation\":\"‰ºöË©±„ÇíÈÅ∏Êäû\",\"selectConversationDesc\":\"Â∑¶ÂÅ¥„Åã„Çâ„Çπ„É¨„ÉÉ„Éâ„ÇíÈÅ∏Êäû„Åó„Å¶„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫\",\"noConversations\":\"„Åæ„Å†‰ºöË©±„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\",\"loadingThreads\":\"„Çπ„É¨„ÉÉ„Éâ„ÇíË™≠„ÅøËæº„Åø‰∏≠...\",\"youAreHandling\":\"‚úì „ÅÇ„Å™„Åü„ÅåÂØæÂøú‰∏≠\",\"letAiHandle\":\"AI„Å´‰ªª„Åõ„Çã\",\"noMessages\":\"„Åæ„Å†„É°„ÉÉ„Çª„Éº„Ç∏„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\",\"startConversation\":\"‰ºöË©±„ÇíÂßã„ÇÅ„Åæ„Åó„Çá„ÅÜÔºÅ\",\"booking\":\"‰∫àÁ¥Ñ:\",\"sending\":\"ÈÄÅ‰ø°‰∏≠...\",\"send\":\"ÈÄÅ‰ø°\",\"typeMessage\":\"„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...\",\"youAreTyping\":\"ÂÖ•Âäõ‰∏≠...\"},\"status\":{\"pending\":\"‰øùÁïô‰∏≠\",\"confirmed\":\"Á¢∫Ë™çÊ∏à„Åø\",\"rejected\":\"ÊãíÂê¶\",\"cancelled\":\"„Ç≠„É£„É≥„Çª„É´Ê∏à„Åø\",\"completed\":\"ÂÆå‰∫Ü\"},\"reviews\":{\"title\":\"„É¨„Éì„É•„Éº\",\"writeReview\":\"„É¨„Éì„É•„Éº„ÇíÊõ∏„Åè\",\"rating\":\"Ë©ï‰æ°\",\"comment\":\"„Ç≥„É°„É≥„Éà\",\"photos\":\"ÂÜôÁúü\",\"submit\":\"„É¨„Éì„É•„Éº„ÇíÈÄÅ‰ø°\",\"averageRating\":\"Âπ≥ÂùáË©ï‰æ°\",\"totalReviews\":\"Á∑è„É¨„Éì„É•„ÉºÊï∞\",\"verified\":\"Á¢∫Ë™çÊ∏à„Åø‰∫àÁ¥Ñ\",\"ownerResponse\":\"„Ç™„Éº„Éä„Éº„ÅÆËøî‰ø°\",\"respond\":\"„É¨„Éì„É•„Éº„Å´Ëøî‰ø°\",\"noReviews\":\"„É¨„Éì„É•„Éº„ÅØ„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì\",\"addFirstReview\":\"ÊúÄÂàù„ÅÆ„É¨„Éì„É•„Éº„ÇíÊõ∏„ÅÑ„Å¶„Åø„Åæ„Åõ„Çì„Åã\",\"characters\":\"ÊñáÂ≠ó\"},\"analytics\":{\"title\":\"ÂàÜÊûê\",\"overview\":\"Ê¶ÇË¶Å\",\"bookings\":\"‰∫àÁ¥Ñ\",\"revenue\":\"ÂèéÁõä\",\"averagePerDay\":\"1Êó•Âπ≥Âùá\",\"cancellationRate\":\"„Ç≠„É£„É≥„Çª„É´Áéá\",\"bookingTrends\":\"‰∫àÁ¥Ñ„Éà„É¨„É≥„Éâ\",\"servicePopularity\":\"„Çµ„Éº„Éì„Çπ‰∫∫Ê∞ó\",\"staffPerformance\":\"„Çπ„Çø„ÉÉ„ÉïÂÆüÁ∏æ\",\"peakHours\":\"„Éî„Éº„ÇØÊôÇÈñì\",\"customerAnalytics\":\"È°ßÂÆ¢ÂàÜÊûê\",\"newCustomers\":\"Êñ∞Ë¶èÈ°ßÂÆ¢\",\"returningCustomers\":\"„É™„Éî„Éº„Çø„Éº\",\"dateRange\":\"ÊúüÈñì\",\"last7Days\":\"ÈÅéÂéª7Êó•Èñì\",\"last30Days\":\"ÈÅéÂéª30Êó•Èñì\",\"last90Days\":\"ÈÅéÂéª90Êó•Èñì\",\"custom\":\"„Ç´„Çπ„Çø„É†\",\"date\":\"Êó•‰ªò\"},\"line\":{\"loginWithLine\":\"LINE„Åß„É≠„Ç∞„Ç§„É≥\",\"connectLineAccount\":\"LINE„Ç¢„Ç´„Ç¶„É≥„Éà„ÇíÊé•Á∂ö\",\"lineConnected\":\"LINEÊé•Á∂öÊ∏à„Åø\",\"lineNotConnected\":\"LINEÊú™Êé•Á∂ö\",\"shareOnLine\":\"LINE„Åß„Ç∑„Çß„Ç¢\",\"disconnect\":\"ÂàáÊñ≠\"}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1702, "column": 12413}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1706, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/NextIntlProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { NextIntlClientProvider } from 'next-intl';\r\nimport { ReactNode, useEffect, useState } from 'react';\r\n// Import default messages for SSR\r\nimport enMessages from '../../messages/en.json';\r\nimport jaMessages from '../../messages/ja.json';\r\n\r\n// Ensure messages are always valid objects\r\nconst defaultMessages = enMessages && typeof enMessages === 'object' ? enMessages : {};\r\nconst defaultJaMessages = jaMessages && typeof jaMessages === 'object' ? jaMessages : {};\r\n\r\nexport function NextIntlProviderWrapper({ children }: { children: ReactNode }) {\r\n  const [locale, setLocale] = useState<'en' | 'ja'>('en');\r\n  const [messages, setMessages] = useState<any>(defaultMessages); // Start with default messages\r\n\r\n  useEffect(() => {\r\n    // Get locale from cookie or localStorage\r\n    const getStoredLocale = (): 'en' | 'ja' => {\r\n      if (typeof window === 'undefined') return 'en';\r\n      \r\n      // Try cookie first\r\n      const cookies = document.cookie.split(';');\r\n      const langCookie = cookies.find(c => c.trim().startsWith('yoyaku_yo_language='));\r\n      if (langCookie) {\r\n        const value = langCookie.split('=')[1]?.trim();\r\n        if (value === 'en' || value === 'ja') {\r\n          return value;\r\n        }\r\n      }\r\n      \r\n      // Fallback to localStorage\r\n      const stored = localStorage.getItem('yoyaku_yo_language');\r\n      if (stored === 'en' || stored === 'ja') {\r\n        return stored;\r\n      }\r\n      \r\n      return 'en';\r\n    };\r\n\r\n    const currentLocale = getStoredLocale();\r\n    setLocale(currentLocale);\r\n    \r\n    // Set messages based on locale\r\n    if (currentLocale === 'ja') {\r\n      setMessages(defaultJaMessages);\r\n    } else {\r\n      setMessages(defaultMessages);\r\n    }\r\n  }, []);\r\n\r\n  // Listen for locale changes\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      // Check both cookie and localStorage\r\n      const cookies = document.cookie.split(';');\r\n      const langCookie = cookies.find(c => c.trim().startsWith('yoyaku_yo_language='));\r\n      let newLocale: 'en' | 'ja' | null = null;\r\n      \r\n      if (langCookie) {\r\n        const value = langCookie.split('=')[1]?.trim();\r\n        if (value === 'en' || value === 'ja') {\r\n          newLocale = value;\r\n        }\r\n      }\r\n      \r\n      // Fallback to localStorage if cookie not found\r\n      if (!newLocale) {\r\n        const stored = localStorage.getItem('yoyaku_yo_language');\r\n        if (stored === 'en' || stored === 'ja') {\r\n          newLocale = stored;\r\n        }\r\n      }\r\n      \r\n      if (newLocale) {\r\n        // Use functional update to avoid dependency on locale\r\n        setLocale(prevLocale => {\r\n          if (prevLocale !== newLocale) {\r\n            setMessages(newLocale === 'ja' ? defaultJaMessages : defaultMessages);\r\n            return newLocale;\r\n          }\r\n          return prevLocale;\r\n        });\r\n      }\r\n    };\r\n\r\n    // Listen for custom event when language changes\r\n    window.addEventListener('languageChanged', handleStorageChange);\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('languageChanged', handleStorageChange);\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []); // Empty dependency array - only set up listeners once\r\n\r\n  // Ensure messages is always a valid object with proper structure\r\n  const safeMessages = messages && typeof messages === 'object' ? messages : defaultMessages;\r\n  \r\n  // Validate that shops.photos exists in messages\r\n  if (process.env.NODE_ENV === 'development' && safeMessages.shops && !safeMessages.shops.photos) {\r\n    console.warn('‚ö†Ô∏è shops.photos missing in messages, adding fallback');\r\n    safeMessages.shops = {\r\n      ...safeMessages.shops,\r\n      photos: locale === 'ja' ? 'ÂÜôÁúü' : 'Photos',\r\n    };\r\n  }\r\n  \r\n  return (\r\n    <NextIntlClientProvider \r\n      locale={locale} \r\n      messages={safeMessages}\r\n      onError={(error) => {\r\n        // Silently handle missing translation keys - getMessageFallback will handle them\r\n        // Only log unexpected errors in development\r\n        if (process.env.NODE_ENV === 'development' && error.code !== 'MISSING_MESSAGE') {\r\n          console.warn('next-intl error:', error);\r\n        }\r\n      }}\r\n      getMessageFallback={({ namespace, key, error }) => {\r\n        // Provide fallback for missing messages\r\n        if (key === 'shops.photos') {\r\n          return locale === 'ja' ? 'ÂÜôÁúü' : 'Photos';\r\n        }\r\n        \r\n        // Handle missing city/prefecture keys gracefully\r\n        if (key.startsWith('cities.') || key.startsWith('prefectures.')) {\r\n          // Extract the name from the key (e.g., \"cities.tokyo\" -> \"tokyo\")\r\n          const name = key.split('.').pop() || key;\r\n          // Format nicely: replace dashes/underscores with spaces, capitalize words\r\n          return name\r\n            .replace(/[-_]/g, ' ')\r\n            .replace(/\\b\\w/g, (l) => l.toUpperCase())\r\n            .trim();\r\n        }\r\n        \r\n        // For other missing keys, return the key itself (next-intl will handle it)\r\n        return key;\r\n      }}\r\n    >\r\n      {children}\r\n    </NextIntlClientProvider>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}