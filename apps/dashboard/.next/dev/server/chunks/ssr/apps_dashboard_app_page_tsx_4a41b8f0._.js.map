{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/page.tsx"],"sourcesContent":["// apps/dashboard/app/page.tsx\r\n// Root route - public home page with authentication modals\r\n\r\n\"use client\";\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { getSupabaseClient } from '@/lib/supabaseClient';\r\nimport { AuthError } from '@supabase/supabase-js';\r\nimport { useAuth } from '@/lib/useAuth';\r\nimport { useTranslations } from 'next-intl';\r\nimport CategoryCarousel from './components/CategoryCarousel';\r\n\r\n// Modal component - defined outside to prevent recreation on every render\r\nconst Modal = React.memo(({ isOpen, onClose, children }: { isOpen: boolean; onClose: () => void; children: React.ReactNode }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50\" \r\n      onClick={onClose}\r\n      onMouseDown={(e) => {\r\n        // Only close if clicking the backdrop, not the modal content\r\n        if (e.target === e.currentTarget) {\r\n          onClose();\r\n        }\r\n      }}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative\" \r\n        onClick={(e) => e.stopPropagation()}\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n        onKeyDown={(e) => {\r\n          // Prevent ESC key from bubbling up\r\n          if (e.key === 'Escape') {\r\n            e.stopPropagation();\r\n          }\r\n        }}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            onClose();\r\n          }}\r\n          onMouseDown={(e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }}\r\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl leading-none\"\r\n        >\r\n          √ó\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nModal.displayName = 'Modal';\r\n\r\nexport default function Home() {\r\n  console.log(\"üî• Landing page reached\");\r\n  const router = useRouter();\r\n  const { user, loading: authLoading } = useAuth();\r\n  \r\n  // Safe useTranslations with fallback\r\n  let t: ReturnType<typeof useTranslations>;\r\n  try {\r\n    t = useTranslations();\r\n  } catch (error) {\r\n    // If useTranslations fails (provider not ready), use fallback function\r\n    console.warn(\"üî• useTranslations not ready, using fallback:\", error);\r\n    t = ((key: string) => key) as ReturnType<typeof useTranslations>;\r\n  }\r\n  const [showLoginModal, setShowLoginModal] = useState(false);\r\n  const [showSignupModal, setShowSignupModal] = useState(false);\r\n  \r\n  // Login form state\r\n  const [loginEmail, setLoginEmail] = useState('');\r\n  const [loginPassword, setLoginPassword] = useState('');\r\n  const [loginError, setLoginError] = useState<string | null>(null);\r\n  const [loginLoading, setLoginLoading] = useState(false);\r\n  \r\n  // Signup form state\r\n  const [signupName, setSignupName] = useState('');\r\n  const [signupEmail, setSignupEmail] = useState('');\r\n  const [signupPassword, setSignupPassword] = useState('');\r\n  const [signupShopName, setSignupShopName] = useState('');\r\n  const [signupError, setSignupError] = useState<string | null>(null);\r\n  const [signupLoading, setSignupLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Listen for modal open events from navbar\r\n    const handleOpenLoginModal = () => {\r\n      setShowLoginModal(true);\r\n    };\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener('openLoginModal', handleOpenLoginModal);\r\n    }\r\n    return () => {\r\n      if (typeof window !== 'undefined') {\r\n        window.removeEventListener('openLoginModal', handleOpenLoginModal);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (!authLoading && user) {\r\n      router.push('/shops');\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  const handleLoginSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoginError(null);\r\n    setLoginLoading(true);\r\n\r\n    try {\r\n      const { error: signInError } = await getSupabaseClient().auth.signInWithPassword({\r\n        email: loginEmail,\r\n        password: loginPassword,\r\n      });\r\n\r\n      if (signInError) {\r\n        setLoginError(signInError.message);\r\n        setLoginLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Success - modal will close and user will be redirected\r\n      setShowLoginModal(false);\r\n      router.push('/shops');\r\n      router.refresh();\r\n    } catch (err) {\r\n      const authError = err as AuthError;\r\n      setLoginError(authError.message || t('auth.unexpectedError'));\r\n      setLoginLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSignupSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    setSignupError(null);\r\n    setSignupLoading(true);\r\n\r\n    try {\r\n      // Validate required fields\r\n      if (!signupName || !signupEmail || !signupPassword) {\r\n        setSignupError(t('auth.fillRequiredFields'));\r\n        setSignupLoading(false);\r\n        return;\r\n      }\r\n\r\n      const supabase = getSupabaseClient();\r\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\n      // Step 1: Create user in Supabase Auth\r\n      console.log('Creating user in Supabase Auth...');\r\n      const { data: authData, error: signUpError } = await supabase.auth.signUp({\r\n        email: signupEmail,\r\n        password: signupPassword,\r\n        options: {\r\n          data: {\r\n            name: signupName,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (signUpError) {\r\n        console.error('Signup error:', signUpError);\r\n        setSignupError(signUpError.message);\r\n        setSignupLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!authData.user) {\r\n        console.error('No user returned from signup');\r\n        setSignupError('Failed to create user account');\r\n        setSignupLoading(false);\r\n        return;\r\n      }\r\n\r\n      const userId = authData.user.id;\r\n      console.log('User created in Auth:', userId);\r\n\r\n      // Step 2: Create user record in public.users and shop via backend API\r\n      console.log('Setting up user record and shop...');\r\n      const setupRes = await fetch(`${apiUrl}/auth/signup-owner`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          user_id: userId,\r\n          name: signupName,\r\n          email: signupEmail,\r\n          shop_name: signupShopName || null,\r\n        }),\r\n      });\r\n\r\n      if (!setupRes.ok) {\r\n        const errorData = await setupRes.json().catch(() => ({ error: 'Failed to setup account' }));\r\n        console.error('Setup API error:', errorData);\r\n        setSignupError(errorData.error || t('auth.failedToSetupAccount'));\r\n        setSignupLoading(false);\r\n        return;\r\n      }\r\n\r\n      const setupData = await setupRes.json();\r\n      console.log('Account setup successful:', setupData);\r\n\r\n      // Step 3: Sign in the user (they should already be signed in after signUp, but verify)\r\n      console.log('Verifying sign-in...');\r\n      const { data: sessionData } = await supabase.auth.getSession();\r\n      \r\n      if (!sessionData.session) {\r\n        // If not signed in, sign in explicitly\r\n        console.log('Signing in user...');\r\n        const { error: signInError } = await supabase.auth.signInWithPassword({\r\n          email: signupEmail,\r\n          password: signupPassword,\r\n        });\r\n\r\n        if (signInError) {\r\n          console.error('Sign in error:', signInError);\r\n          setSignupError(`Account created but sign-in failed: ${signInError.message}. Please sign in manually.`);\r\n          setSignupLoading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Success - wait a moment for auth state to update, then close modal and redirect\r\n      \r\n      // Small delay to ensure auth state updates\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      // Close modal only after successful setup\r\n      setShowSignupModal(false);\r\n      \r\n      // Redirect to my-shop\r\n      router.push('/shops');\r\n      router.refresh();\r\n    } catch (err) {\r\n      console.error('Unexpected error during signup:', err);\r\n      const errorMessage = err instanceof Error ? err.message : t('auth.unexpectedError');\r\n      setSignupError(errorMessage);\r\n      setSignupLoading(false);\r\n    }\r\n  };\r\n\r\n  // Stable callbacks for modal close handlers\r\n  const handleCloseLoginModal = useCallback(() => setShowLoginModal(false), []);\r\n  const handleCloseSignupModal = useCallback(() => setShowSignupModal(false), []);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      {/* Hero Section */}\r\n      <section className=\"py-16 md:py-24\">\r\n        <div className=\"max-w-4xl mx-auto px-4 text-center\">\r\n          <h1 className=\"text-5xl md:text-6xl font-bold text-gray-900 mb-6\">\r\n            {t('home.title')}\r\n          </h1>\r\n          <p className=\"text-xl md:text-2xl text-gray-600 mb-8\">\r\n            {t('home.subtitle')}\r\n          </p>\r\n          <ul className=\"space-y-3 mb-10 max-w-2xl mx-auto text-left\">\r\n            <li className=\"flex items-start gap-3\">\r\n              <span className=\"text-2xl mt-1\">‚úì</span>\r\n              <span className=\"text-lg text-gray-700\">\r\n                {t('home.feature1')}\r\n              </span>\r\n            </li>\r\n            <li className=\"flex items-start gap-3\">\r\n              <span className=\"text-2xl mt-1\">‚úì</span>\r\n              <span className=\"text-lg text-gray-700\">\r\n                {t('home.feature2')}\r\n              </span>\r\n            </li>\r\n            <li className=\"flex items-start gap-3\">\r\n              <span className=\"text-2xl mt-1\">‚úì</span>\r\n              <span className=\"text-lg text-gray-700\">\r\n                {t('home.feature3')}\r\n              </span>\r\n            </li>\r\n          </ul>\r\n          <div className=\"flex gap-4 justify-center flex-wrap\">\r\n            <Link\r\n              href=\"/browse\"\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-200\"\r\n            >\r\n              {t('home.browseShops')}\r\n            </Link>\r\n            <button\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                setShowLoginModal(true);\r\n              }}\r\n              className=\"bg-white hover:bg-gray-50 text-gray-700 font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 border border-gray-300\"\r\n            >\r\n              {t('home.ownerLogin')}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                setShowSignupModal(true);\r\n              }}\r\n              className=\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-200\"\r\n            >\r\n              {t('home.joinAsOwner')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Features Section */}\r\n      <section className=\"py-16 border-t border-gray-200 bg-gray-50\">\r\n        <div className=\"max-w-6xl mx-auto px-4\">\r\n          <div className=\"grid md:grid-cols-3 gap-8\">\r\n            <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n              <div className=\"text-4xl mb-4\">üîç</div>\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                {t('home.forCustomers')}\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                {t('home.forCustomersDesc')}\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n              <div className=\"text-4xl mb-4\">üëî</div>\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                {t('home.forOwners')}\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                {t('home.forOwnersDesc')}\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n              <div className=\"text-4xl mb-4\">ü§ñ</div>\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                {t('home.aiAssistance')}\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                {t('home.aiAssistanceDesc')}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Login Modal */}\r\n      <Modal isOpen={showLoginModal} onClose={handleCloseLoginModal}>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n          {t('auth.signInToShop')}\r\n        </h2>\r\n\r\n        {loginError && (\r\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n            {loginError}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleLoginSubmit} className=\"space-y-5\">\r\n          <div>\r\n            <label htmlFor=\"login-email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              {t('common.email')}\r\n            </label>\r\n            <input\r\n              id=\"login-email\"\r\n              type=\"email\"\r\n              value={loginEmail}\r\n              onChange={(e) => setLoginEmail(e.target.value)}\r\n              required\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\r\n              placeholder=\"your@email.com\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"login-password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              {t('auth.password')}\r\n            </label>\r\n            <input\r\n              id=\"login-password\"\r\n              type=\"password\"\r\n              value={loginPassword}\r\n              onChange={(e) => setLoginPassword(e.target.value)}\r\n              required\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\r\n              placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loginLoading}\r\n            className=\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n          >\r\n            {loginLoading ? t('auth.signingIn') : t('auth.signIn')}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"mt-6 text-center text-sm text-gray-600\">\r\n          {t('auth.dontHaveAccount')}{' '}\r\n          <button\r\n            onClick={() => {\r\n              setShowLoginModal(false);\r\n              setShowSignupModal(true);\r\n            }}\r\n            className=\"text-blue-600 hover:text-blue-700 font-medium\"\r\n          >\r\n            {t('home.joinAsOwner')}\r\n          </button>\r\n        </p>\r\n      </Modal>\r\n\r\n      {/* Signup Modal */}\r\n      <Modal isOpen={showSignupModal} onClose={handleCloseSignupModal}>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n          {t('auth.createOwnerAccount')}\r\n        </h2>\r\n\r\n        {signupError && (\r\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n            {signupError}\r\n          </div>\r\n        )}\r\n\r\n        <form \r\n          onSubmit={handleSignupSubmit} \r\n          className=\"space-y-4\"\r\n          noValidate\r\n        >\r\n          <div>\r\n            <label htmlFor=\"signup-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              {t('auth.ownerName')} <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"signup-name\"\r\n              type=\"text\"\r\n              value={signupName}\r\n              onChange={(e) => setSignupName(e.target.value)}\r\n              required\r\n              autoComplete=\"name\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\r\n              placeholder={t('auth.ownerName')}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"signup-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              {t('common.email')} <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"signup-email\"\r\n              type=\"email\"\r\n              value={signupEmail}\r\n              onChange={(e) => setSignupEmail(e.target.value)}\r\n              required\r\n              autoComplete=\"email\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\r\n              placeholder=\"your@email.com\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"signup-password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              {t('auth.password')} <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"signup-password\"\r\n              type=\"password\"\r\n              value={signupPassword}\r\n              onChange={(e) => setSignupPassword(e.target.value)}\r\n              required\r\n              minLength={6}\r\n              autoComplete=\"new-password\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\r\n              placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"signup-shop-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              {t('myShop.shopName')} <span className=\"text-gray-400 text-xs\">({t('common.optional')})</span>\r\n            </label>\r\n            <input\r\n              id=\"signup-shop-name\"\r\n              type=\"text\"\r\n              value={signupShopName}\r\n              onChange={(e) => setSignupShopName(e.target.value)}\r\n              autoComplete=\"organization\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\r\n              placeholder={t('myShop.shopName')}\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            disabled={signupLoading}\r\n            onClick={async (e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              // Call handler directly with a minimal event object\r\n              const formEvent = {\r\n                preventDefault: () => {},\r\n                stopPropagation: () => {},\r\n              } as unknown as React.FormEvent<HTMLFormElement>;\r\n              await handleSignupSubmit(formEvent);\r\n            }}\r\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n          >\r\n            {signupLoading ? t('auth.creatingAccount') : t('auth.signUp')}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"mt-6 text-center text-sm text-gray-600\">\r\n          {t('auth.alreadyHaveAccount')}{' '}\r\n          <button\r\n            onClick={() => {\r\n              setShowSignupModal(false);\r\n              setShowLoginModal(true);\r\n            }}\r\n            className=\"text-blue-600 hover:text-blue-700 font-medium\"\r\n          >\r\n            {t('auth.signIn')}\r\n          </button>\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}