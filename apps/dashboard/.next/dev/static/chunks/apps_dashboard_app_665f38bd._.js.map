{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/BookingCalendar.tsx"],"sourcesContent":["// apps/dashboard/app/components/BookingCalendar.tsx\r\n\"use client\";\r\n\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { apiUrl } from '@/lib/apiClient';\r\n\r\ninterface Booking {\r\n  id: string;\r\n  start_time: string;\r\n  status: 'pending' | 'confirmed' | 'rejected' | 'cancelled' | 'completed';\r\n  customer_name?: string;\r\n  services?: { name: string } | null;\r\n}\r\n\r\ninterface BookingCalendarProps {\r\n  bookings: Booking[];\r\n  onDateClick?: (date: Date) => void;\r\n  selectedDate?: Date | null;\r\n  shopId?: string; // Add shopId prop\r\n}\r\n\r\nexport default function BookingCalendar({ bookings, onDateClick, selectedDate, shopId }: BookingCalendarProps) {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [openingHours, setOpeningHours] = useState<Record<string, { start: string; end: string }> | null>(null);\r\n  const [holidays, setHolidays] = useState<Set<string>>(new Set());\r\n\r\n  // Fetch opening hours if shopId is provided\r\n  useEffect(() => {\r\n    if (!shopId) return;\r\n    \r\n    const fetchOpeningHours = async () => {\r\n      try {\r\n        const res = await fetch(`${apiUrl}/shops/${shopId}`);\r\n        if (res.ok) {\r\n          const shop = await res.json();\r\n          if (shop.opening_hours && typeof shop.opening_hours === 'object') {\r\n            setOpeningHours(shop.opening_hours);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching opening hours:', error);\r\n      }\r\n    };\r\n\r\n    fetchOpeningHours();\r\n  }, [shopId]);\r\n\r\n  // Fetch holidays if shopId is provided\r\n  useEffect(() => {\r\n    if (!shopId) return;\r\n    \r\n    const fetchHolidays = async () => {\r\n      try {\r\n        const res = await fetch(`${apiUrl}/shops/${shopId}/holidays`);\r\n        if (res.ok) {\r\n          const holidaysData = await res.json();\r\n          // Convert to Set of date strings (YYYY-MM-DD) for fast lookup\r\n          const holidayDates = new Set<string>(\r\n            holidaysData.map((h: { date: string }) => h.date)\r\n          );\r\n          setHolidays(holidayDates);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching holidays:', error);\r\n      }\r\n    };\r\n\r\n    fetchHolidays();\r\n  }, [shopId]);\r\n\r\n  // Group bookings by date\r\n  const bookingsByDate = useMemo(() => {\r\n    const grouped: Record<string, Booking[]> = {};\r\n    bookings.forEach(booking => {\r\n      if (booking.start_time) {\r\n        const date = new Date(booking.start_time);\r\n        const dateKey = date.toISOString().split('T')[0]; // YYYY-MM-DD\r\n        if (!grouped[dateKey]) {\r\n          grouped[dateKey] = [];\r\n        }\r\n        grouped[dateKey].push(booking);\r\n      }\r\n    });\r\n    return grouped;\r\n  }, [bookings]);\r\n\r\n  // Custom tile content to show booking count, holidays, and open days\r\n  const tileContent = ({ date, view }: { date: Date; view: string }) => {\r\n    if (view === 'month') {\r\n      const dateKey = date.toISOString().split('T')[0];\r\n      const dayBookings = bookingsByDate[dateKey] || [];\r\n      const isHoliday = holidays.has(dateKey);\r\n      const dayOfWeek = date.getDay();\r\n      const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n      const dayName = dayNames[dayOfWeek];\r\n      const isOpen = openingHours && openingHours[dayName] && !isHoliday;\r\n      \r\n      if (isHoliday || isOpen || dayBookings.length > 0) {\r\n        const pendingCount = dayBookings.filter(b => b.status === 'pending').length;\r\n        const confirmedCount = dayBookings.filter(b => b.status === 'confirmed').length;\r\n        \r\n        return (\r\n          <div className=\"flex flex-col items-center gap-1 mt-1\">\r\n            {isHoliday && (\r\n              <div className=\"w-2 h-2 bg-red-500 rounded-full\" title=\"Holiday - Shop Closed\"></div>\r\n            )}\r\n            {isOpen && !isHoliday && (\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\" title=\"Shop Open\"></div>\r\n            )}\r\n            {pendingCount > 0 && (\r\n              <div className=\"w-2 h-2 bg-yellow-500 rounded-full\" title={`${pendingCount} pending`}></div>\r\n            )}\r\n            {confirmedCount > 0 && (\r\n              <div className=\"w-2 h-2 bg-blue-500 rounded-full\" title={`${confirmedCount} confirmed`}></div>\r\n            )}\r\n            {dayBookings.length > 2 && (\r\n              <span className=\"text-xs text-gray-600 font-semibold\">{dayBookings.length}</span>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // Custom tile className for styling\r\n  const tileClassName = ({ date, view }: { date: Date; view: string }) => {\r\n    if (view === 'month') {\r\n      const dateKey = date.toISOString().split('T')[0];\r\n      const dayBookings = bookingsByDate[dateKey] || [];\r\n      const isHoliday = holidays.has(dateKey);\r\n      const dayOfWeek = date.getDay();\r\n      const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n      const dayName = dayNames[dayOfWeek];\r\n      const isOpen = openingHours && openingHours[dayName] && !isHoliday;\r\n      \r\n      if (isHoliday) {\r\n        return 'is-holiday';\r\n      }\r\n      \r\n      if (isOpen) {\r\n        return 'is-open';\r\n      }\r\n      \r\n      if (dayBookings.length > 0) {\r\n        return 'has-bookings';\r\n      }\r\n      \r\n      // Highlight selected date\r\n      if (selectedDate && dateKey === selectedDate.toISOString().split('T')[0]) {\r\n        return 'selected-date';\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleDateChange = (value: any) => {\r\n    if (!value || Array.isArray(value)) return;\r\n    const dateValue = value as Date;\r\n    setCurrentDate(dateValue);\r\n    if (onDateClick) {\r\n      onDateClick(dateValue);\r\n    }\r\n  };\r\n\r\n  // Format hours for display\r\n  const formatHours = (dayName: string) => {\r\n    if (!openingHours || !openingHours[dayName]) return null;\r\n    const hours = openingHours[dayName];\r\n    return `${hours.start} - ${hours.end}`;\r\n  };\r\n\r\n  const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n  const dayDisplayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md border border-gray-200 p-6\">\r\n      <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Calendar View</h2>\r\n      \r\n      {/* Opening Hours Section */}\r\n      {openingHours && Object.keys(openingHours).length > 0 && (\r\n        <div className=\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n          <h3 className=\"text-sm font-semibold text-gray-800 mb-3\">Opening Hours</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm\">\r\n            {dayNames.map((dayName, index) => {\r\n              const hours = formatHours(dayName);\r\n              if (!hours) return null;\r\n              return (\r\n                <div key={dayName} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-600 font-medium\">{dayDisplayNames[index]}:</span>\r\n                  <span className=\"text-gray-900 font-semibold\">{hours}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex justify-center\">\r\n        <Calendar\r\n          onChange={handleDateChange}\r\n          value={currentDate}\r\n          tileContent={tileContent}\r\n          tileClassName={tileClassName}\r\n          className=\"w-full border-0\"\r\n        />\r\n      </div>\r\n      \r\n      {/* Legend */}\r\n      <div className=\"mt-4 flex items-center gap-4 justify-center text-sm flex-wrap\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\r\n          <span className=\"text-gray-600\">Holiday (Closed)</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n          <span className=\"text-gray-600\">Open</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\r\n          <span className=\"text-gray-600\">Pending</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n          <span className=\"text-gray-600\">Confirmed</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <style jsx global>{`\r\n        .react-calendar {\r\n          width: 100%;\r\n          border: none;\r\n          font-family: inherit;\r\n        }\r\n        .react-calendar__tile {\r\n          padding: 10px;\r\n          position: relative;\r\n        }\r\n        .react-calendar__tile.has-bookings {\r\n          background-color: #f0f9ff;\r\n        }\r\n        .react-calendar__tile.is-holiday {\r\n          background-color: #fee2e2 !important;\r\n          opacity: 0.7;\r\n        }\r\n        .react-calendar__tile.is-holiday:hover {\r\n          background-color: #fecaca !important;\r\n        }\r\n        .react-calendar__tile.is-open {\r\n          background-color: #dcfce7 !important;\r\n        }\r\n        .react-calendar__tile.is-open:hover {\r\n          background-color: #bbf7d0 !important;\r\n        }\r\n        .react-calendar__tile.selected-date {\r\n          background-color: #3b82f6 !important;\r\n          color: white !important;\r\n        }\r\n        .react-calendar__tile:enabled:hover {\r\n          background-color: #e0f2fe;\r\n        }\r\n        .react-calendar__tile--active {\r\n          background-color: #3b82f6 !important;\r\n          color: white !important;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/BookingNotificationBar.tsx"],"sourcesContent":["// apps/dashboard/app/components/BookingNotificationBar.tsx\r\n\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\n\r\ninterface BookingNotification {\r\n  id: string;\r\n  customerName: string;\r\n  serviceName?: string;\r\n  date: string;\r\n  time: string;\r\n  isAICreated: boolean;\r\n}\r\n\r\ninterface BookingNotificationBarProps {\r\n  notification: BookingNotification | null;\r\n  onDismiss: () => void;\r\n  onViewBooking: (bookingId: string) => void;\r\n}\r\n\r\nexport default function BookingNotificationBar({ \r\n  notification, \r\n  onDismiss, \r\n  onViewBooking \r\n}: BookingNotificationBarProps) {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (notification) {\r\n      setIsVisible(true);\r\n      // Auto-dismiss after 5 seconds\r\n      const timer = setTimeout(() => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onDismiss(), 300); // Wait for animation\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [notification, onDismiss]);\r\n\r\n  if (!notification || !isVisible) return null;\r\n\r\n  return (\r\n    <div className=\"fixed top-16 left-64 right-0 z-50 px-6 py-4 animate-slide-down\">\r\n      <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg shadow-lg p-4 flex items-center justify-between max-w-4xl mx-auto\">\r\n        <div className=\"flex items-center gap-4 flex-1\">\r\n          <div className=\"flex-shrink-0\">\r\n            <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n              <span className=\"font-bold text-lg\">New Booking!</span>\r\n              {notification.isAICreated && (\r\n                <span className=\"px-2 py-0.5 bg-white/20 rounded-full text-xs font-semibold\">\r\n                  ü§ñ AI Created\r\n                </span>\r\n              )}\r\n            </div>\r\n            <p className=\"text-sm text-blue-100\">\r\n              <span className=\"font-semibold\">{notification.customerName}</span>\r\n              {notification.serviceName && ` booked ${notification.serviceName}`}\r\n              {` on ${notification.date} at ${notification.time}`}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={() => onViewBooking(notification.id)}\r\n            className=\"px-4 py-2 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors\"\r\n          >\r\n            View\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setIsVisible(false);\r\n              setTimeout(() => onDismiss(), 300);\r\n            }}\r\n            className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <style jsx>{`\r\n        @keyframes slide-down {\r\n          from {\r\n            transform: translateY(-100%);\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            transform: translateY(0);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        .animate-slide-down {\r\n          animation: slide-down 0.3s ease-out;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,2DAA2D;;;;;;;AAG3D;;;AAFA;;;AAmBe,SAAS,uBAAuB,EAC7C,YAAY,EACZ,SAAS,EACT,aAAa,EACe;;IAC5B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;4CAAC;YACR,IAAI,cAAc;gBAChB,aAAa;gBACb,+BAA+B;gBAC/B,MAAM,QAAQ;8DAAW;wBACvB,aAAa;wBACb;sEAAW,IAAM;qEAAa,MAAM,qBAAqB;oBAC3D;6DAAG;gBACH;wDAAO,IAAM,aAAa;;YAC5B;QACF;2CAAG;QAAC;QAAc;KAAU;IAE5B,IAAI,CAAC,gBAAgB,CAAC,WAAW,OAAO;IAExC,qBACE,6LAAC;kDAAc;;0BACb,6LAAC;0DAAc;;kCACb,6LAAC;kEAAc;;0CACb,6LAAC;0EAAc;0CACb,cAAA,6LAAC;8EAAc;8CACb,cAAA,6LAAC;wCAAwB,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kFAApD;kDACb,cAAA,6LAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;0CAI3E,6LAAC;0EAAc;;kDACb,6LAAC;kFAAc;;0DACb,6LAAC;0FAAe;0DAAoB;;;;;;4CACnC,aAAa,WAAW,kBACvB,6LAAC;0FAAe;0DAA6D;;;;;;;;;;;;kDAKjF,6LAAC;kFAAY;;0DACX,6LAAC;0FAAe;0DAAiB,aAAa,YAAY;;;;;;4CACzD,aAAa,WAAW,IAAI,CAAC,QAAQ,EAAE,aAAa,WAAW,EAAE;4CACjE,CAAC,IAAI,EAAE,aAAa,IAAI,CAAC,IAAI,EAAE,aAAa,IAAI,EAAE;;;;;;;;;;;;;;;;;;;kCAIzD,6LAAC;kEAAc;;0CACb,6LAAC;gCACC,SAAS,IAAM,cAAc,aAAa,EAAE;0EAClC;0CACX;;;;;;0CAGD,6LAAC;gCACC,SAAS;oCACP,aAAa;oCACb,WAAW,IAAM,aAAa;gCAChC;0EACU;0CAEV,cAAA,6LAAC;oCAAwB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8EAApD;8CACb,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBnF;GAtFwB;KAAA"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/bookings/page.tsx"],"sourcesContent":["// apps/dashboard/app/bookings/page.tsx\n\n\"use client\";\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport Link from 'next/link';\nimport { useAuth } from '@/lib/useAuth';\nimport { useBookingNotifications } from '../components/BookingNotificationContext';\nimport BookingCalendar from '../components/BookingCalendar';\nimport BookingNotificationBar from '../components/BookingNotificationBar';\nimport { getSupabaseClient } from '@/lib/supabaseClient';\nimport { apiUrl } from '@/lib/apiClient';\n\ninterface Booking {\n    id: string;\n    shop_id: string;\n    service_id: string;\n    staff_id: string;\n    customer_id: string;\n    customer_name?: string;\n    customer_email?: string;\n    customer_phone?: string;\n    date?: string;\n    time?: string;\n    start_time: string;\n    end_time: string;\n    notes: string;\n    status: 'pending' | 'confirmed' | 'rejected' | 'cancelled' | 'completed';\n    shops?: { name: string } | null;\n    services?: { name: string } | null;\n    staff?: { first_name: string; last_name: string } | null;\n}\n\ninterface Shop {\n    id: string;\n    name: string;\n}\n\ninterface Service {\n    id: string;\n    name: string;\n}\n\ninterface Staff {\n    id: string;\n    first_name: string;\n    last_name: string;\n}\n\ninterface Timeslot {\n    id: string;\n    start_time: string;\n    end_time: string;\n}\n\nconst BookingsPage = () => {\n    const { user } = useAuth();\n    const { setUnreadBookingsCount } = useBookingNotifications();\n    const [bookings, setBookings] = useState<Booking[]>([]);\n    const [shops, setShops] = useState<Shop[]>([]);\n    const [services, setServices] = useState<Service[]>([]);\n    const [staffMembers, setStaffMembers] = useState<Staff[]>([]);\n    const [timeslots, setTimeslots] = useState<Timeslot[]>([]);\n    const [newBooking, setNewBooking] = useState({\n        shop_id: '',\n        service_id: '',\n        staff_id: '',\n        timeslot_id: '',\n        start_time: '',\n        end_time: '',\n        notes: '',\n    });\n    const [updatingStatus, setUpdatingStatus] = useState<string | null>(null);\n    const [editingBooking, setEditingBooking] = useState<Booking | null>(null);\n    const [editStartTime, setEditStartTime] = useState<string>('');\n    const [editEndTime, setEditEndTime] = useState<string>('');\n    const [showEditModal, setShowEditModal] = useState(false);\n    const [openDropdown, setOpenDropdown] = useState<string | null>(null);\n    const [viewMode, setViewMode] = useState<'list' | 'calendar'>('list');\n    const [selectedDate, setSelectedDate] = useState<Date | null>(null);\n    const [notification, setNotification] = useState<{\n      id: string;\n      customerName: string;\n      serviceName?: string;\n      date: string;\n      time: string;\n      isAICreated: boolean;\n    } | null>(null);\n    const dropdownRefs = useRef<{ [key: string]: HTMLDivElement | null }>({});\n\n    // Reset unread count when page loads\n    useEffect(() => {\n        setUnreadBookingsCount(0);\n    }, [setUnreadBookingsCount]);\n\n    // Subscribe to ALL new bookings (not just AI-created)\n    useEffect(() => {\n        if (!user?.id || shops.length === 0) return;\n\n        const supabase = getSupabaseClient();\n        const ownerShopIds = shops.map(s => s.id);\n        \n        const channel = supabase\n            .channel('booking_notifications')\n            .on(\n                'postgres_changes',\n                {\n                    event: 'INSERT',\n                    schema: 'public',\n                    table: 'bookings',\n                    // Remove filter to get ALL bookings, not just AI-created\n                },\n                async (payload: any) => {\n                    const newBooking = payload.new;\n                    \n                    // Check if booking belongs to owner's shop\n                    if (ownerShopIds.includes(newBooking.shop_id)) {\n                        // Fetch booking details\n                        try {\n                            const res = await fetch(`${apiUrl}/bookings/${newBooking.id}`, {\n                                headers: {\n                                    'x-user-id': user.id,\n                                },\n                            });\n                            if (res.ok) {\n                                const bookingData = await res.json();\n                                const startTime = new Date(bookingData.start_time);\n                                \n                                setNotification({\n                                    id: bookingData.id,\n                                    customerName: bookingData.customer_name || 'Customer',\n                                    serviceName: bookingData.services?.name,\n                                    date: startTime.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),\n                                    time: startTime.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\n                                    isAICreated: bookingData.created_by_ai || false,\n                                });\n                                \n                                // Refresh bookings list\n                                try {\n                                    const bookingsRes = await fetch(`${apiUrl}/bookings`, {\n                                        headers: {\n                                            'x-user-id': user.id,\n                                        },\n                                    });\n                                    if (bookingsRes.ok) {\n                                        const bookingsData = await bookingsRes.json();\n                                        if (Array.isArray(bookingsData)) {\n                                            setBookings(bookingsData);\n                                        }\n                                    }\n                                } catch (error: any) {\n                                    // Silently handle connection errors (API server not running)\n                                    if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                                        console.error('Error refreshing bookings:', error);\n                                    }\n                                }\n                            }\n                        } catch (error: any) {\n                            // Silently handle connection errors (API server not running)\n                            if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                                console.error('Error fetching new booking:', error);\n                            }\n                        }\n                    }\n                }\n            )\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(channel);\n        };\n    }, [user, shops, apiUrl]);\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n        if (!openDropdown) return;\n        \n        const handleClickOutside = (event: MouseEvent) => {\n            const target = event.target as Element;\n            const dropdownElement = dropdownRefs.current[openDropdown];\n            if (dropdownElement && !dropdownElement.contains(target)) {\n                setOpenDropdown(null);\n            }\n        };\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, [openDropdown]);\n\n    useEffect(() => {\n        if (!user) return;\n\n        const fetchAll = async () => {\n            try {\n                const headers: HeadersInit = {\n                    'x-user-id': user.id,\n                };\n\n                // Fetch all shops\n                const shopsRes = await fetch(`${apiUrl}/shops`);\n                if (shopsRes.ok) {\n                    const shopsData = await shopsRes.json();\n                    setShops(Array.isArray(shopsData) ? shopsData : []);\n                } else {\n                    console.error(\"Failed to fetch shops:\", shopsRes.status, shopsRes.statusText);\n                    setShops([]);\n                }\n\n                // Fetch services (filtered by user's shops)\n                const servicesRes = await fetch(`${apiUrl}/services`, { headers });\n                if (servicesRes.ok) {\n                    const servicesData = await servicesRes.json();\n                    setServices(Array.isArray(servicesData) ? servicesData : []);\n                } else {\n                    console.error(\"Failed to fetch services:\", servicesRes.status, servicesRes.statusText);\n                    setServices([]);\n                }\n\n                // Fetch staff (filtered by user's shops)\n                const staffRes = await fetch(`${apiUrl}/staff`, { headers });\n                if (staffRes.ok) {\n                    const staffData = await staffRes.json();\n                    setStaffMembers(Array.isArray(staffData) ? staffData : []);\n                } else {\n                    console.error(\"Failed to fetch staff:\", staffRes.status, staffRes.statusText);\n                    setStaffMembers([]);\n                }\n\n                // Fetch timeslots (filtered by user's shops)\n                try {\n                    const timeslotsRes = await fetch(`${apiUrl}/timeslots`, { headers });\n                    if (timeslotsRes.ok) {\n                        const timeslotsData = await timeslotsRes.json();\n                        setTimeslots(Array.isArray(timeslotsData) ? timeslotsData : []);\n                    } else {\n                        console.error(\"Failed to fetch timeslots:\", timeslotsRes.status, timeslotsRes.statusText);\n                        setTimeslots([]);\n                    }\n                } catch (timeslotError) {\n                    console.error(\"Error fetching timeslots:\", timeslotError);\n                    setTimeslots([]);\n                }\n\n                // Fetch bookings (filtered by user's shops)\n                try {\n                    const bookingsRes = await fetch(`${apiUrl}/bookings`, { headers });\n                    if (bookingsRes.ok) {\n                        const bookingsData = await bookingsRes.json();\n                        // Double-check that data is an array before setting state\n                        if (Array.isArray(bookingsData)) {\n                            setBookings(bookingsData);\n                        } else {\n                            console.error(\"Bookings data is not an array:\", typeof bookingsData, bookingsData);\n                            setBookings([]);\n                        }\n                    } else {\n                        console.error(\"Failed to fetch bookings:\", bookingsRes.status, bookingsRes.statusText);\n                        // Try to get error message from response\n                        try {\n                            const errorData = await bookingsRes.json();\n                            console.error(\"Error details:\", errorData);\n                        } catch (e) {\n                            // Ignore JSON parse errors\n                        }\n                        setBookings([]);\n                    }\n                } catch (bookingError) {\n                    console.error(\"Error fetching bookings:\", bookingError);\n                    setBookings([]);\n                }\n            } catch (error: any) {\n                // Silently handle connection errors (API server not running)\n                if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                    console.error(\"Failed to fetch data:\", error);\n                }\n                // Ensure all states are arrays even on error\n                setShops([]);\n                setServices([]);\n                setStaffMembers([]);\n                setTimeslots([]);\n                setBookings([]);\n            }\n        };\n\n        fetchAll();\n    }, [apiUrl, user]);\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n        const { name, value } = e.target;\n        setNewBooking(prev => ({ ...prev, [name]: value }));\n    };\n\n    // Filter bookings by selected date if set\n    const filteredBookings = useMemo(() => {\n        let filtered = bookings;\n        \n        // Filter by selected date if set\n        if (selectedDate) {\n            const selectedDateStr = selectedDate.toISOString().split('T')[0];\n            filtered = filtered.filter(booking => {\n                if (!booking.start_time) return false;\n                const bookingDate = new Date(booking.start_time);\n                const bookingDateStr = bookingDate.toISOString().split('T')[0];\n                return bookingDateStr === selectedDateStr;\n            });\n        }\n        \n        return filtered;\n    }, [bookings, selectedDate]);\n\n    const refreshBookings = async () => {\n        if (!user?.id) return;\n        try {\n            const bookingsRes = await fetch(`${apiUrl}/bookings`, {\n                headers: {\n                    'x-user-id': user.id,\n                },\n            });\n            if (bookingsRes.ok) {\n                const bookingsData = await bookingsRes.json();\n                if (Array.isArray(bookingsData)) {\n                    setBookings(bookingsData);\n                    const pendingCount = bookingsData.filter((b: Booking) => b.status === 'pending').length;\n                    setUnreadBookingsCount(pendingCount);\n                }\n            }\n        } catch (error: any) {\n            // Silently handle connection errors (API server not running)\n            if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                console.error('Error refreshing bookings:', error);\n            }\n        }\n    };\n\n    const confirmBooking = async (bookingId: string) => {\n        if (!user?.id) return;\n        setUpdatingStatus(bookingId);\n        try {\n            const res = await fetch(`${apiUrl}/bookings/${bookingId}`, {\n                method: 'PATCH',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-user-id': user.id,\n                },\n                body: JSON.stringify({ status: 'confirmed' }),\n            });\n\n            if (res.ok) {\n                await refreshBookings();\n            } else {\n                const errorData = await res.json().catch(() => ({}));\n                alert(errorData.error || 'Failed to confirm booking');\n            }\n        } catch (error: any) {\n            // Silently handle connection errors (API server not running)\n            if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                console.error('Error confirming booking:', error);\n                alert('Failed to confirm booking');\n            }\n        } finally {\n            setUpdatingStatus(null);\n        }\n    };\n\n    const cancelBooking = async (bookingId: string) => {\n        if (!user?.id) return;\n        if (!confirm('Are you sure you want to cancel this booking?')) return;\n        \n        setUpdatingStatus(bookingId);\n        try {\n            const res = await fetch(`${apiUrl}/bookings/${bookingId}`, {\n                method: 'DELETE',\n                headers: {\n                    'x-user-id': user.id,\n                },\n            });\n\n            if (res.ok) {\n                await refreshBookings();\n            } else {\n                const errorData = await res.json().catch(() => ({}));\n                alert(errorData.error || 'Failed to cancel booking');\n            }\n        } catch (error: any) {\n            // Silently handle connection errors (API server not running)\n            if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                console.error('Error canceling booking:', error);\n                alert('Failed to cancel booking');\n            }\n        } finally {\n            setUpdatingStatus(null);\n        }\n    };\n\n    const openEditModal = (booking: Booking) => {\n        setEditingBooking(booking);\n        // Convert ISO strings to datetime-local format\n        const startDateTime = booking.start_time ? new Date(booking.start_time).toISOString().slice(0, 16) : '';\n        const endDateTime = booking.end_time ? new Date(booking.end_time).toISOString().slice(0, 16) : '';\n        setEditStartTime(startDateTime);\n        setEditEndTime(endDateTime);\n        setShowEditModal(true);\n    };\n\n    const saveReschedule = async () => {\n        if (!user?.id || !editingBooking) return;\n        \n        if (!editStartTime || !editEndTime) {\n            alert('Please provide both start and end times');\n            return;\n        }\n\n        setUpdatingStatus(editingBooking.id);\n        try {\n            const res = await fetch(`${apiUrl}/bookings/${editingBooking.id}`, {\n                method: 'PATCH',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-user-id': user.id,\n                },\n                body: JSON.stringify({\n                    start_time: new Date(editStartTime).toISOString(),\n                    end_time: new Date(editEndTime).toISOString(),\n                }),\n            });\n\n            if (res.ok) {\n                await refreshBookings();\n                setShowEditModal(false);\n                setEditingBooking(null);\n                setEditStartTime('');\n                setEditEndTime('');\n            } else {\n                const errorData = await res.json().catch(() => ({}));\n                alert(errorData.error || 'Failed to reschedule booking');\n            }\n        } catch (error: any) {\n            // Silently handle connection errors (API server not running)\n            if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                console.error('Error rescheduling booking:', error);\n                alert('Failed to reschedule booking');\n            }\n        } finally {\n            setUpdatingStatus(null);\n        }\n    };\n\n    const createBooking = async () => {\n        try {\n            const res = await fetch(`${apiUrl}/bookings`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(newBooking),\n            });\n\n            if (res.ok) {\n                // Refresh bookings after creation\n                try {\n                    const bookingsRes = await fetch(`${apiUrl}/bookings`);\n                    if (bookingsRes.ok) {\n                        const bookingsData = await bookingsRes.json();\n                        // Double-check that data is an array before setting state\n                        if (Array.isArray(bookingsData)) {\n                            setBookings(bookingsData);\n                        } else {\n                            console.error(\"Bookings data is not an array:\", typeof bookingsData, bookingsData);\n                            setBookings([]);\n                        }\n                    } else {\n                        console.error(\"Failed to refresh bookings:\", bookingsRes.status, bookingsRes.statusText);\n                        setBookings([]);\n                    }\n                } catch (refreshError: any) {\n                    // Silently handle connection errors (API server not running)\n                    if (!refreshError?.message?.includes('Failed to fetch') && !refreshError?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                        console.error(\"Error refreshing bookings:\", refreshError);\n                    }\n                    setBookings([]);\n                }\n                setNewBooking({\n                    shop_id: '',\n                    service_id: '',\n                    staff_id: '',\n                    timeslot_id: '',\n                    start_time: '',\n                    end_time: '',\n                    notes: '',\n                });\n            } else {\n                console.error(\"Failed to create booking:\", res.status, res.statusText);\n            }\n        } catch (error: any) {\n            // Silently handle connection errors (API server not running)\n            if (!error?.message?.includes('Failed to fetch') && !error?.message?.includes('ERR_CONNECTION_REFUSED')) {\n                console.error(\"Failed to create booking:\", error);\n            }\n        }\n    };\n\n    // Show empty state if user has no shops\n    if (user && shops.length === 0) {\n        return (\n            <div className=\"p-8\">\n                <div className=\"mb-6\">\n                    <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Bookings</h1>\n                    <p className=\"text-gray-600\">View and manage all bookings</p>\n                </div>\n                <div className=\"bg-white rounded-xl shadow-md border border-gray-100 p-12 text-center\">\n                    <div className=\"text-6xl mb-4\">üè™</div>\n                    <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">No Shops Found</h2>\n                    <p className=\"text-gray-600 mb-6\">\n                        You need to create or claim a shop before you can view bookings.\n                    </p>\n                    <Link\n                        href=\"/shops\"\n                        className=\"inline-block bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200\"\n                    >\n                        Go to Shops ‚Üí\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-8\">\n            <div className=\"mb-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Bookings</h1>\n                        <p className=\"text-gray-600\">View and manage all bookings</p>\n                    </div>\n                    \n                    {/* View Mode Toggle */}\n                    <div className=\"flex gap-2 bg-gray-100 rounded-lg p-1\">\n                        <button\n                            onClick={() => setViewMode('list')}\n                            className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                                viewMode === 'list'\n                                    ? 'bg-white text-blue-600 shadow-sm'\n                                    : 'text-gray-600 hover:text-gray-900'\n                            }`}\n                        >\n                            üìã List View\n                        </button>\n                        <button\n                            onClick={() => setViewMode('calendar')}\n                            className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                                viewMode === 'calendar'\n                                    ? 'bg-white text-blue-600 shadow-sm'\n                                    : 'text-gray-600 hover:text-gray-900'\n                            }`}\n                        >\n                            üìÖ Calendar View\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Notification Bar */}\n            <BookingNotificationBar\n                notification={notification}\n                onDismiss={() => setNotification(null)}\n                onViewBooking={(bookingId) => {\n                    setNotification(null);\n                    // Scroll to booking or switch to list view\n                    setViewMode('list');\n                    setTimeout(() => {\n                        const bookingElement = document.getElementById(`booking-${bookingId}`);\n                        if (bookingElement) {\n                            bookingElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                        }\n                    }, 100);\n                }}\n            />\n\n            {/* Calendar View */}\n            {viewMode === 'calendar' && (\n                <div className=\"mb-6\">\n                    <BookingCalendar\n                        bookings={bookings}\n                        onDateClick={(date) => {\n                            setSelectedDate(date);\n                            setViewMode('list'); // Switch to list view to show filtered bookings\n                        }}\n                        selectedDate={selectedDate}\n                        shopId={shops.length > 0 ? shops[0].id : undefined}\n                    />\n                </div>\n            )}\n\n            {/* Filter by selected date if calendar date was clicked */}\n            {selectedDate && viewMode === 'list' && (\n                <div className=\"mb-4 flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-600\">Showing bookings for:</span>\n                    <span className=\"text-sm font-semibold text-gray-900\">\n                        {selectedDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}\n                    </span>\n                    <button\n                        onClick={() => setSelectedDate(null)}\n                        className=\"text-sm text-blue-600 hover:text-blue-700\"\n                    >\n                        Clear filter\n                    </button>\n                </div>\n            )}\n\n            {/* Bookings Grid - Beautiful Card Layout */}\n            <div className=\"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden\">\n                <div className=\"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50\">\n                    <h2 className=\"text-xl font-bold text-gray-800\">\n                        All Bookings ({filteredBookings.length})\n                    </h2>\n                </div>\n                <div className=\"p-6\">\n                    {Array.isArray(filteredBookings) && filteredBookings.length > 0 ? (\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                            {filteredBookings.map(booking => {\n                                try {\n                                    const startTime = booking.start_time ? new Date(booking.start_time) : null;\n                                    const endTime = booking.end_time ? new Date(booking.end_time) : null;\n                                    const isUpdating = updatingStatus === booking.id;\n                                    const canReschedule = booking.status !== 'cancelled' && booking.status !== 'completed';\n                                    const canCancel = booking.status !== 'cancelled' && booking.status !== 'completed';\n                                    const canConfirm = booking.status === 'pending';\n\n                                    const getStatusBadge = (status: string) => {\n                                        const baseClasses = \"px-3 py-1 text-xs font-semibold rounded-full inline-flex items-center gap-1\";\n                                        switch (status) {\n                                            case 'pending':\n                                                return <span className={`${baseClasses} bg-yellow-100 text-yellow-800`}><span className=\"w-2 h-2 bg-yellow-500 rounded-full\"></span>Pending</span>;\n                                            case 'confirmed':\n                                                return <span className={`${baseClasses} bg-green-100 text-green-800`}><span className=\"w-2 h-2 bg-green-500 rounded-full\"></span>Confirmed</span>;\n                                            case 'rejected':\n                                                return <span className={`${baseClasses} bg-red-100 text-red-800`}><span className=\"w-2 h-2 bg-red-500 rounded-full\"></span>Declined</span>;\n                                            case 'cancelled':\n                                                return <span className={`${baseClasses} bg-gray-100 text-gray-800`}><span className=\"w-2 h-2 bg-gray-500 rounded-full\"></span>Cancelled</span>;\n                                            case 'completed':\n                                                return <span className={`${baseClasses} bg-blue-100 text-blue-800`}><span className=\"w-2 h-2 bg-blue-500 rounded-full\"></span>Completed</span>;\n                                            default:\n                                                return <span className={`${baseClasses} bg-gray-100 text-gray-800`}>{status}</span>;\n                                        }\n                                    };\n\n                                    return (\n                                        <div \n                                            id={`booking-${booking.id}`}\n                                            key={booking.id || Math.random()} \n                                            className=\"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden\"\n                                        >\n                                            {/* Card Header */}\n                                            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-5 py-4 border-b border-gray-200\">\n                                                <div className=\"flex items-start justify-between\">\n                                                    <div className=\"flex-1\">\n                                                        <h3 className=\"font-bold text-lg text-gray-900 mb-1\">\n                                                            {booking.customer_name || 'Unknown Customer'}\n                                                        </h3>\n                                                        {booking.services?.name && (\n                                                            <p className=\"text-sm text-gray-600 font-medium\">\n                                                                {booking.services.name}\n                                                            </p>\n                                                        )}\n                                                    </div>\n                                                    {getStatusBadge(booking.status)}\n                                                </div>\n                                            </div>\n\n                                            {/* Card Body */}\n                                            <div className=\"px-5 py-4 space-y-3\">\n                                                {/* Date & Time */}\n                                                {startTime && (\n                                                    <div className=\"flex items-center gap-2 text-sm\">\n                                                        <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                                                        </svg>\n                                                        <div>\n                                                            <div className=\"font-medium text-gray-900\">\n                                                                {startTime.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\n                                                            </div>\n                                                            <div className=\"text-gray-600\">\n                                                                {startTime.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })} - {endTime?.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                )}\n\n                                                {/* Staff */}\n                                                {booking.staff && (\n                                                    <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                                                        <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                                                        </svg>\n                                                        <span>{booking.staff.first_name} {booking.staff.last_name}</span>\n                                                    </div>\n                                                )}\n\n                                                {/* Contact Info */}\n                                                <div className=\"pt-2 border-t border-gray-100 space-y-1\">\n                                                    {booking.customer_email && (\n                                                        <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                                                            <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                                                            </svg>\n                                                            <span className=\"truncate\">{booking.customer_email}</span>\n                                                        </div>\n                                                    )}\n                                                    {booking.customer_phone && (\n                                                        <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                                                            <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                                                            </svg>\n                                                            <span>{booking.customer_phone}</span>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            </div>\n\n                                            {/* Card Footer - Action Buttons */}\n                                            <div className=\"px-5 py-4 bg-gray-50 border-t border-gray-200\">\n                                                <div className=\"flex gap-2\">\n                                                    {canReschedule && (\n                                                        <button\n                                                            onClick={() => {\n                                                                setOpenDropdown(null);\n                                                                openEditModal(booking);\n                                                            }}\n                                                            disabled={isUpdating}\n                                                            className=\"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                                                        >\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                                                            </svg>\n                                                            Reschedule\n                                                        </button>\n                                                    )}\n                                                    {canConfirm && (\n                                                        <button\n                                                            onClick={() => {\n                                                                setOpenDropdown(null);\n                                                                confirmBooking(booking.id);\n                                                            }}\n                                                            disabled={isUpdating}\n                                                            className=\"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                                                        >\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                                            </svg>\n                                                            Confirm\n                                                        </button>\n                                                    )}\n                                                    {canCancel && (\n                                                        <button\n                                                            onClick={() => {\n                                                                setOpenDropdown(null);\n                                                                cancelBooking(booking.id);\n                                                            }}\n                                                            disabled={isUpdating}\n                                                            className=\"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                                                        >\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                                            </svg>\n                                                            Cancel\n                                                        </button>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    );\n                                } catch (e) {\n                                    console.error(\"Error rendering booking card:\", e, booking);\n                                    return null;\n                                }\n                            })}\n                        </div>\n                    ) : (\n                        <div className=\"p-12 text-center\">\n                            <div className=\"text-6xl mb-4\">üìÖ</div>\n                            <p className=\"text-gray-500 text-lg font-medium\">\n                                {bookings.length === 0 \n                                    ? 'No bookings found' \n                                    : 'No bookings match your filters'}\n                            </p>\n                            <p className=\"text-gray-400 text-sm mt-2\">\n                                {bookings.length === 0\n                                    ? 'Bookings will appear here once customers make appointments'\n                                    : 'Try adjusting your filters'}\n                            </p>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Edit/Reschedule Modal */}\n            {showEditModal && editingBooking && (\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                    <div className=\"bg-white rounded-xl shadow-xl p-6 w-full max-w-md\">\n                        <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Edit / Reschedule Booking</h2>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Time</label>\n                                <input\n                                    type=\"datetime-local\"\n                                    value={editStartTime}\n                                    onChange={(e) => setEditStartTime(e.target.value)}\n                                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">End Time</label>\n                                <input\n                                    type=\"datetime-local\"\n                                    value={editEndTime}\n                                    onChange={(e) => setEditEndTime(e.target.value)}\n                                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                                />\n                            </div>\n                        </div>\n                        <div className=\"flex gap-4 mt-6\">\n                            <button\n                                onClick={saveReschedule}\n                                disabled={updatingStatus === editingBooking.id}\n                                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                            >\n                                {updatingStatus === editingBooking.id ? 'Saving...' : 'Save Changes'}\n                            </button>\n                            <button\n                                onClick={() => {\n                                    setShowEditModal(false);\n                                    setEditingBooking(null);\n                                    setEditStartTime('');\n                                    setEditEndTime('');\n                                }}\n                                className=\"flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-semibold hover:bg-gray-300 transition-colors\"\n                            >\n                                Cancel\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default BookingsPage;\n"],"names":[],"mappings":"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"}}]
}