{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/supabaseClient.ts"],"sourcesContent":["// apps/dashboard/lib/supabaseClient.ts\r\n// Browser/client Supabase instance for authentication\r\n\r\nimport { createClient, SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet supabaseInstance: SupabaseClient | null = null;\r\n\r\n/**\r\n * Get or create the Supabase client instance.\r\n * Uses lazy initialization to avoid errors during module load.\r\n */\r\nexport function getSupabaseClient(): SupabaseClient {\r\n  // Return existing instance if already created\r\n  if (supabaseInstance) {\r\n    return supabaseInstance;\r\n  }\r\n\r\n  // Only check env vars in the browser (runtime)\r\n  if (typeof window !== \"undefined\") {\r\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n    const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n    if (!supabaseUrl || !supabaseAnonKey) {\r\n      // Create a dummy client that will fail gracefully when used\r\n      // This prevents the app from crashing on load\r\n      console.warn(\r\n        \"‚ö†Ô∏è Supabase environment variables are missing!\\n\" +\r\n        \"Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in apps/dashboard/.env.local\\n\" +\r\n        \"The app will continue to load, but authentication features will not work.\"\r\n      );\r\n      \r\n      // Return a client with placeholder values - it will fail when actually used\r\n      // but won't crash the app on import\r\n      supabaseInstance = createClient(\r\n        \"https://placeholder.supabase.co\",\r\n        \"placeholder-key\",\r\n        {\r\n          auth: {\r\n            persistSession: false,\r\n            autoRefreshToken: false,\r\n          },\r\n        }\r\n      );\r\n      return supabaseInstance;\r\n    }\r\n\r\n    // Create real client with actual credentials\r\n    supabaseInstance = createClient(supabaseUrl, supabaseAnonKey, {\r\n      auth: {\r\n        persistSession: true,\r\n        autoRefreshToken: true,\r\n      },\r\n    });\r\n    return supabaseInstance;\r\n  }\r\n\r\n  // During SSR/build, return a placeholder client\r\n  supabaseInstance = createClient(\r\n    \"https://placeholder.supabase.co\",\r\n    \"placeholder-key\",\r\n    {\r\n      auth: {\r\n        persistSession: false,\r\n        autoRefreshToken: false,\r\n      },\r\n    }\r\n  );\r\n  return supabaseInstance;\r\n}\r\n\r\n// Export a getter that lazily initializes the client\r\nexport const supabase = new Proxy({} as SupabaseClient, {\r\n  get(_target, prop) {\r\n    const client = getSupabaseClient();\r\n    const value = (client as any)[prop];\r\n    \r\n    // If it's a function, bind it to the client\r\n    if (typeof value === \"function\") {\r\n      return value.bind(client);\r\n    }\r\n    \r\n    return value;\r\n  },\r\n});\r\n\r\n"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,sDAAsD;;;;;;;AAkB9B;AAhBxB;;AAEA,IAAI,mBAA0C;AAMvC,SAAS;IACd,8CAA8C;IAC9C,IAAI,kBAAkB;QACpB,OAAO;IACT;IAEA,+CAA+C;IAC/C,wCAAmC;QACjC,MAAM;QACN,MAAM;QAEN;;QAwBA,6CAA6C;QAC7C,mBAAmB,IAAA,0MAAY,EAAC,aAAa,iBAAiB;YAC5D,MAAM;gBACJ,gBAAgB;gBAChB,kBAAkB;YACpB;QACF;QACA,OAAO;IACT;;;AAcF;AAGO,MAAM,WAAW,IAAI,MAAM,CAAC,GAAqB;IACtD,KAAI,OAAO,EAAE,IAAI;QACf,MAAM,SAAS;QACf,MAAM,QAAQ,AAAC,MAAc,CAAC,KAAK;QAEnC,4CAA4C;QAC5C,IAAI,OAAO,UAAU,YAAY;YAC/B,OAAO,MAAM,IAAI,CAAC;QACpB;QAEA,OAAO;IACT;AACF"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/useAuth.tsx"],"sourcesContent":["// apps/dashboard/lib/useAuth.tsx\r\n// Auth context and hook for Supabase authentication\r\n\r\n\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState, useCallback, useMemo, ReactNode } from \"react\";\r\nimport { User, Session, AuthError } from \"@supabase/supabase-js\";\r\nimport { supabase } from \"./supabaseClient\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  session: Session | null;\r\n  loading: boolean;\r\n  signOut: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    // Check if Supabase is properly configured\r\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n    const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n    if (!supabaseUrl || !supabaseAnonKey) {\r\n      // If env vars are missing, set loading to false and leave user as null\r\n      // This allows the app to load, but auth features won't work\r\n      console.warn(\"Supabase environment variables are missing. Authentication features are disabled.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Get initial session - wrap in try-catch to handle any errors gracefully\r\n    try {\r\n      supabase.auth.getSession().then(({ data: { session }, error }) => {\r\n        if (error) {\r\n          console.error(\"Error getting session:\", error);\r\n        }\r\n        setSession(session);\r\n        setUser(session?.user ?? null);\r\n        setLoading(false);\r\n      }).catch((error) => {\r\n        console.error(\"Error initializing auth:\", error);\r\n        setLoading(false);\r\n      });\r\n\r\n      // Listen for auth changes\r\n      try {\r\n        const {\r\n          data: { subscription },\r\n        } = supabase.auth.onAuthStateChange((_event, session) => {\r\n          setSession(session);\r\n          setUser(session?.user ?? null);\r\n          setLoading(false);\r\n        });\r\n\r\n        return () => {\r\n          try {\r\n            subscription.unsubscribe();\r\n          } catch (e) {\r\n            // Ignore unsubscribe errors\r\n          }\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error setting up auth listener:\", error);\r\n        setLoading(false);\r\n        return () => {};\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error in auth initialization:\", error);\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const signOut = useCallback(async () => {\r\n    try {\r\n      await supabase.auth.signOut();\r\n      router.push(\"/\");\r\n    } catch (error) {\r\n      console.error(\"Error signing out:\", error);\r\n      // Still redirect even if signOut fails\r\n      router.push(\"/\");\r\n    }\r\n  }, [router]);\r\n\r\n  const value = useMemo(() => ({\r\n    user,\r\n    session,\r\n    loading,\r\n    signOut,\r\n  }), [user, session, loading, signOut]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,iCAAiC;AACjC,oDAAoD;;;;;;;AA0B5B;;AAtBxB;AAEA;AACA;;;AALA;;;;AAcA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;kCAAC;YACR,2CAA2C;YAC3C,MAAM;YACN,MAAM;YAEN;;YAQA,0EAA0E;YAC1E,IAAI;gBACF,yJAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI;8CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE;wBAC3D,IAAI,OAAO;4BACT,QAAQ,KAAK,CAAC,0BAA0B;wBAC1C;wBACA,WAAW;wBACX,QAAQ,SAAS,QAAQ;wBACzB,WAAW;oBACb;6CAAG,KAAK;8CAAC,CAAC;wBACR,QAAQ,KAAK,CAAC,4BAA4B;wBAC1C,WAAW;oBACb;;gBAEA,0BAA0B;gBAC1B,IAAI;oBACF,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,yJAAQ,CAAC,IAAI,CAAC,iBAAiB;kDAAC,CAAC,QAAQ;4BAC3C,WAAW;4BACX,QAAQ,SAAS,QAAQ;4BACzB,WAAW;wBACb;;oBAEA;kDAAO;4BACL,IAAI;gCACF,aAAa,WAAW;4BAC1B,EAAE,OAAO,GAAG;4BACV,4BAA4B;4BAC9B;wBACF;;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,mCAAmC;oBACjD,WAAW;oBACX;kDAAO,KAAO;;gBAChB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,WAAW;YACb;QACF;iCAAG,EAAE;IAEL,MAAM,UAAU,IAAA,4KAAW;6CAAC;YAC1B,IAAI;gBACF,MAAM,yJAAQ,CAAC,IAAI,CAAC,OAAO;gBAC3B,OAAO,IAAI,CAAC;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,sBAAsB;gBACpC,uCAAuC;gBACvC,OAAO,IAAI,CAAC;YACd;QACF;4CAAG;QAAC;KAAO;IAEX,MAAM,QAAQ,IAAA,wKAAO;uCAAC,IAAM,CAAC;gBAC3B;gBACA;gBACA;gBACA;YACF,CAAC;sCAAG;QAAC;QAAM;QAAS;QAAS;KAAQ;IAErC,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;GApFgB;;QAIC,kJAAS;;;KAJV;AAsFT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/AuthGuard.tsx"],"sourcesContent":["// apps/dashboard/app/components/AuthGuard.tsx\r\n// Component to protect routes - redirects to login if not authenticated\r\n\r\n\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/lib/useAuth\";\r\n\r\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && !user) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // Will redirect\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,wEAAwE;;;;;;AAIxE;AACA;AACA;;;AAJA;;;;AAMe,SAAS,UAAU,EAAE,QAAQ,EAAiC;;IAC3E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,kJAAO;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;+BAAC;YACR,IAAI,CAAC,WAAW,CAAC,MAAM;gBACrB,OAAO,IAAI,CAAC;YACd;QACF;8BAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,MAAM;QACT,OAAO,MAAM,gBAAgB;IAC/B;IAEA,qBAAO;kBAAG;;AACZ;GA1BwB;;QACI,kJAAO;QAClB,kJAAS;;;KAFF"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/i18n.ts"],"sourcesContent":["// apps/dashboard/lib/i18n.ts\r\n// Simple i18n utility with cookie persistence\r\n\r\n'use client';\r\n\r\nexport type Language = 'en' | 'ja';\r\n\r\nconst COOKIE_NAME = 'bookyo_language';\r\nconst DEFAULT_LANGUAGE: Language = 'en';\r\n\r\n// Get language from cookie (client-side only)\r\nexport function getLanguage(): Language {\r\n  if (typeof window === 'undefined') return DEFAULT_LANGUAGE;\r\n  \r\n  const cookies = document.cookie.split(';');\r\n  const langCookie = cookies.find(c => c.trim().startsWith(`${COOKIE_NAME}=`));\r\n  \r\n  if (langCookie) {\r\n    const value = langCookie.split('=')[1]?.trim();\r\n    if (value === 'en' || value === 'ja') {\r\n      return value;\r\n    }\r\n  }\r\n  \r\n  return DEFAULT_LANGUAGE;\r\n}\r\n\r\n// Set language cookie\r\nexport function setLanguage(lang: Language): void {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  // Set cookie with 1 year expiration\r\n  const expires = new Date();\r\n  expires.setFullYear(expires.getFullYear() + 1);\r\n  document.cookie = `${COOKIE_NAME}=${lang}; expires=${expires.toUTCString()}; path=/; SameSite=Lax`;\r\n  \r\n  // Also set in localStorage for immediate access\r\n  localStorage.setItem(COOKIE_NAME, lang);\r\n}\r\n\r\n// Translations\r\nconst translations: Record<Language, Record<string, string>> = {\r\n  en: {\r\n    'nav.shops': 'Shops',\r\n    'nav.ownerLogin': 'Owner Login',\r\n    'nav.myShop': 'My Shop',\r\n    'nav.aiAssistant': 'AI Assistant',\r\n    'nav.logout': 'Logout',\r\n    'home.title': 'Bookyo',\r\n    'home.subtitle': 'AI-powered booking assistant for salons in Tokyo',\r\n    'home.browseShops': 'Browse Shops',\r\n    'home.ownerLogin': 'Owner Login',\r\n    'booking.title': 'Book an appointment',\r\n    'booking.service': 'Service',\r\n    'booking.staff': 'Staff (Optional)',\r\n    'booking.date': 'Date',\r\n    'booking.time': 'Time',\r\n    'booking.yourName': 'Your Name',\r\n    'booking.yourEmail': 'Your Email',\r\n    'booking.phone': 'Phone (Optional)',\r\n    'booking.submit': 'Book Now',\r\n    'booking.success': 'Booking request submitted successfully!',\r\n    'chat.title': 'Chat with AI assistant',\r\n    'chat.placeholder': 'Type your message...',\r\n    'chat.send': 'Send',\r\n    'categories.all': 'All Categories',\r\n    'categories.barbershop': 'Barbershop',\r\n    'categories.beauty_salon': 'Beauty Salon',\r\n    'categories.eyelash': 'Eyelash',\r\n    'categories.general_salon': 'General Salon',\r\n    'categories.hair_salon': 'Hair Salon',\r\n    'categories.nail_salon': 'Nail Salon',\r\n    'categories.spa_massage': 'Spa & Massage',\r\n    'categories.unknown': 'Unknown',\r\n    'shops.search': 'Search by name',\r\n    'shops.categories': 'Categories',\r\n    'shops.found': 'Found',\r\n    'shops.shop': 'shop',\r\n    'shops.shops': 'shops',\r\n    'shops.viewDetails': 'View details',\r\n    'shops.loading': 'Loading shops...',\r\n    'shops.noShops': 'No shops found',\r\n    'shops.tryAdjusting': 'Try adjusting your search or category filter',\r\n    'shops.notAvailable': 'No shops are available at the moment',\r\n  },\r\n  ja: {\r\n    'nav.shops': 'Â∫óËàó',\r\n    'nav.ownerLogin': '„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥',\r\n    'nav.myShop': '„Éû„Ç§„Ç∑„Éß„ÉÉ„Éó',\r\n    'nav.aiAssistant': 'AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà',\r\n    'nav.logout': '„É≠„Ç∞„Ç¢„Ç¶„Éà',\r\n    'home.title': 'Bookyo',\r\n    'home.subtitle': 'Êù±‰∫¨„ÅÆ„Çµ„É≠„É≥Âêë„ÅëAI‰∫àÁ¥Ñ„Ç¢„Ç∑„Çπ„Çø„É≥„Éà',\r\n    'home.browseShops': 'Â∫óËàó„ÇíÊé¢„Åô',\r\n    'home.ownerLogin': '„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥',\r\n    'booking.title': '‰∫àÁ¥Ñ„Åô„Çã',\r\n    'booking.service': '„Çµ„Éº„Éì„Çπ',\r\n    'booking.staff': '„Çπ„Çø„ÉÉ„ÉïÔºà‰ªªÊÑèÔºâ',\r\n    'booking.date': 'Êó•‰ªò',\r\n    'booking.time': 'ÊôÇÈñì',\r\n    'booking.yourName': '„ÅäÂêçÂâç',\r\n    'booking.yourEmail': '„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ',\r\n    'booking.phone': 'ÈõªË©±Áï™Âè∑Ôºà‰ªªÊÑèÔºâ',\r\n    'booking.submit': '‰∫àÁ¥Ñ„Åô„Çã',\r\n    'booking.success': '‰∫àÁ¥Ñ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÈÄÅ‰ø°„Åï„Çå„Åæ„Åó„ÅüÔºÅ',\r\n    'chat.title': 'AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÉÅ„É£„ÉÉ„Éà',\r\n    'chat.placeholder': '„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...',\r\n    'chat.send': 'ÈÄÅ‰ø°',\r\n    'categories.all': '„Åô„Åπ„Å¶„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº',\r\n    'categories.barbershop': 'ÁêÜÈ´™Â∫ó',\r\n    'categories.beauty_salon': 'ÁæéÂÆπ„Çµ„É≠„É≥',\r\n    'categories.eyelash': '„Åæ„Å§„Åí',\r\n    'categories.general_salon': 'Á∑èÂêà„Çµ„É≠„É≥',\r\n    'categories.hair_salon': '„Éò„Ç¢„Çµ„É≠„É≥',\r\n    'categories.nail_salon': '„Éç„Ç§„É´„Çµ„É≠„É≥',\r\n    'categories.spa_massage': '„Çπ„Éë„Éª„Éû„ÉÉ„Çµ„Éº„Ç∏',\r\n    'categories.unknown': '‰∏çÊòé',\r\n    'shops.search': 'ÂêçÂâç„ÅßÊ§úÁ¥¢',\r\n    'shops.categories': '„Ç´„ÉÜ„Ç¥„É™„Éº',\r\n    'shops.found': 'Ë¶ã„Å§„Åã„Çä„Åæ„Åó„Åü',\r\n    'shops.shop': 'Â∫óËàó',\r\n    'shops.shops': 'Â∫óËàó',\r\n    'shops.viewDetails': 'Ë©≥Á¥∞„ÇíË¶ã„Çã',\r\n    'shops.loading': 'Â∫óËàó„ÇíË™≠„ÅøËæº„Åø‰∏≠...',\r\n    'shops.noShops': 'Â∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü',\r\n    'shops.tryAdjusting': 'Ê§úÁ¥¢„Åæ„Åü„ÅØ„Ç´„ÉÜ„Ç¥„É™„Éº„Éï„Ç£„É´„Çø„Éº„ÇíË™øÊï¥„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ',\r\n    'shops.notAvailable': 'ÁèæÂú®Âà©Áî®ÂèØËÉΩ„Å™Â∫óËàó„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì',\r\n  },\r\n};\r\n\r\nexport function t(key: string, lang: Language = getLanguage()): string {\r\n  return translations[lang]?.[key] || key;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,6BAA6B;AAC7B,8CAA8C;;;;;;;;;AAE9C;AAIA,MAAM,cAAc;AACpB,MAAM,mBAA6B;AAG5B,SAAS;IACd;;IAEA,MAAM,UAAU,SAAS,MAAM,CAAC,KAAK,CAAC;IACtC,MAAM,aAAa,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,UAAU,CAAC,GAAG,YAAY,CAAC,CAAC;IAE1E,IAAI,YAAY;QACd,MAAM,QAAQ,WAAW,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;QACxC,IAAI,UAAU,QAAQ,UAAU,MAAM;YACpC,OAAO;QACT;IACF;IAEA,OAAO;AACT;AAGO,SAAS,YAAY,IAAc;IACxC;;IAEA,oCAAoC;IACpC,MAAM,UAAU,IAAI;IACpB,QAAQ,WAAW,CAAC,QAAQ,WAAW,KAAK;IAC5C,SAAS,MAAM,GAAG,GAAG,YAAY,CAAC,EAAE,KAAK,UAAU,EAAE,QAAQ,WAAW,GAAG,sBAAsB,CAAC;IAElG,gDAAgD;IAChD,aAAa,OAAO,CAAC,aAAa;AACpC;AAEA,eAAe;AACf,MAAM,eAAyD;IAC7D,IAAI;QACF,aAAa;QACb,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,cAAc;QACd,cAAc;QACd,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,iBAAiB;QACjB,mBAAmB;QACnB,iBAAiB;QACjB,gBAAgB;QAChB,gBAAgB;QAChB,oBAAoB;QACpB,qBAAqB;QACrB,iBAAiB;QACjB,kBAAkB;QAClB,mBAAmB;QACnB,cAAc;QACd,oBAAoB;QACpB,aAAa;QACb,kBAAkB;QAClB,yBAAyB;QACzB,2BAA2B;QAC3B,sBAAsB;QACtB,4BAA4B;QAC5B,yBAAyB;QACzB,yBAAyB;QACzB,0BAA0B;QAC1B,sBAAsB;QACtB,gBAAgB;QAChB,oBAAoB;QACpB,eAAe;QACf,cAAc;QACd,eAAe;QACf,qBAAqB;QACrB,iBAAiB;QACjB,iBAAiB;QACjB,sBAAsB;QACtB,sBAAsB;IACxB;IACA,IAAI;QACF,aAAa;QACb,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,cAAc;QACd,cAAc;QACd,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,iBAAiB;QACjB,mBAAmB;QACnB,iBAAiB;QACjB,gBAAgB;QAChB,gBAAgB;QAChB,oBAAoB;QACpB,qBAAqB;QACrB,iBAAiB;QACjB,kBAAkB;QAClB,mBAAmB;QACnB,cAAc;QACd,oBAAoB;QACpB,aAAa;QACb,kBAAkB;QAClB,yBAAyB;QACzB,2BAA2B;QAC3B,sBAAsB;QACtB,4BAA4B;QAC5B,yBAAyB;QACzB,yBAAyB;QACzB,0BAA0B;QAC1B,sBAAsB;QACtB,gBAAgB;QAChB,oBAAoB;QACpB,eAAe;QACf,cAAc;QACd,eAAe;QACf,qBAAqB;QACrB,iBAAiB;QACjB,iBAAiB;QACjB,sBAAsB;QACtB,sBAAsB;IACxB;AACF;AAEO,SAAS,EAAE,GAAW,EAAE,OAAiB,aAAa;IAC3D,OAAO,YAAY,CAAC,KAAK,EAAE,CAAC,IAAI,IAAI;AACtC"}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/LanguageToggle.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { setLanguage, getLanguage } from '@/lib/i18n';\r\n\r\nexport default function LanguageToggle() {\r\n  // Start with null to avoid hydration mismatch - will be set after mount\r\n  const [currentLang, setCurrentLang] = useState<'en' | 'ja' | null>(null);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  // Only read language after component mounts (client-side only)\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    const lang = getLanguage();\r\n    setCurrentLang(lang);\r\n  }, []);\r\n\r\n  const handleLanguageChange = (lang: 'en' | 'ja') => {\r\n    if (lang === currentLang) return; // Don't do anything if already selected\r\n    \r\n    setLanguage(lang);\r\n    setCurrentLang(lang);\r\n    // Trigger the languageChanged event that NextIntlProvider listens to\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(new CustomEvent('languageChanged'));\r\n      // Small delay to ensure state updates, then reload\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  // During SSR and before mount, render with default 'en' styling to avoid mismatch\r\n  // After mount, use the actual language\r\n  const activeLang = mounted ? currentLang : 'en';\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1 border border-gray-300 rounded-lg p-0.5 bg-white shadow-sm\">\r\n      <button\r\n        onClick={() => handleLanguageChange('en')}\r\n        className={`px-3 py-1.5 rounded text-sm font-medium transition-colors ${\r\n          activeLang === 'en'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        aria-label=\"Switch to English\"\r\n        type=\"button\"\r\n      >\r\n        EN\r\n      </button>\r\n      <button\r\n        onClick={() => handleLanguageChange('ja')}\r\n        className={`px-3 py-1.5 rounded text-sm font-medium transition-colors ${\r\n          activeLang === 'ja'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        aria-label=\"Switch to Japanese\"\r\n        type=\"button\"\r\n      >\r\n        Êó•Êú¨Ë™û\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,wEAAwE;IACxE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAqB;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,+DAA+D;IAC/D,IAAA,0KAAS;oCAAC;YACR,WAAW;YACX,MAAM,OAAO,IAAA,kJAAW;YACxB,eAAe;QACjB;mCAAG,EAAE;IAEL,MAAM,uBAAuB,CAAC;QAC5B,IAAI,SAAS,aAAa,QAAQ,wCAAwC;QAE1E,IAAA,kJAAW,EAAC;QACZ,eAAe;QACf,qEAAqE;QACrE,wCAAmC;YACjC,OAAO,aAAa,CAAC,IAAI,YAAY;YACrC,mDAAmD;YACnD,WAAW;gBACT,OAAO,QAAQ,CAAC,MAAM;YACxB,GAAG;QACL;IACF;IAEA,kFAAkF;IAClF,uCAAuC;IACvC,MAAM,aAAa,UAAU,cAAc;IAE3C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,qBAAqB;gBACpC,WAAW,CAAC,0DAA0D,EACpE,eAAe,OACX,qCACA,mCACJ;gBACF,cAAW;gBACX,MAAK;0BACN;;;;;;0BAGD,6LAAC;gBACC,SAAS,IAAM,qBAAqB;gBACpC,WAAW,CAAC,0DAA0D,EACpE,eAAe,OACX,qCACA,mCACJ;gBACF,cAAW;gBACX,MAAK;0BACN;;;;;;;;;;;;AAKP;GA3DwB;KAAA"}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/Header.tsx"],"sourcesContent":["// apps/dashboard/app/components/Header.tsx\r\n\r\n\"use client\";\r\nimport React from 'react';\r\nimport { useTranslations } from 'next-intl';\r\nimport LanguageToggle from './LanguageToggle';\r\n\r\nconst Header = React.memo(() => {\r\n  const t = useTranslations();\r\n  return (\r\n    <header className=\"fixed top-0 left-0 right-0 h-16 bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg z-50\">\r\n      <div className=\"h-full flex items-center justify-between px-6\">\r\n        <h1 className=\"text-2xl font-bold\">{t('nav.dashboard')}</h1>\r\n        <LanguageToggle />\r\n      </div>\r\n    </header>\r\n  );\r\n});\r\n\r\nHeader.displayName = 'Header';\r\n\r\nexport default Header;\r\n\r\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;AAG3C;AACA;AACA;;;AAHA;;;;AAKA,MAAM,uBAAS,GAAA,wKAAK,CAAC,IAAI,SAAC;;IACxB,MAAM,IAAI,IAAA,4MAAe;IACzB,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAsB,EAAE;;;;;;8BACtC,6LAAC,uKAAc;;;;;;;;;;;;;;;;AAIvB;;QATY,4MAAe;;;;QAAf,4MAAe;;;;AAW3B,OAAO,WAAW,GAAG;uCAEN"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/BookingNotificationContext.tsx"],"sourcesContent":["// apps/dashboard/app/components/BookingNotificationContext.tsx\r\n// Context for managing booking notification badge count\r\n\r\n\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\ninterface BookingNotificationContextType {\r\n  unreadBookingsCount: number;\r\n  setUnreadBookingsCount: (count: number) => void;\r\n}\r\n\r\nconst BookingNotificationContext = createContext<BookingNotificationContextType | undefined>(undefined);\r\n\r\nexport function BookingNotificationProvider({ children }: { children: ReactNode }) {\r\n  const [unreadBookingsCount, setUnreadBookingsCount] = useState(0);\r\n\r\n  return (\r\n    <BookingNotificationContext.Provider\r\n      value={{\r\n        unreadBookingsCount,\r\n        setUnreadBookingsCount,\r\n      }}\r\n    >\r\n      {children}\r\n    </BookingNotificationContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useBookingNotifications() {\r\n  const context = useContext(BookingNotificationContext);\r\n  if (context === undefined) {\r\n    throw new Error('useBookingNotifications must be used within a BookingNotificationProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,+DAA+D;AAC/D,wDAAwD;;;;;;;;AAIxD;;;AAFA;;AASA,MAAM,2CAA6B,IAAA,8KAAa,EAA6C;AAEtF,SAAS,4BAA4B,EAAE,QAAQ,EAA2B;;IAC/E,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAC;IAE/D,qBACE,6LAAC,2BAA2B,QAAQ;QAClC,OAAO;YACL;YACA;QACF;kBAEC;;;;;;AAGP;GAbgB;KAAA;AAeT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/Sidebar.tsx"],"sourcesContent":["// apps/dashboard/app/components/Sidebar.tsx\r\n\r\n\"use client\";\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useAuth } from '@/lib/useAuth';\r\nimport { useTranslations } from 'next-intl';\r\nimport { getSupabaseClient } from '@/lib/supabaseClient';\r\nimport { useBookingNotifications } from './BookingNotificationContext';\r\n\r\nconst Sidebar = React.memo(() => {\r\n  const pathname = usePathname();\r\n  const { signOut, user } = useAuth();\r\n  const t = useTranslations();\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const subscriptionRef = useRef<any>(null);\r\n  const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n  const { unreadBookingsCount } = useBookingNotifications();\r\n\r\n  // Load unread summary on mount\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      loadUnreadSummary();\r\n      subscribeToUnreadUpdates();\r\n    }\r\n\r\n    return () => {\r\n      if (subscriptionRef.current) {\r\n        const supabase = getSupabaseClient();\r\n        supabase.removeChannel(subscriptionRef.current);\r\n      }\r\n    };\r\n  }, [user]);\r\n\r\n  const loadUnreadSummary = async () => {\r\n    try {\r\n      const res = await fetch(`${apiUrl}/messages/owner/unread-summary`, {\r\n        headers: {\r\n          'x-user-id': user?.id || '',\r\n        },\r\n      });\r\n\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setUnreadCount(data.unreadCount || 0);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading unread summary:', error);\r\n    }\r\n  };\r\n\r\n  const subscribeToUnreadUpdates = () => {\r\n    if (!user?.id) return;\r\n\r\n    const supabase = getSupabaseClient();\r\n    \r\n    // Subscribe to shop_messages for the owner's shops\r\n    // We'll need to get shop IDs first, but for now, subscribe to all and filter client-side\r\n    const channel = supabase\r\n      .channel('unread_messages_updates')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'INSERT',\r\n          schema: 'public',\r\n          table: 'shop_messages',\r\n          filter: 'sender_type=eq.customer',\r\n        },\r\n        () => {\r\n          // Reload unread summary when new customer message arrives\r\n          loadUnreadSummary();\r\n        }\r\n      )\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'UPDATE',\r\n          schema: 'public',\r\n          table: 'shop_messages',\r\n          filter: 'read_by_owner=eq.true',\r\n        },\r\n        () => {\r\n          // Reload unread summary when messages are marked as read\r\n          loadUnreadSummary();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    subscriptionRef.current = channel;\r\n  };\r\n\r\n  const navItems = [\r\n    { href: '/shops', label: t('nav.myShop'), icon: 'üè™' },\r\n    { href: '/assistant', label: t('nav.aiAssistant'), icon: 'ü§ñ', badge: unreadCount > 0 ? unreadCount : undefined },\r\n    { href: '/bookings', label: t('nav.bookings'), icon: 'üìÖ', badge: unreadBookingsCount > 0 ? unreadBookingsCount : undefined },\r\n    { href: '/settings', label: 'Settings', icon: '‚öôÔ∏è' },\r\n  ];\r\n\r\n  return (\r\n    <aside className=\"hidden lg:block w-64 bg-slate-900 text-white min-h-screen fixed left-0 top-0 pt-16\">\r\n      <nav className=\"p-4 flex flex-col h-full\">\r\n        <ul className=\"space-y-1 flex-1\">\r\n          {navItems.map((item) => {\r\n            const isActive = pathname === item.href || (item.href !== '/' && pathname?.startsWith(item.href));\r\n            return (\r\n              <li key={item.href}>\r\n                <Link\r\n                  href={item.href}\r\n                  className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors relative ${\r\n                    isActive\r\n                      ? 'bg-blue-600 text-white font-bold'\r\n                      : 'text-gray-300 hover:bg-slate-800 hover:text-white'\r\n                  }`}\r\n                >\r\n                  {isActive && (\r\n                    <span className=\"absolute left-0 top-0 bottom-0 w-1 bg-blue-400 rounded-r\"></span>\r\n                  )}\r\n                  <span className=\"text-xl\">{item.icon}</span>\r\n                  <span className={`font-medium ${isActive ? 'font-bold' : ''}`}>{item.label}</span>\r\n                  {item.badge !== undefined && item.badge > 0 && (\r\n                    <span className=\"ml-auto bg-[#3B82F6] text-white text-xs font-semibold rounded-full px-2 py-0.5 min-w-[20px] text-center\">\r\n                      {item.badge}\r\n                    </span>\r\n                  )}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n        \r\n        {/* User info and logout */}\r\n        <div className=\"mt-auto pt-4 border-t border-gray-700\">\r\n          {user && (\r\n            <div className=\"px-4 py-2 mb-2\">\r\n              <p className=\"text-sm text-gray-400 truncate\" title={user.email || undefined}>\r\n                {user.email}\r\n              </p>\r\n            </div>\r\n          )}\r\n          <button\r\n            onClick={signOut}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-800 hover:text-white transition-colors\"\r\n          >\r\n            <span className=\"text-xl\">üö™</span>\r\n            <span className=\"font-medium\">{t('nav.logout')}</span>\r\n          </button>\r\n        </div>\r\n      </nav>\r\n    </aside>\r\n  );\r\n});\r\n\r\nSidebar.displayName = 'Sidebar';\r\n\r\nexport default Sidebar;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 890, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/PublicLayoutWrapper.tsx"],"sourcesContent":["// apps/dashboard/app/components/PublicLayoutWrapper.tsx\r\n// Wrapper that applies public layout to all public routes\r\n// This is used in the root layout to ensure all public routes get the header\r\n\r\n\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport LanguageToggle from \"./LanguageToggle\";\r\n\r\nexport default function PublicLayoutWrapper({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Global Public Header - appears on ALL public pages */}\r\n      <header className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <Link href=\"/\" className=\"text-3xl font-bold text-blue-600 hover:text-blue-700\">\r\n              Bookyo\r\n            </Link>\r\n            <nav className=\"flex items-center gap-4\">\r\n              <LanguageToggle />\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main>\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,wDAAwD;AACxD,0DAA0D;AAC1D,6EAA6E;;;;;;AAI7E;AACA;AAHA;;;;AAKe,SAAS,oBAAoB,EAC1C,QAAQ,EAGT;IACC,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0KAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAuD;;;;;;0CAGhF,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,uKAAc;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOvB,6LAAC;0BACE;;;;;;;;;;;;AAIT;KA3BwB"}},
    {"offset": {"line": 976, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/lib/useBookingNotifications.ts"],"sourcesContent":["// apps/dashboard/lib/useBookingNotifications.ts\r\n// Hook for subscribing to booking notifications via Supabase Realtime\r\n\r\n\"use client\";\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\nimport { useAuth } from './useAuth';\r\nimport { getSupabaseClient } from './supabaseClient';\r\nimport { useBookingNotifications } from '../app/components/BookingNotificationContext';\r\n\r\nconst apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nexport function useBookingNotificationsHook() {\r\n  const { user } = useAuth();\r\n  const { setUnreadBookingsCount } = useBookingNotifications();\r\n  const subscriptionRef = useRef<any>(null);\r\n  const shopIdsRef = useRef<string[]>([]);\r\n\r\n  const reloadPendingCount = useCallback(async () => {\r\n    if (!user?.id) return;\r\n\r\n    try {\r\n      const bookingsRes = await fetch(`${apiUrl}/bookings`, {\r\n        headers: {\r\n          'x-user-id': user.id,\r\n        },\r\n      });\r\n\r\n      if (bookingsRes.ok) {\r\n        const bookingsData = await bookingsRes.json();\r\n        const bookings = Array.isArray(bookingsData) ? bookingsData : [];\r\n        const pendingCount = bookings.filter((booking: any) => booking.status === 'pending').length;\r\n        setUnreadBookingsCount(pendingCount);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error reloading pending bookings count:', error);\r\n    }\r\n  }, [user?.id, setUnreadBookingsCount]);\r\n\r\n  const subscribeToBookingUpdates = useCallback(() => {\r\n    if (!user?.id) return;\r\n\r\n    const supabase = getSupabaseClient();\r\n\r\n    // Subscribe to bookings table for INSERT and UPDATE events\r\n    const channel = supabase\r\n      .channel('booking_notifications')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'INSERT',\r\n          schema: 'public',\r\n          table: 'bookings',\r\n        },\r\n        async (payload: any) => {\r\n          const newBooking = payload.new;\r\n          \r\n          // Check if booking belongs to owner's shop and is pending\r\n          if (newBooking && newBooking.status === 'pending') {\r\n            // If we have shop IDs cached, check immediately\r\n            if (shopIdsRef.current.length > 0 && shopIdsRef.current.includes(newBooking.shop_id)) {\r\n              // Reload count to ensure accuracy\r\n              await reloadPendingCount();\r\n            } else {\r\n              // Otherwise, reload count to be safe\r\n              await reloadPendingCount();\r\n            }\r\n          }\r\n        }\r\n      )\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: 'UPDATE',\r\n          schema: 'public',\r\n          table: 'bookings',\r\n        },\r\n        async (payload: any) => {\r\n          const updatedBooking = payload.new;\r\n          const oldBooking = payload.old;\r\n\r\n          // If status changed from pending to something else, decrement\r\n          if (oldBooking?.status === 'pending' && updatedBooking?.status !== 'pending') {\r\n            // Reload count to ensure accuracy\r\n            await reloadPendingCount();\r\n          }\r\n          // If status changed to pending, reload count\r\n          else if (oldBooking?.status !== 'pending' && updatedBooking?.status === 'pending') {\r\n            await reloadPendingCount();\r\n          }\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    subscriptionRef.current = channel;\r\n  }, [user?.id, reloadPendingCount, setUnreadBookingsCount]);\r\n\r\n  // Load initial pending bookings count and get shop IDs\r\n  useEffect(() => {\r\n    if (!user?.id) {\r\n      setUnreadBookingsCount(0);\r\n      return;\r\n    }\r\n\r\n    const loadPendingBookingsCount = async () => {\r\n      try {\r\n        // First, get shop IDs for this owner\r\n        const shopsRes = await fetch(`${apiUrl}/shops`, {\r\n          headers: {\r\n            'x-user-id': user.id,\r\n          },\r\n        });\r\n\r\n        if (shopsRes.ok) {\r\n          const shopsData = await shopsRes.json();\r\n          const shops = Array.isArray(shopsData) ? shopsData : [];\r\n          shopIdsRef.current = shops.map((shop: any) => shop.id);\r\n\r\n          if (shopIdsRef.current.length === 0) {\r\n            setUnreadBookingsCount(0);\r\n            return;\r\n          }\r\n\r\n          // Get pending bookings count\r\n          const bookingsRes = await fetch(`${apiUrl}/bookings`, {\r\n            headers: {\r\n              'x-user-id': user.id,\r\n            },\r\n          });\r\n\r\n          if (bookingsRes.ok) {\r\n            const bookingsData = await bookingsRes.json();\r\n            const bookings = Array.isArray(bookingsData) ? bookingsData : [];\r\n            const pendingCount = bookings.filter((booking: any) => booking.status === 'pending').length;\r\n            setUnreadBookingsCount(pendingCount);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading pending bookings count:', error);\r\n      }\r\n    };\r\n\r\n    loadPendingBookingsCount();\r\n    subscribeToBookingUpdates();\r\n\r\n    return () => {\r\n      if (subscriptionRef.current) {\r\n        const supabase = getSupabaseClient();\r\n        supabase.removeChannel(subscriptionRef.current);\r\n      }\r\n    };\r\n  }, [user, setUnreadBookingsCount, subscribeToBookingUpdates]);\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/DashboardLayout.tsx"],"sourcesContent":["// apps/dashboard/app/components/DashboardLayout.tsx\r\n// Applies dashboard layout (Header, Sidebar, AuthGuard) only to non-auth routes\r\n// Auth routes are handled by (auth)/layout.tsx and render without dashboard UI\r\n\r\n\"use client\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport AuthGuard from \"./AuthGuard\";\r\nimport Header from \"./Header\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport PublicLayoutWrapper from \"./PublicLayoutWrapper\";\r\nimport OwnerPowerBot from \"./OwnerPowerBot\";\r\nimport { useBookingNotificationsHook } from \"@/lib/useBookingNotifications\";\r\n\r\n// Routes that should NOT have dashboard layout (Header, Sidebar, AuthGuard)\r\nconst authRoutes: string[] = [];\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const pathname = usePathname();\r\n  \r\n  // Route matching rules:\r\n  // DashboardLayout should ONLY apply to routes in the (owner) folder\r\n  // All other routes are public and use (public)/layout.tsx\r\n  const isOwnerRoute = useMemo(() => {\r\n    const route = pathname || \"\";\r\n    \r\n    // Owner dashboard routes (protected, should use DashboardLayout)\r\n    const ownerRoutes = [\r\n      '/shops', // Owner dashboard (not /shops/[id] which is public)\r\n      '/assistant',\r\n      '/bookings',\r\n      '/settings',\r\n    ];\r\n    \r\n    // Check exact matches\r\n    if (ownerRoutes.includes(route)) {\r\n      return true;\r\n    }\r\n    \r\n    // Check if it starts with owner route patterns\r\n    if (route.startsWith('/shops/services') || route.startsWith('/shops/staff')) {\r\n      return true;\r\n    }\r\n    \r\n    // Everything else is public (uses (public)/layout.tsx)\r\n    return false;\r\n  }, [pathname]);\r\n  \r\n  const isAuthRoute = useMemo(() => authRoutes.includes(pathname || \"\"), [pathname]);\r\n  \r\n  console.log(\"üî• DashboardLayout evaluating route:\", pathname, \"| isOwnerRoute:\", isOwnerRoute, \"| isAuthRoute:\", isAuthRoute);\r\n\r\n  // For auth routes, just pass through - login and signup handle their own styling\r\n  if (isAuthRoute) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  // For public routes, wrap with PublicLayoutWrapper (includes header)\r\n  if (!isOwnerRoute) {\r\n    console.log(\"üî• DashboardLayout: Applying PublicLayoutWrapper for public route:\", pathname);\r\n    return <PublicLayoutWrapper>{children}</PublicLayoutWrapper>;\r\n  }\r\n\r\n  // For owner dashboard routes, apply full dashboard layout with AuthGuard\r\n  return (\r\n    <AuthGuard>\r\n      <BookingNotificationsWrapper>\r\n        <Header />\r\n        <Sidebar />\r\n        <main className=\"lg:ml-64 pt-16 min-h-screen bg-gray-50\">\r\n          {children}\r\n        </main>\r\n      </BookingNotificationsWrapper>\r\n    </AuthGuard>\r\n  );\r\n}\r\n\r\n// Wrapper component to initialize booking notifications hook\r\nfunction BookingNotificationsWrapper({ children }: { children: React.ReactNode }) {\r\n  useBookingNotificationsHook();\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,oDAAoD;AACpD,gFAAgF;AAChF,+EAA+E;;;;;;AAI/E;AACA;AACA;AACA;AACA;AACA;AAEA;;;AATA;;;;;;;;AAWA,4EAA4E;AAC5E,MAAM,aAAuB,EAAE;AAEhB,SAAS,gBAAgB,EACtC,QAAQ,EAGT;;IACC,MAAM,WAAW,IAAA,oJAAW;IAE5B,wBAAwB;IACxB,oEAAoE;IACpE,0DAA0D;IAC1D,MAAM,eAAe,IAAA,wKAAO;iDAAC;YAC3B,MAAM,QAAQ,YAAY;YAE1B,iEAAiE;YACjE,MAAM,cAAc;gBAClB;gBACA;gBACA;gBACA;aACD;YAED,sBAAsB;YACtB,IAAI,YAAY,QAAQ,CAAC,QAAQ;gBAC/B,OAAO;YACT;YAEA,+CAA+C;YAC/C,IAAI,MAAM,UAAU,CAAC,sBAAsB,MAAM,UAAU,CAAC,iBAAiB;gBAC3E,OAAO;YACT;YAEA,uDAAuD;YACvD,OAAO;QACT;gDAAG;QAAC;KAAS;IAEb,MAAM,cAAc,IAAA,wKAAO;gDAAC,IAAM,WAAW,QAAQ,CAAC,YAAY;+CAAK;QAAC;KAAS;IAEjF,QAAQ,GAAG,CAAC,wCAAwC,UAAU,mBAAmB,cAAc,kBAAkB;IAEjH,iFAAiF;IACjF,IAAI,aAAa;QACf,qBAAO;sBAAG;;IACZ;IAEA,qEAAqE;IACrE,IAAI,CAAC,cAAc;QACjB,QAAQ,GAAG,CAAC,sEAAsE;QAClF,qBAAO,6LAAC,4KAAmB;sBAAE;;;;;;IAC/B;IAEA,yEAAyE;IACzE,qBACE,6LAAC,kKAAS;kBACR,cAAA,6LAAC;;8BACC,6LAAC,+JAAM;;;;;8BACP,6LAAC,gKAAO;;;;;8BACR,6LAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;;;;;;AAKX;GA9DwB;;QAKL,oJAAW;;;KALN;AAgExB,6DAA6D;AAC7D,SAAS,4BAA4B,EAAE,QAAQ,EAAiC;;IAC9E,IAAA,qLAA2B;IAC3B,qBAAO;kBAAG;;AACZ;IAHS;;QACP,qLAA2B;;;MADpB"}},
    {"offset": {"line": 1292, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/dashboard/messages/en.json"],"sourcesContent":["{\"common\":{\"save\":\"Save Changes\",\"cancel\":\"Cancel\",\"edit\":\"Edit\",\"delete\":\"Delete\",\"create\":\"Create\",\"update\":\"Update\",\"submit\":\"Submit\",\"submitting\":\"Submitting...\",\"loading\":\"Loading...\",\"error\":\"Error\",\"success\":\"Success\",\"or\":\"or\",\"confirm\":\"Confirm\",\"reject\":\"Reject\",\"yes\":\"Yes\",\"no\":\"No\",\"close\":\"Close\",\"for\":\"for\",\"keepIt\":\"Keep It\",\"updating\":\"Updating...\",\"cancelling\":\"Cancelling...\",\"rescheduling\":\"Rescheduling...\",\"unknown\":\"Unknown\",\"back\":\"Back\",\"next\":\"Next\",\"previous\":\"Previous\",\"search\":\"Search\",\"filter\":\"Filter\",\"actions\":\"Actions\",\"photos\":\"Photos\",\"name\":\"Name\",\"email\":\"Email\",\"phone\":\"Phone\",\"address\":\"Address\",\"website\":\"Website\",\"description\":\"Description\",\"price\":\"Price\",\"duration\":\"Duration\",\"status\":\"Status\",\"date\":\"Date\",\"time\":\"Time\",\"optional\":\"Optional\",\"required\":\"Required\"},\"auth\":{\"signInToShop\":\"Sign in to your shop\",\"password\":\"Password\",\"signingIn\":\"Signing in...\",\"signIn\":\"Sign In\",\"dontHaveAccount\":\"Don't have an account?\",\"createOwnerAccount\":\"Create Owner Account\",\"ownerName\":\"Owner Name\",\"creatingAccount\":\"Creating account...\",\"signUp\":\"Sign Up\",\"alreadyHaveAccount\":\"Already have an account?\",\"unexpectedError\":\"An unexpected error occurred\",\"fillRequiredFields\":\"Please fill in all required fields\",\"failedToSetupAccount\":\"Failed to setup account\"},\"nav\":{\"shops\":\"Shops\",\"ownerLogin\":\"Owner Login\",\"myShop\":\"My Shop\",\"aiAssistant\":\"AI Assistant\",\"bookings\":\"Bookings\",\"logout\":\"Logout\",\"dashboard\":\"Bookyo Dashboard\"},\"home\":{\"title\":\"Bookyo\",\"subtitle\":\"AI-powered booking assistant for salons in Tokyo\",\"browseShops\":\"Browse Shops\",\"ownerLogin\":\"Owner Login\",\"joinAsOwner\":\"Join as Owner\",\"feature1\":\"Let customers book online 24/7\",\"feature2\":\"AI assistant handles messages, reschedules and cancellations\",\"feature3\":\"Simple dashboard for shop owners\",\"forCustomers\":\"For Customers\",\"forCustomersDesc\":\"Find salons by category, browse services, and book online 24/7.\",\"forOwners\":\"For Owners\",\"forOwnersDesc\":\"Connect your shop, manage bookings, and let AI handle customer messages.\",\"aiAssistance\":\"AI Assistance\",\"aiAssistanceDesc\":\"Handles customer messages in Japanese or English, manages reschedules and cancellations.\"},\"booking\":{\"title\":\"Book an appointment\",\"service\":\"Service\",\"staff\":\"Staff\",\"staffOptional\":\"Staff (Optional)\",\"date\":\"Date\",\"time\":\"Time\",\"yourName\":\"Your Name\",\"yourEmail\":\"Your Email\",\"phone\":\"Phone (Optional)\",\"submit\":\"Book Now\",\"success\":\"Booking request submitted successfully!\",\"ownerWillConfirm\":\"The shop owner will confirm your appointment.\",\"anyAvailable\":\"Any available\",\"chooseService\":\"Choose Service\",\"chooseStaff\":\"Choose Staff\",\"chooseDate\":\"Choose Date\",\"chooseTimeslot\":\"Choose Timeslot\",\"yourInformation\":\"Your Information\",\"selectService\":\"Select a service\",\"selectStaff\":\"Select a staff member\",\"checkAvailability\":\"Check Availability\",\"bookAppointment\":\"Book Appointment\",\"bookingSuccessful\":\"Booking successful!\",\"bookingFailed\":\"Booking failed. Please try again.\",\"tryAgain\":\"Please try again\",\"timeslotSelected\":\"Timeslot selected!\",\"cancelBooking\":\"Cancel Booking\",\"rescheduleBooking\":\"Reschedule Booking\",\"cancelConfirm\":\"Are you sure you want to cancel this booking\",\"rescheduleConfirm\":\"Reschedule booking for\",\"current\":\"Current\",\"newDateTime\":\"New Date & Time\",\"cancelled\":\"Booking cancelled successfully!\",\"rescheduled\":\"Booking rescheduled successfully!\",\"failedToCancel\":\"Failed to cancel booking\",\"failedToReschedule\":\"Failed to reschedule booking\",\"failedToCreate\":\"Failed to create booking. Please try again.\"},\"chat\":{\"title\":\"Chat with AI assistant\",\"placeholder\":\"Type your message...\",\"send\":\"Send\",\"startConversation\":\"Start a conversation with the AI assistant\",\"noResponse\":\"No response\",\"errorEncountered\":\"Sorry, I encountered an error\",\"cannotRespond\":\"Sorry, I cannot respond at the moment. Please try again later.\"},\"categories\":{\"all\":\"All Categories\",\"barbershop\":\"Barbershop\",\"beauty_salon\":\"Beauty Salon\",\"eyelash\":\"Eyelash\",\"general_salon\":\"General Salon\",\"hair_salon\":\"Hair Salon\",\"nail_salon\":\"Nail Salon\",\"spa_massage\":\"Spa & Massage\",\"unknown\":\"Unknown\"},\"shops\":{\"search\":\"Search by name\",\"categories\":\"Categories\",\"found\":\"Found\",\"shop\":\"shop\",\"shops\":\"shops\",\"viewDetails\":\"View details\",\"loading\":\"Loading shops...\",\"noShops\":\"No shops found\",\"tryAdjusting\":\"Try adjusting your search or category filter\",\"notAvailable\":\"No shops are available at the moment\",\"contact\":\"Contact\",\"services\":\"Services\",\"staff\":\"Staff\",\"bookNow\":\"Book Now\",\"shopNotFound\":\"Shop not found\",\"shopDoesNotExist\":\"The shop you are looking for does not exist.\",\"invalidShopId\":\"Invalid shop ID\",\"failedToFetchShop\":\"Failed to fetch shop\",\"photos\":\"Photos\",\"photosWillAppear\":\"Photos will appear here once added by the shop owner.\",\"noServicesAvailable\":\"No services available.\",\"noStaffAvailable\":\"No staff information available.\"},\"myShop\":{\"title\":\"My Shop\",\"overview\":\"Overview\",\"services\":\"Services\",\"staff\":\"Staff\",\"bookings\":\"Bookings\",\"photos\":\"Photos\",\"shopName\":\"Shop Name\",\"address\":\"Address\",\"phone\":\"Phone\",\"email\":\"Email\",\"website\":\"Website\",\"city\":\"City\",\"country\":\"Country\",\"zipCode\":\"Zip Code\",\"description\":\"Description\",\"saveChanges\":\"Save Changes\",\"noShop\":\"You don't have a shop yet.\",\"createShop\":\"Create Shop\",\"claimShop\":\"Claim Shop\",\"getStarted\":\"Get Started\",\"createNewShop\":\"Create New Shop\",\"startFresh\":\"Start fresh with a new shop listing.\",\"claimExistingShop\":\"Claim Existing Shop\",\"claimOwnership\":\"Claim ownership of an existing shop.\",\"selectUnclaimedShop\":\"Select an unclaimed shop to claim ownership.\",\"noUnclaimedShops\":\"No unclaimed shops available.\",\"loading\":\"Loading shop details...\",\"createNewService\":\"Create New Service\",\"editService\":\"Edit Service\",\"serviceName\":\"Service Name\",\"serviceDescription\":\"Description\",\"servicePrice\":\"Price ($)\",\"serviceDuration\":\"Duration (minutes)\",\"noServices\":\"No services yet.\",\"createFirstService\":\"Create your first service above.\",\"addStaff\":\"Add New Staff Member\",\"editStaff\":\"Edit Staff Member\",\"firstName\":\"First Name\",\"lastName\":\"Last Name\",\"staffPhone\":\"Phone\",\"staffEmail\":\"Email\",\"noStaff\":\"No staff yet.\",\"addFirstStaff\":\"Add your first staff member above.\",\"noBookings\":\"No bookings yet.\",\"bookingsWillAppear\":\"Bookings will appear here when customers make reservations.\",\"customer\":\"Customer\",\"dateTime\":\"Date & Time\",\"service\":\"Service\",\"pending\":\"pending\",\"confirmed\":\"confirmed\",\"rejected\":\"rejected\",\"cancelled\":\"cancelled\",\"completed\":\"completed\",\"confirmBooking\":\"Confirm Booking\",\"rejectBooking\":\"Reject Booking\",\"areYouSureConfirm\":\"Are you sure you want to confirm this booking\",\"areYouSureReject\":\"Are you sure you want to reject this booking\",\"bookingConfirmed\":\"Booking confirmed successfully!\",\"bookingRejected\":\"Booking rejected successfully!\",\"failedToUpdateStatus\":\"Failed to update booking status\",\"uploadLogo\":\"Upload Logo\",\"changeLogo\":\"Change Logo\",\"uploadCover\":\"Upload Cover\",\"changeCover\":\"Change Cover\",\"uploadGalleryPhoto\":\"Upload Gallery Photo\",\"shopLogo\":\"Shop Logo\",\"coverPhoto\":\"Cover Photo\",\"galleryPhotos\":\"Gallery Photos\",\"noLogo\":\"No logo\",\"shopOverview\":\"Shop Overview\",\"editShop\":\"Edit Shop\",\"noGalleryPhotos\":\"No gallery photos yet. Upload your first photo!\",\"noCoverPhoto\":\"No cover photo\",\"photoUploaded\":\"Photo uploaded successfully!\",\"photoDeleted\":\"Photo deleted successfully!\",\"failedToUpload\":\"Failed to upload photo\",\"failedToDelete\":\"Failed to delete photo\",\"photosSaved\":\"Photos saved successfully!\"},\"status\":{\"pending\":\"Pending\",\"confirmed\":\"Confirmed\",\"rejected\":\"Rejected\",\"cancelled\":\"Cancelled\",\"completed\":\"Completed\"}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1292, "column": 7616}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1295, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/dashboard/messages/ja.json"],"sourcesContent":["{\"common\":{\"save\":\"Â§âÊõ¥„Çí‰øùÂ≠ò\",\"cancel\":\"„Ç≠„É£„É≥„Çª„É´\",\"edit\":\"Á∑®ÈõÜ\",\"delete\":\"ÂâäÈô§\",\"create\":\"‰ΩúÊàê\",\"update\":\"Êõ¥Êñ∞\",\"submit\":\"ÈÄÅ‰ø°\",\"submitting\":\"ÈÄÅ‰ø°‰∏≠...\",\"loading\":\"Ë™≠„ÅøËæº„Åø‰∏≠...\",\"error\":\"„Ç®„É©„Éº\",\"success\":\"ÊàêÂäü\",\"or\":\"„Åæ„Åü„ÅØ\",\"confirm\":\"Á¢∫Ë™ç\",\"reject\":\"ÊãíÂê¶\",\"yes\":\"„ÅØ„ÅÑ\",\"no\":\"„ÅÑ„ÅÑ„Åà\",\"close\":\"Èñâ„Åò„Çã\",\"for\":\"„ÅÆ\",\"keepIt\":\"‰øùÊåÅ„Åô„Çã\",\"updating\":\"Êõ¥Êñ∞‰∏≠...\",\"cancelling\":\"„Ç≠„É£„É≥„Çª„É´‰∏≠...\",\"rescheduling\":\"Â§âÊõ¥‰∏≠...\",\"unknown\":\"‰∏çÊòé\",\"back\":\"Êàª„Çã\",\"next\":\"Ê¨°„Å∏\",\"previous\":\"Ââç„Å∏\",\"search\":\"Ê§úÁ¥¢\",\"filter\":\"„Éï„Ç£„É´„Çø„Éº\",\"actions\":\"„Ç¢„ÇØ„Ç∑„Éß„É≥\",\"photos\":\"ÂÜôÁúü\",\"name\":\"ÂêçÂâç\",\"email\":\"„É°„Éº„É´\",\"phone\":\"ÈõªË©±\",\"address\":\"‰ΩèÊâÄ\",\"website\":\"„Ç¶„Çß„Éñ„Çµ„Ç§„Éà\",\"description\":\"Ë™¨Êòé\",\"price\":\"‰æ°Ê†º\",\"duration\":\"ÊôÇÈñì\",\"status\":\"„Çπ„ÉÜ„Éº„Çø„Çπ\",\"date\":\"Êó•‰ªò\",\"time\":\"ÊôÇÈñì\",\"optional\":\"‰ªªÊÑè\",\"required\":\"ÂøÖÈ†à\"},\"auth\":{\"signInToShop\":\"Â∫óËàó„Å´„Çµ„Ç§„É≥„Ç§„É≥\",\"password\":\"„Éë„Çπ„ÉØ„Éº„Éâ\",\"signingIn\":\"„Çµ„Ç§„É≥„Ç§„É≥‰∏≠...\",\"signIn\":\"„Çµ„Ç§„É≥„Ç§„É≥\",\"dontHaveAccount\":\"„Ç¢„Ç´„Ç¶„É≥„Éà„Çí„ÅäÊåÅ„Å°„Åß„Å™„ÅÑÂ†¥Âêà\",\"createOwnerAccount\":\"„Ç™„Éº„Éä„Éº„Ç¢„Ç´„Ç¶„É≥„Éà„Çí‰ΩúÊàê\",\"ownerName\":\"„ÅäÂêçÂâç\",\"creatingAccount\":\"„Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê‰∏≠...\",\"signUp\":\"„Ç¢„Ç´„Ç¶„É≥„Éà„Çí‰ΩúÊàê\",\"alreadyHaveAccount\":\"„Åô„Åß„Å´„Ç¢„Ç´„Ç¶„É≥„Éà„Çí„ÅäÊåÅ„Å°„ÅÆÂ†¥Âêà\",\"unexpectedError\":\"‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü\",\"fillRequiredFields\":\"„Åô„Åπ„Å¶„ÅÆÂøÖÈ†à„Éï„Ç£„Éº„É´„Éâ„Å´ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ\",\"failedToSetupAccount\":\"„Ç¢„Ç´„Ç¶„É≥„Éà„ÅÆË®≠ÂÆö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\"},\"nav\":{\"shops\":\"Â∫óËàó\",\"ownerLogin\":\"„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥\",\"myShop\":\"„Éû„Ç§„Ç∑„Éß„ÉÉ„Éó\",\"aiAssistant\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"bookings\":\"‰∫àÁ¥Ñ\",\"logout\":\"„É≠„Ç∞„Ç¢„Ç¶„Éà\",\"dashboard\":\"Bookyo„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ\"},\"home\":{\"title\":\"Bookyo\",\"subtitle\":\"Êù±‰∫¨„ÅÆ„Çµ„É≠„É≥Âêë„ÅëAI‰∫àÁ¥Ñ„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"browseShops\":\"Â∫óËàó„ÇíÊé¢„Åô\",\"ownerLogin\":\"„Ç™„Éº„Éä„Éº„É≠„Ç∞„Ç§„É≥\",\"joinAsOwner\":\"„Ç™„Éº„Éä„Éº„Å®„Åó„Å¶ÂèÇÂä†\",\"feature1\":\"„ÅäÂÆ¢Êßò„Åå24ÊôÇÈñì365Êó•„Ç™„É≥„É©„Ç§„É≥„Åß‰∫àÁ¥ÑÂèØËÉΩ\",\"feature2\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åå„É°„ÉÉ„Çª„Éº„Ç∏„ÄÅ‰∫àÁ¥ÑÂ§âÊõ¥„ÄÅ„Ç≠„É£„É≥„Çª„É´„ÇíÂá¶ÁêÜ\",\"feature3\":\"Â∫óËàó„Ç™„Éº„Éä„ÉºÂêë„Åë„ÅÆ„Ç∑„É≥„Éó„É´„Å™„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ\",\"forCustomers\":\"„ÅäÂÆ¢ÊßòÂêë„Åë\",\"forCustomersDesc\":\"„Ç´„ÉÜ„Ç¥„É™Âà•„Å´„Çµ„É≠„É≥„ÇíÊ§úÁ¥¢„Åó„ÄÅ„Çµ„Éº„Éì„Çπ„ÇíÈñ≤Ë¶ß„Åó„ÄÅ24ÊôÇÈñì365Êó•„Ç™„É≥„É©„Ç§„É≥„Åß‰∫àÁ¥Ñ„Åß„Åç„Åæ„Åô„ÄÇ\",\"forOwners\":\"„Ç™„Éº„Éä„ÉºÂêë„Åë\",\"forOwnersDesc\":\"Â∫óËàó„ÇíÊé•Á∂ö„Åó„ÄÅ‰∫àÁ¥Ñ„ÇíÁÆ°ÁêÜ„Åó„ÄÅAI„Å´È°ßÂÆ¢„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂá¶ÁêÜ„Åï„Åõ„Åæ„Åô„ÄÇ\",\"aiAssistance\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà\",\"aiAssistanceDesc\":\"Êó•Êú¨Ë™û„Åæ„Åü„ÅØËã±Ë™û„ÅßÈ°ßÂÆ¢„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂá¶ÁêÜ„Åó„ÄÅ‰∫àÁ¥ÑÂ§âÊõ¥„Å®„Ç≠„É£„É≥„Çª„É´„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ\"},\"booking\":{\"title\":\"‰∫àÁ¥Ñ„Åô„Çã\",\"service\":\"„Çµ„Éº„Éì„Çπ\",\"staff\":\"„Çπ„Çø„ÉÉ„Éï\",\"staffOptional\":\"„Çπ„Çø„ÉÉ„ÉïÔºà‰ªªÊÑèÔºâ\",\"date\":\"Êó•‰ªò\",\"time\":\"ÊôÇÈñì\",\"yourName\":\"„ÅäÂêçÂâç\",\"yourEmail\":\"„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ\",\"phone\":\"ÈõªË©±Áï™Âè∑Ôºà‰ªªÊÑèÔºâ\",\"submit\":\"‰∫àÁ¥Ñ„Åô„Çã\",\"success\":\"‰∫àÁ¥Ñ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÈÄÅ‰ø°„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"ownerWillConfirm\":\"Â∫óËàó„Ç™„Éº„Éä„Éº„Åå‰∫àÁ¥Ñ„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ\",\"anyAvailable\":\"Âà©Áî®ÂèØËÉΩ„Å™„Çπ„Çø„ÉÉ„Éï\",\"chooseService\":\"„Çµ„Éº„Éì„Çπ„ÇíÈÅ∏Êäû\",\"chooseStaff\":\"„Çπ„Çø„ÉÉ„Éï„ÇíÈÅ∏Êäû\",\"chooseDate\":\"Êó•‰ªò„ÇíÈÅ∏Êäû\",\"chooseTimeslot\":\"ÊôÇÈñìÂ∏Ø„ÇíÈÅ∏Êäû\",\"yourInformation\":\"„ÅäÂÆ¢ÊßòÊÉÖÂ†±\",\"selectService\":\"„Çµ„Éº„Éì„Çπ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ\",\"selectStaff\":\"„Çπ„Çø„ÉÉ„Éï„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ\",\"checkAvailability\":\"Á©∫„ÅçÁä∂Ê≥Å„ÇíÁ¢∫Ë™ç\",\"bookAppointment\":\"‰∫àÁ¥Ñ„Åô„Çã\",\"bookingSuccessful\":\"‰∫àÁ¥Ñ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\",\"bookingFailed\":\"‰∫àÁ¥Ñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"tryAgain\":\"„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ\",\"timeslotSelected\":\"ÊôÇÈñìÂ∏Ø„ÅåÈÅ∏Êäû„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"cancelBooking\":\"‰∫àÁ¥Ñ„Çí„Ç≠„É£„É≥„Çª„É´\",\"rescheduleBooking\":\"‰∫àÁ¥Ñ„ÇíÂ§âÊõ¥\",\"cancelConfirm\":\"„Åì„ÅÆ‰∫àÁ¥Ñ„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã\",\"rescheduleConfirm\":\"‰∫àÁ¥Ñ„ÇíÂ§âÊõ¥\",\"current\":\"ÁèæÂú®\",\"newDateTime\":\"Êñ∞„Åó„ÅÑÊó•ÊôÇ\",\"cancelled\":\"‰∫àÁ¥Ñ„Åå„Ç≠„É£„É≥„Çª„É´„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"rescheduled\":\"‰∫àÁ¥Ñ„ÅåÂ§âÊõ¥„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"failedToCancel\":\"‰∫àÁ¥Ñ„ÅÆ„Ç≠„É£„É≥„Çª„É´„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"failedToReschedule\":\"‰∫àÁ¥Ñ„ÅÆÂ§âÊõ¥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"failedToCreate\":\"‰∫àÁ¥Ñ„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ\"},\"chat\":{\"title\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÉÅ„É£„ÉÉ„Éà\",\"placeholder\":\"„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...\",\"send\":\"ÈÄÅ‰ø°\",\"startConversation\":\"AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÅÆ‰ºöË©±„ÇíÂßã„ÇÅ„Åæ„Åó„Çá„ÅÜ\",\"noResponse\":\"ÂøúÁ≠î„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\",\"errorEncountered\":\"Áî≥„ÅóË®≥„Åî„Åñ„ÅÑ„Åæ„Åõ„Çì„Åå„ÄÅ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü\",\"cannotRespond\":\"Áî≥„ÅóË®≥„Åî„Åñ„ÅÑ„Åæ„Åõ„Çì„Åå„ÄÅÁèæÂú®ÂøúÁ≠î„Åß„Åç„Åæ„Åõ„Çì„ÄÇÂæå„Åß„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ\"},\"categories\":{\"all\":\"„Åô„Åπ„Å¶„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº\",\"barbershop\":\"ÁêÜÈ´™Â∫ó\",\"beauty_salon\":\"ÁæéÂÆπ„Çµ„É≠„É≥\",\"eyelash\":\"„Åæ„Å§„Åí\",\"general_salon\":\"Á∑èÂêà„Çµ„É≠„É≥\",\"hair_salon\":\"„Éò„Ç¢„Çµ„É≠„É≥\",\"nail_salon\":\"„Éç„Ç§„É´„Çµ„É≠„É≥\",\"spa_massage\":\"„Çπ„Éë„Éª„Éû„ÉÉ„Çµ„Éº„Ç∏\",\"unknown\":\"‰∏çÊòé\"},\"shops\":{\"search\":\"ÂêçÂâç„ÅßÊ§úÁ¥¢\",\"categories\":\"„Ç´„ÉÜ„Ç¥„É™„Éº\",\"found\":\"Ë¶ã„Å§„Åã„Çä„Åæ„Åó„Åü\",\"shop\":\"Â∫óËàó\",\"shops\":\"Â∫óËàó\",\"viewDetails\":\"Ë©≥Á¥∞„ÇíË¶ã„Çã\",\"loading\":\"Â∫óËàó„ÇíË™≠„ÅøËæº„Åø‰∏≠...\",\"noShops\":\"Â∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü\",\"tryAdjusting\":\"Ê§úÁ¥¢„Åæ„Åü„ÅØ„Ç´„ÉÜ„Ç¥„É™„Éº„Éï„Ç£„É´„Çø„Éº„ÇíË™øÊï¥„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ\",\"notAvailable\":\"ÁèæÂú®Âà©Áî®ÂèØËÉΩ„Å™Â∫óËàó„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì\",\"contact\":\"ÈÄ£Áµ°ÂÖà\",\"services\":\"„Çµ„Éº„Éì„Çπ\",\"staff\":\"„Çπ„Çø„ÉÉ„Éï\",\"bookNow\":\"‰ªä„Åô„Åê‰∫àÁ¥Ñ\",\"shopNotFound\":\"Â∫óËàó„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì\",\"shopDoesNotExist\":\"„ÅäÊé¢„Åó„ÅÆÂ∫óËàó„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ\",\"invalidShopId\":\"ÁÑ°Âäπ„Å™Â∫óËàóID\",\"failedToFetchShop\":\"Â∫óËàó„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"photos\":\"ÂÜôÁúü\",\"photosWillAppear\":\"Â∫óËàó„Ç™„Éº„Éä„Éº„ÅåÂÜôÁúü„ÇíËøΩÂä†„Åô„Çã„Å®„ÄÅ„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ\",\"noServicesAvailable\":\"Âà©Áî®ÂèØËÉΩ„Å™„Çµ„Éº„Éì„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"noStaffAvailable\":\"„Çπ„Çø„ÉÉ„ÉïÊÉÖÂ†±„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\"},\"myShop\":{\"title\":\"„Éû„Ç§„Ç∑„Éß„ÉÉ„Éó\",\"overview\":\"Ê¶ÇË¶Å\",\"services\":\"„Çµ„Éº„Éì„Çπ\",\"staff\":\"„Çπ„Çø„ÉÉ„Éï\",\"bookings\":\"‰∫àÁ¥Ñ\",\"photos\":\"ÂÜôÁúü\",\"shopName\":\"Â∫óËàóÂêç\",\"address\":\"‰ΩèÊâÄ\",\"phone\":\"ÈõªË©±\",\"email\":\"„É°„Éº„É´\",\"website\":\"„Ç¶„Çß„Éñ„Çµ„Ç§„Éà\",\"city\":\"Â∏ÇÂå∫Áî∫Êùë\",\"country\":\"ÂõΩ\",\"zipCode\":\"ÈÉµ‰æøÁï™Âè∑\",\"description\":\"Ë™¨Êòé\",\"saveChanges\":\"Â§âÊõ¥„Çí‰øùÂ≠ò\",\"noShop\":\"„Åæ„Å†Â∫óËàó„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"createShop\":\"Â∫óËàó„Çí‰ΩúÊàê\",\"claimShop\":\"Â∫óËàó„ÇíÁî≥Ë´ã\",\"getStarted\":\"Âßã„ÇÅ„Çã\",\"createNewShop\":\"Êñ∞„Åó„ÅÑÂ∫óËàó„Çí‰ΩúÊàê\",\"startFresh\":\"Êñ∞„Åó„ÅÑÂ∫óËàó„É™„Çπ„Éà„Åã„ÇâÂßã„ÇÅ„Åæ„Åô„ÄÇ\",\"claimExistingShop\":\"Êó¢Â≠ò„ÅÆÂ∫óËàó„ÇíÁî≥Ë´ã\",\"claimOwnership\":\"Êó¢Â≠ò„ÅÆÂ∫óËàó„ÅÆÊâÄÊúâÊ®©„ÇíÁî≥Ë´ã„Åó„Åæ„Åô„ÄÇ\",\"selectUnclaimedShop\":\"ÊâÄÊúâÊ®©„ÇíÁî≥Ë´ã„Åô„ÇãÊú™Áî≥Ë´ã„ÅÆÂ∫óËàó„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"noUnclaimedShops\":\"Âà©Áî®ÂèØËÉΩ„Å™Êú™Áî≥Ë´ã„ÅÆÂ∫óËàó„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"loading\":\"Â∫óËàóË©≥Á¥∞„ÇíË™≠„ÅøËæº„Åø‰∏≠...\",\"createNewService\":\"Êñ∞„Åó„ÅÑ„Çµ„Éº„Éì„Çπ„Çí‰ΩúÊàê\",\"editService\":\"„Çµ„Éº„Éì„Çπ„ÇíÁ∑®ÈõÜ\",\"serviceName\":\"„Çµ„Éº„Éì„ÇπÂêç\",\"serviceDescription\":\"Ë™¨Êòé\",\"servicePrice\":\"‰æ°Ê†ºÔºàÂÜÜÔºâ\",\"serviceDuration\":\"ÊôÇÈñìÔºàÂàÜÔºâ\",\"noServices\":\"„Åæ„Å†„Çµ„Éº„Éì„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"createFirstService\":\"‰∏äË®ò„ÅßÊúÄÂàù„ÅÆ„Çµ„Éº„Éì„Çπ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"addStaff\":\"Êñ∞„Åó„ÅÑ„Çπ„Çø„ÉÉ„Éï„ÇíËøΩÂä†\",\"editStaff\":\"„Çπ„Çø„ÉÉ„Éï„ÇíÁ∑®ÈõÜ\",\"firstName\":\"Âêç\",\"lastName\":\"Âßì\",\"staffPhone\":\"ÈõªË©±\",\"staffEmail\":\"„É°„Éº„É´\",\"noStaff\":\"„Åæ„Å†„Çπ„Çø„ÉÉ„Éï„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"addFirstStaff\":\"‰∏äË®ò„ÅßÊúÄÂàù„ÅÆ„Çπ„Çø„ÉÉ„Éï„ÇíËøΩÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\",\"noBookings\":\"„Åæ„Å†‰∫àÁ¥Ñ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\",\"bookingsWillAppear\":\"„ÅäÂÆ¢Êßò„Åå‰∫àÁ¥Ñ„Çí„Åô„Çã„Å®„ÄÅ„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ\",\"customer\":\"„ÅäÂÆ¢Êßò\",\"dateTime\":\"Êó•ÊôÇ\",\"service\":\"„Çµ„Éº„Éì„Çπ\",\"pending\":\"‰øùÁïô‰∏≠\",\"confirmed\":\"Á¢∫Ë™çÊ∏à„Åø\",\"rejected\":\"ÊãíÂê¶\",\"cancelled\":\"„Ç≠„É£„É≥„Çª„É´Ê∏à„Åø\",\"completed\":\"ÂÆå‰∫Ü\",\"confirmBooking\":\"‰∫àÁ¥Ñ„ÇíÁ¢∫Ë™ç\",\"rejectBooking\":\"‰∫àÁ¥Ñ„ÇíÊãíÂê¶\",\"areYouSureConfirm\":\"„Åì„ÅÆ‰∫àÁ¥Ñ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã\",\"areYouSureReject\":\"„Åì„ÅÆ‰∫àÁ¥Ñ„ÇíÊãíÂê¶„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã\",\"bookingConfirmed\":\"‰∫àÁ¥Ñ„ÅåÁ¢∫Ë™ç„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"bookingRejected\":\"‰∫àÁ¥Ñ„ÅåÊãíÂê¶„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"failedToUpdateStatus\":\"‰∫àÁ¥Ñ„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"uploadLogo\":\"„É≠„Ç¥„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ\",\"changeLogo\":\"„É≠„Ç¥„ÇíÂ§âÊõ¥\",\"uploadCover\":\"„Ç´„Éê„ÉºÂÜôÁúü„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ\",\"changeCover\":\"„Ç´„Éê„ÉºÂÜôÁúü„ÇíÂ§âÊõ¥\",\"uploadGalleryPhoto\":\"„ÇÆ„É£„É©„É™„ÉºÂÜôÁúü„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ\",\"shopLogo\":\"Â∫óËàó„É≠„Ç¥\",\"coverPhoto\":\"„Ç´„Éê„ÉºÂÜôÁúü\",\"galleryPhotos\":\"„ÇÆ„É£„É©„É™„ÉºÂÜôÁúü\",\"noLogo\":\"„É≠„Ç¥„Å™„Åó\",\"shopOverview\":\"Â∫óËàóÊ¶ÇË¶Å\",\"editShop\":\"Â∫óËàó„ÇíÁ∑®ÈõÜ\",\"noGalleryPhotos\":\"„Åæ„Å†„ÇÆ„É£„É©„É™„ÉºÂÜôÁúü„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊúÄÂàù„ÅÆÂÜôÁúü„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ\",\"noCoverPhoto\":\"„Ç´„Éê„ÉºÂÜôÁúü„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\",\"photoUploaded\":\"ÂÜôÁúü„Åå„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"photoDeleted\":\"ÂÜôÁúü„ÅåÂâäÈô§„Åï„Çå„Åæ„Åó„ÅüÔºÅ\",\"failedToUpload\":\"ÂÜôÁúü„ÅÆ„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"failedToDelete\":\"ÂÜôÁúü„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\",\"photosSaved\":\"ÂÜôÁúü„Åå‰øùÂ≠ò„Åï„Çå„Åæ„Åó„ÅüÔºÅ\"},\"status\":{\"pending\":\"‰øùÁïô‰∏≠\",\"confirmed\":\"Á¢∫Ë™çÊ∏à„Åø\",\"rejected\":\"ÊãíÂê¶\",\"cancelled\":\"„Ç≠„É£„É≥„Çª„É´Ê∏à„Åø\",\"completed\":\"ÂÆå‰∫Ü\"}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1295, "column": 5767}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/81704/bookyo/apps/dashboard/app/components/NextIntlProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { NextIntlClientProvider } from 'next-intl';\r\nimport { ReactNode, useEffect, useState } from 'react';\r\n// Import default messages for SSR\r\nimport enMessages from '../../messages/en.json';\r\nimport jaMessages from '../../messages/ja.json';\r\n\r\n// Ensure messages are always valid objects\r\nconst defaultMessages = enMessages && typeof enMessages === 'object' ? enMessages : {};\r\nconst defaultJaMessages = jaMessages && typeof jaMessages === 'object' ? jaMessages : {};\r\n\r\nexport function NextIntlProviderWrapper({ children }: { children: ReactNode }) {\r\n  const [locale, setLocale] = useState<'en' | 'ja'>('en');\r\n  const [messages, setMessages] = useState<any>(defaultMessages); // Start with default messages\r\n\r\n  useEffect(() => {\r\n    // Get locale from cookie or localStorage\r\n    const getStoredLocale = (): 'en' | 'ja' => {\r\n      if (typeof window === 'undefined') return 'en';\r\n      \r\n      // Try cookie first\r\n      const cookies = document.cookie.split(';');\r\n      const langCookie = cookies.find(c => c.trim().startsWith('bookyo_language='));\r\n      if (langCookie) {\r\n        const value = langCookie.split('=')[1]?.trim();\r\n        if (value === 'en' || value === 'ja') {\r\n          return value;\r\n        }\r\n      }\r\n      \r\n      // Fallback to localStorage\r\n      const stored = localStorage.getItem('bookyo_language');\r\n      if (stored === 'en' || stored === 'ja') {\r\n        return stored;\r\n      }\r\n      \r\n      return 'en';\r\n    };\r\n\r\n    const currentLocale = getStoredLocale();\r\n    setLocale(currentLocale);\r\n    \r\n    // Set messages based on locale\r\n    if (currentLocale === 'ja') {\r\n      setMessages(defaultJaMessages);\r\n    } else {\r\n      setMessages(defaultMessages);\r\n    }\r\n  }, []);\r\n\r\n  // Listen for locale changes\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      // Check both cookie and localStorage\r\n      const cookies = document.cookie.split(';');\r\n      const langCookie = cookies.find(c => c.trim().startsWith('bookyo_language='));\r\n      let newLocale: 'en' | 'ja' | null = null;\r\n      \r\n      if (langCookie) {\r\n        const value = langCookie.split('=')[1]?.trim();\r\n        if (value === 'en' || value === 'ja') {\r\n          newLocale = value;\r\n        }\r\n      }\r\n      \r\n      // Fallback to localStorage if cookie not found\r\n      if (!newLocale) {\r\n        const stored = localStorage.getItem('bookyo_language');\r\n        if (stored === 'en' || stored === 'ja') {\r\n          newLocale = stored;\r\n        }\r\n      }\r\n      \r\n      if (newLocale) {\r\n        // Use functional update to avoid dependency on locale\r\n        setLocale(prevLocale => {\r\n          if (prevLocale !== newLocale) {\r\n            setMessages(newLocale === 'ja' ? defaultJaMessages : defaultMessages);\r\n            return newLocale;\r\n          }\r\n          return prevLocale;\r\n        });\r\n      }\r\n    };\r\n\r\n    // Listen for custom event when language changes\r\n    window.addEventListener('languageChanged', handleStorageChange);\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('languageChanged', handleStorageChange);\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []); // Empty dependency array - only set up listeners once\r\n\r\n  // Ensure messages is always a valid object with proper structure\r\n  const safeMessages = messages && typeof messages === 'object' ? messages : defaultMessages;\r\n  \r\n  // Validate that shops.photos exists in messages\r\n  if (process.env.NODE_ENV === 'development' && safeMessages.shops && !safeMessages.shops.photos) {\r\n    console.warn('‚ö†Ô∏è shops.photos missing in messages, adding fallback');\r\n    safeMessages.shops = {\r\n      ...safeMessages.shops,\r\n      photos: locale === 'ja' ? 'ÂÜôÁúü' : 'Photos',\r\n    };\r\n  }\r\n  \r\n  return (\r\n    <NextIntlClientProvider \r\n      locale={locale} \r\n      messages={safeMessages}\r\n      onError={(error) => {\r\n        // In development, log but don't crash\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.warn('next-intl error:', error);\r\n        }\r\n      }}\r\n      getMessageFallback={({ namespace, key, error }) => {\r\n        // Provide fallback for missing messages\r\n        if (key === 'shops.photos') {\r\n          return locale === 'ja' ? 'ÂÜôÁúü' : 'Photos';\r\n        }\r\n        return key;\r\n      }}\r\n    >\r\n      {children}\r\n    </NextIntlClientProvider>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}