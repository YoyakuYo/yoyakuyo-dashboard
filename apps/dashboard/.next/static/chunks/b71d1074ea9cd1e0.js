(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52144,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(63611);let t=[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"ja",name:"Japanese",flag:"ðŸ‡¯ðŸ‡µ"},{code:"zh",name:"Chinese",flag:"ðŸ‡¨ðŸ‡³"},{code:"vi",name:"Vietnamese",flag:"ðŸ‡»ðŸ‡³"},{code:"pt",name:"Portuguese",flag:"ðŸ‡µðŸ‡¹"},{code:"fr",name:"French",flag:"ðŸ‡«ðŸ‡·"},{code:"ru",name:"Russian",flag:"ðŸ‡·ðŸ‡º"},{code:"es",name:"Spanish",flag:"ðŸ‡ªðŸ‡¸"},{code:"ko",name:"Korean",flag:"ðŸ‡°ðŸ‡·"},{code:"th",name:"Thai",flag:"ðŸ‡¹ðŸ‡­"},{code:"de",name:"German",flag:"ðŸ‡©ðŸ‡ª"},{code:"it",name:"Italian",flag:"ðŸ‡®ðŸ‡¹"},{code:"ar",name:"Arabic",flag:"ðŸ‡¸ðŸ‡¦"},{code:"hi",name:"Hindi",flag:"ðŸ‡®ðŸ‡³"}];function l(){let{user:e}=(0,s.useAuth)(),[l,n]=(0,a.useState)("en"),[o,d]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1),[g,m]=(0,a.useState)(null),u="http://localhost:3000";(0,a.useEffect)(()=>{e?.id&&f()},[e]);let f=async()=>{try{d(!0);let r=await fetch(`${u}/users/me`,{headers:{"x-user-id":e?.id||""}});if(r.ok){let e=await r.json();n(e.preferredLanguage||"en")}}catch(e){console.error("Error loading preferences:",e)}finally{d(!1)}},h=async()=>{if(e?.id)try{c(!0),m(null);let r=await fetch(`${u}/users/me/preferences`,{method:"PATCH",headers:{"Content-Type":"application/json","x-user-id":e.id},body:JSON.stringify({preferredLanguage:l})}),a=await r.json();if(r.ok)m({type:"success",text:"Preferences saved successfully!"}),setTimeout(()=>{window.location.reload()},1e3);else{let e=a.error||"Failed to save preferences",r=a.details?`: ${a.details}`:"";console.error("API Error:",a),m({type:"error",text:`${e}${r}`})}}catch(e){console.error("Error saving preferences:",e),m({type:"error",text:`Failed to save preferences: ${e.message||"Network error"}`})}finally{c(!1)}};return o?(0,r.jsx)("div",{className:"p-8 flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):(0,r.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Settings"}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Language Preferences"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Choose your preferred language. All customer conversations will be translated to this language for you."}),(0,r.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,r.jsxs)("label",{className:`flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${l===e.code?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[(0,r.jsx)("input",{type:"radio",name:"preferredLanguage",value:e.code,checked:l===e.code,onChange:e=>n(e.target.value),className:"w-5 h-5 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-2xl",children:e.flag}),(0,r.jsx)("span",{className:"text-lg font-medium text-gray-900",children:e.name})]},e.code))}),(0,r.jsx)("button",{onClick:h,disabled:i,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Saving...":"Save Preferences"}),g&&(0,r.jsx)("div",{className:`mt-4 p-4 rounded-lg ${"success"===g.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:g.text})]})]})}e.s(["default",()=>l])}]);