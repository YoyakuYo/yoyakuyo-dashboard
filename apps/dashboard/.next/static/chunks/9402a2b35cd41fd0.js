(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11719,e=>{"use strict";var r=e.i(43476),a=e.i(71645),o=e.i(18566),t=e.i(63611);function s(){let{user:e}=(0,t.useAuth)(),s=(0,o.useRouter)(),[l,n]=(0,a.useState)(!1),[d,i]=(0,a.useState)(null),[c,u]=(0,a.useState)([]),[h,m]=(0,a.useState)({name:"",address:"",phone:"",email:"",category_id:""});a.default.useEffect(()=>{fetch("http://localhost:3000/categories").then(e=>e.json()).then(e=>{Array.isArray(e)&&u(e)}).catch(e=>console.error("Error fetching categories:",e))},[]);let g=async r=>{if(r.preventDefault(),!e)return void i("You must be logged in to create a shop");n(!0),i(null);try{let r=await fetch("http://localhost:3000/shops",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":e.id},body:JSON.stringify(h)});if(r.ok)await r.json(),s.push("/shops");else{let e=await r.json();i(e.error||"Failed to create shop")}}catch(e){console.error("Error creating shop:",e),i("Failed to create shop. Please try again.")}finally{n(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create Your Shop"}),d&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}),(0,r.jsxs)("form",{onSubmit:g,className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Shop Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"name",type:"text",value:h.name,onChange:e=>m(r=>({...r,name:e.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Your shop name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{id:"address",value:h.address,onChange:e=>m(r=>({...r,address:e.target.value})),required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Full address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{id:"category_id",value:h.category_id,onChange:e=>m(r=>({...r,category_id:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),c.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,r.jsx)("input",{id:"phone",type:"tel",value:h.phone,onChange:e=>m(r=>({...r,phone:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Phone number"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:h.email,onChange:e=>m(r=>({...r,email:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"shop@example.com"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Creating...":"Create Shop"}),(0,r.jsx)("button",{type:"button",onClick:()=>s.back(),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}e.s(["default",()=>s])}]);